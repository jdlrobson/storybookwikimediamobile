(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(module,exports,__webpack_require__){__webpack_require__(15),__webpack_require__(54),__webpack_require__(23),__webpack_require__(58),__webpack_require__(203),__webpack_require__(16),module.exports={saveButtonMessage:function(){return mw.config.get("wgEditSubmitButtonLabelPublish")?mw.msg("mobile-frontend-editor-publish"):mw.msg("mobile-frontend-editor-save")},Promise:{all:function(promises){return $.when.apply($,promises)}},escapeSelector:function(selector){return $.escapeSelector(selector)},grep:function(){return $.grep.apply($,arguments)},docReady:function(fn){return $(fn)},Deferred:function(){return $.Deferred()},getDocument:function(){return $(document.documentElement)},getWindow:function(){return $(window)},parseHTML:function(html,ctx){return ctx=ctx||document,$($.parseHTML(html,ctx))},isNumeric:function(){return $.isNumeric.apply($,arguments)},extend:function(){return $.extend.apply($,arguments)},escapeHash:function(hash){return hash.replace(/(:|\.)/g,"\\$1")},isModifiedEvent:function(ev){return ev.altKey||ev.ctrlKey||ev.metaKey||ev.shiftKey},repeatEvent:function(src,proxy,event,args){return src.on(event,function(args){return proxy.emit(event,args)},args)},template:function(source){return{getSource:function(){return source},render:function(data,partials){var partialSource={};return Object.keys(partials||{}).forEach(function(key){partialSource[key]=partials[key].getSource()}),Mustache.render(source.trim(),data,partialSource)}}}}},,function(module,__webpack_exports__,__webpack_require__){"use strict";function wrap(view,className,id,style){var container=document.createElement("div");return container.setAttribute("class",className),id&&container.setAttribute("id",id),style&&container.setAttribute("style",style),view.$el?container.appendChild(view.$el[0]):container.appendChild(view),container}__webpack_require__.d(__webpack_exports__,"a",function(){return wrap})},,,function(module,exports,__webpack_require__){__webpack_require__(15),__webpack_require__(45),__webpack_require__(26),__webpack_require__(7),__webpack_require__(23),__webpack_require__(59),__webpack_require__(183),__webpack_require__(16);var util=__webpack_require__(1),mfExtend=__webpack_require__(10),delegateEventSplitter=/^(\S+)\s*(.*)$/,idCounter=0;function View(){this.initialize.apply(this,arguments)}OO.mixinClass(View,OO.EventEmitter),mfExtend(View,{tagName:"div",isTemplateMode:!1,template:void 0,templatePartials:{},defaults:{},initialize:function(options){var self=this;OO.EventEmitter.call(this),options=util.extend({},this.defaults,options),this.options=options,this.cid=function uniqueId(prefix){var id=(++idCounter).toString();return prefix?prefix+id:id}("view"),"string"==typeof this.template&&(this.template=mw.template.compile(this.template)),this.$el=options.el?$(options.el):this.parseHTML("<"+this.tagName+">"),this.$el.length?this._postInitialize(options):util.docReady(function(){self.$el=$(options.el),self._postInitialize(options)})},_postInitialize:function(props){var className=props.className;this.$el.addClass(className),!1!==props.isBorderBox&&this.$el.addClass("view-border-box"),this.render({})},preRender:function(){},postRender:function(){},render:function(data){var $el,html;return util.extend(this.options,data),this.preRender(),this.undelegateEvents(),this.template&&!this.options.skipTemplateRender&&(html=this.template.render(this.options,this.templatePartials),this.isTemplateMode?($el=$(html),this.$el.replaceWith($el),this.$el=$el):this.$el.html(html)),this.postRender(),this.delegateEvents(),this},delegateEvents:function(events){var match,key,method;if(events=events||this.options.events)for(key in this.undelegateEvents(),events)"function"!=typeof(method=events[key])&&(method=this[events[key]]),method&&(match=key.match(delegateEventSplitter),this.delegate(match[1],match[2],method.bind(this)))},delegate:function(eventName,selector,listener){this.$el.on(eventName+".delegateEvents"+this.cid,selector,listener)},undelegateEvents:function(){this.$el&&this.$el.off(".delegateEvents"+this.cid)},undelegate:function(eventName,selector,listener){this.$el.off(eventName+".delegateEvents"+this.cid,selector,listener)},parseHTML:function(html){return util.parseHTML(html,document)}}),["append","prepend","appendTo","prependTo","after","before","insertAfter","insertBefore","remove","detach"].forEach(function(prop){View.prototype[prop]=function(){return this.$el[prop].apply(this.$el,arguments),this}}),View.make=function(){var options=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},children=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],view=new View(options);return children.forEach(function($child){view.append($child)}),view},module.exports=View},,,,function(module,exports){module.exports=function mfExtend(Child,ParentOrPrototype,prototype){for(var key in prototype?OO.inheritClass(Child,ParentOrPrototype):(OO.initClass(Child),prototype=ParentOrPrototype),prototype)Child.prototype[key]=prototype[key]}},,function(module,exports,__webpack_require__){var mfExtend=__webpack_require__(10),util=__webpack_require__(1),View=__webpack_require__(6);function Button(options){options.href&&(options.tagName="a"),View.call(this,options)}mfExtend(Button,View,{isTemplateMode:!0,defaults:{tagName:"a",disabled:!1,block:void 0,progressive:void 0,destructive:void 0,quiet:void 0,additionalClassNames:"",href:void 0,label:void 0},template:util.template('<{{tagName}} {{#disabled}}disabled{{/disabled}}\n{{#href}}href="{{href}}"{{/href}}\nclass="mw-ui-button {{#progressive}}mw-ui-progressive{{/progressive}}\n\t{{#block}}mw-ui-block{{/block}}\n\t{{#quiet}}mw-ui-quiet{{/quiet}}\n\t{{#destructive}}mw-ui-destructive{{/destructive}} {{additionalClassNames}}\n">{{label}}</{{tagName}}>')}),module.exports=Button},,,,,,,,,,function(module,exports,__webpack_require__){__webpack_require__(9),__webpack_require__(26);var View=__webpack_require__(6),header=__webpack_require__(28).header,Anchor=__webpack_require__(49),util=__webpack_require__(1),browser=__webpack_require__(204).getSingleton();function Overlay(props){this.isIos=browser.isIos(),View.call(this,util.extend(!0,{headerChrome:!1,className:"overlay"},props,{events:util.extend({"click .cancel, .confirm, .initial-header .back":"onExitClick",click:function(ev){ev.stopPropagation()}},props.events)}))}__webpack_require__(10)(Overlay,View,{template:util.template('\n{{^noHeader}}\n<div class="overlay-header-container header-container{{#headerChrome}}\n\theader-chrome{{/headerChrome}} position-fixed">\n</div>\n{{/noHeader}}\n<div class="overlay-content">\n\t{{>content}}\n</div>\n<div class="overlay-footer-container position-fixed"></div>\n\t'),hideTimeout:null,showSpinner:function(){this.$el.find(".spinner").removeClass("hidden")},hideSpinner:function(){this.$el.find(".spinner").addClass("hidden")},postRender:function(){var headers,footerAnchor=this.options.footerAnchor;this.$overlayContent=this.$el.find(".overlay-content"),this.isIos&&this.$el.addClass("overlay-ios"),footerAnchor&&this.$el.find(".overlay-footer-container").append(new Anchor(footerAnchor).$el),headers=this.options.headers||[header(this.options.heading,this.options.headerActions)],this.$el.find(".overlay-header-container").append(headers)},onExitClick:function(ev){var exit=function(){this.hide()}.bind(this);ev.preventDefault(),ev.stopPropagation(),this.options.onBeforeExit?this.options.onBeforeExit(exit,function(){}):exit()},show:function(){var $html=util.getDocument();this.scrollTop=window.pageYOffset,$html.addClass("overlay-enabled"),window.scrollTo(0,1),this.$el.addClass("visible"),null!==this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)},hide:function(){return util.getDocument().removeClass("overlay-enabled"),window.scrollTo(window.pageXOffset,this.scrollTop),this.hideTimeout=setTimeout(function(){this.$el.detach(),this.hideTimeout=null}.bind(this),0),this.emit("hide"),!0},showHidden:function(className){this.$el.find(".hideable").addClass("hidden"),this.$el.find(className).removeClass("hidden")}}),Overlay.make=function(options,view){var overlay=new Overlay(options);return overlay.$el.find(".overlay-content").append(view.$el),overlay},module.exports=Overlay},,,,,function(module,exports,__webpack_require__){__webpack_require__(68);var mfExtend=__webpack_require__(10),util=__webpack_require__(1),View=__webpack_require__(6);function Icon(options){options.hasText&&(options.modifier="mw-ui-icon-before ".concat(options.modifier||"")),options.href&&(options.tagName="a"),View.call(this,options)}mfExtend(Icon,View,{preRender:function(){this.setRotationClass()},setRotationClass:function(){var options=this.options;if(options.rotation)switch(options.rotation){case-180:case 180:options._rotationClass="mf-mw-ui-icon-rotate-flip";break;case-90:options._rotationClass="mf-mw-ui-icon-rotate-anti-clockwise";break;case 90:options._rotationClass="mf-mw-ui-icon-rotate-clockwise";break;case 0:break;default:throw new Error("Bad value for rotation given. Must be ±90, 0 or ±180.")}},isTemplateMode:!0,defaults:{rotation:0,hasText:!1,href:void 0,glyphPrefix:"mf",tagName:"div",isSmall:!1,base:"mw-ui-icon",name:"",modifier:"mw-ui-icon-element",title:""},getClassName:function(){return this.$el.attr("class")},getGlyphClassName:function(){return this.options.base+"-"+this.options.glyphPrefix+"-"+this.options.name},toHtmlString:function(){return this.parseHTML("<div>").append(this.$el).html()},template:util.template('\n<{{tagName}} class="{{base}} {{base}}-{{glyphPrefix}}-{{name}} {{modifier}} {{#isSmall}}mw-ui-icon-small{{/isSmall}} {{#_rotationClass}}{{_rotationClass}}{{/_rotationClass}} {{additionalClassNames}}"\n{{#id}}id="{{id}}"{{/id}}\n{{#href}}href="{{href}}"{{/href}}\n{{#title}}title="{{title}}"{{/title}}>{{label}}</{{tagName}}>\n\t')}),mw.log.deprecate(Icon.prototype,"toHtmlString",Icon.prototype.toHtmlString),module.exports=Icon},function(module,exports,__webpack_require__){__webpack_require__(9),__webpack_require__(53);var util=__webpack_require__(1),Button=__webpack_require__(12),icons=__webpack_require__(32);function makeHeader(heading,headerActions,headerCancel,additionalClassNames){var $el,html=util.template('\n<div class="overlay-header header '.concat(additionalClassNames||"",' hideable">\n\t<ul class="header-cancel">\n\t\t<li></li>\n\t</ul>\n\t{{{heading}}}\n\t{{#hasActions}}\n\t<div class="header-action"></div>\n\t{{/hasActions}}\n</div>\n\t\t')).render({hasActions:headerActions&&headerActions.length,isHidden:!1,heading:heading});return headerCancel=headerCancel||icons.cancel(),($el=util.parseHTML(html)).find("h2 span").addClass("truncated-text"),$el.find(".header-cancel li").append(headerCancel.$el),headerActions&&headerActions.length&&$el.find(".header-action").append(headerActions.map(function(component){return component.$el})),$el[0]}function header(heading,headerActions,headerCancel,additionalClassNames){return makeHeader(heading='<div class="overlay-title"><h2>'.concat(heading,"</h2></div>"),headerActions,headerCancel,additionalClassNames)}module.exports={savingHeader:function savingHeader(heading){return header(heading,[icons.spinner({additionalClassNames:"savespinner loading"})],icons.cancel(),"saving-header hidden")},saveHeader:function saveHeader(heading,additionalClassNames){return header(heading,[new Button({tagName:"button",additionalClassNames:"save submit",disabled:!0,label:util.saveButtonMessage()})],icons.back(),additionalClassNames)},formHeader:function formHeader(formHTML,headerActions,headerCancel,additionalClassNames){return makeHeader(formHTML,headerActions,headerCancel,additionalClassNames)},header:header}},,,,function(module,exports,__webpack_require__){var Icon=__webpack_require__(27),util=__webpack_require__(1);module.exports={CANCEL_GLYPH:"overlay-close",Icon:Icon,back:function(){return new Icon({tagName:"button",name:"back",additionalClassNames:"back",label:mw.msg("mobile-frontend-overlay-close")})},cancel:function(variant){var glyph=variant?"overlay-close-"+variant:"overlay-close";return new this.Icon({tagName:"button",name:glyph,additionalClassNames:"cancel",label:mw.msg("mobile-frontend-overlay-close")})},spinner:function(options){return(options=options||{}).additionalClassNames=options.additionalClassNames||"spinner loading",new this.Icon(util.extend(options,{name:"spinner",label:mw.msg("mobile-frontend-loading-message")}))},error:function(){return new Icon({name:"alert-invert",additionalClassNames:"load-fail-msg-icon"})},watchIcon:function(){return new this.Icon({name:"watch",additionalClassNames:"watch-this-article"})},watchedIcon:function(){return new this.Icon({name:"watched",additionalClassNames:"watch-this-article watched"})}}},,,,,,,function(module,exports,__webpack_require__){var ModuleLoader=__webpack_require__(724);module.exports=new ModuleLoader},,,,,,,,,,function(module,exports,__webpack_require__){function _typeof2(obj){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return _typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}__webpack_require__(30),__webpack_require__(31),__webpack_require__(44),__webpack_require__(33),__webpack_require__(8),__webpack_require__(83),__webpack_require__(84),__webpack_require__(7),__webpack_require__(46),__webpack_require__(38);var View=__webpack_require__(6),util=__webpack_require__(1),Anchor=function(_View){"use strict";function Anchor(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Anchor),_possibleConstructorReturn(this,_getPrototypeOf(Anchor).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Anchor,View),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Anchor,[{key:"isTemplateMode",get:function(){return!0}},{key:"defaults",get:function(){return{progressive:void 0,destructive:void 0,additionalClassNames:"",href:void 0,label:void 0}}},{key:"template",get:function(){return util.template('\n<a {{#href}}href="{{href}}"{{/href}} class="mw-ui-anchor\n\t{{#progressive}} mw-ui-progressive{{/progressive}}\n\t{{#destructive}} mw-ui-destructive{{/destructive}}\n\t {{additionalClassNames}}">{{label}}</a>\n\t')}}]),Anchor}();module.exports=Anchor},,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return fakeRouter}),__webpack_require__.d(__webpack_exports__,"a",function(){return fakeGateway}),__webpack_require__.d(__webpack_exports__,"c",function(){return thumbnails});__webpack_require__(7),__webpack_require__(34);var _src_mobile_startup_Thumbnail__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(157),_src_mobile_startup_Thumbnail__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_src_mobile_startup_Thumbnail__WEBPACK_IMPORTED_MODULE_2__),thumbnailData={"File:Pisang.jpg":{thumburl:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Pisang.jpg/963px-Pisang.jpg",thumbwidth:963,thumbheight:640,descriptionurl:"https://commons.wikimedia.org/wiki/File:Pisang.jpg",extmetadata:{Artist:{value:"<a href='//commons.wikimedia.org/wiki/User:Hariadhi' title='User:Hariadhi'>Hariadhi</a>",source:"commons-desc-page"},LicenseShortName:{value:"CC BY-SA 4.0",source:"commons-desc-page",hidden:""}}},"File:Bananas.jpg":{descriptionurl:"https://commons.wikimedia.org/wiki/File:Bananas.jpg",thumbWidth:400,thumbHeight:400,thumburl:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Bananas.jpg/800px-Bananas.jpg",extmetadata:{Artist:{value:'Steve Hopson, <a rel="nofollow" class="external text" href="http://www.stevehopson.com">www.stevehopson.com</a>',source:"commons-desc-page"},LicenseShortName:{value:"CC BY-SA 2.5",source:"commons-desc-page",hidden:""}}}},fakeRouter={on:function(){},navigateTo:function(){},getPath:function(){return"#/media"}},fakeGateway={getThumb:function(title){return new Promise(function(resolve,reject){thumbnailData[title]?resolve(thumbnailData[title]):reject()})}},thumbnails=[new _src_mobile_startup_Thumbnail__WEBPACK_IMPORTED_MODULE_2___default.a({filename:"File:Pisang.jpg"}),new _src_mobile_startup_Thumbnail__WEBPACK_IMPORTED_MODULE_2___default.a({filename:"File:Bananas.jpg"}),new _src_mobile_startup_Thumbnail__WEBPACK_IMPORTED_MODULE_2___default.a({filename:"File:Image with loading error hashahahhas.jpg"})]},,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return section}),__webpack_require__.d(__webpack_exports__,"a",function(){return otherSection});var section={anchor:"which_is_best",id:1,level:"2",line:"Which is the best banana dessert?",text:'<p>Clearly banoffee pie. <a href="#">Bananaman</a></p>\n\t<dl><dd>We must agree to disagree. <a href="#">Bananarama</a></dd></dl>'},otherSection={anchor:"where",id:2,level:"2",line:"Where do the best bananas come from?",text:'<p>Clearly Ecuador. <a href="#">Bananaman</a></p>'}},function(module,exports,__webpack_require__){__webpack_require__(15),__webpack_require__(207),__webpack_require__(16);var util=__webpack_require__(1),mfExtend=__webpack_require__(10),View=__webpack_require__(6);function Section(options){var self=this;options.tag="h"+options.level,this.line=options.line,this.text=options.text,this.hasReferences=options.hasReferences||!1,this.id=options.id||null,this.anchor=options.anchor,this.subsections=[],(options.subsections||[]).forEach(function(section){self.subsections.push(new Section(section))}),View.call(this,options)}mfExtend(Section,View,{template:util.template('\n<h{{level}} id="{{anchor}}">{{{line}}}</h{{level}}>\n{{{text}}}\n\t'),defaults:{line:void 0,text:""}}),module.exports=Section},,,,,,,,,,,function(module,exports,__webpack_require__){var icons=__webpack_require__(32),View=__webpack_require__(6);module.exports=function promisedView(promise){var view=new View({className:"promised-view"});return view.$el.append(icons.spinner().$el),promise.then(function(newView){view.$el.replaceWith(newView.$el),view.$el=newView.$el},function(errorView){errorView&&errorView.$el&&(view.$el.replaceWith(errorView.$el),view.$el=errorView.$el)}),view}},function(module,exports,__webpack_require__){var util=__webpack_require__(1),MessageBox=__webpack_require__(88),nearbyErrors={permission:{hasHeading:!1,msg:mw.msg("mobile-frontend-nearby-permission-denied")},location:{hasHeading:!1,msg:mw.msg("mobile-frontend-nearby-location-unavailable")},empty:{heading:mw.msg("mobile-frontend-nearby-noresults"),hasHeading:!0,msg:mw.msg("mobile-frontend-nearby-noresults-guidance")},http:{heading:mw.msg("mobile-frontend-nearby-error"),hasHeading:!0,msg:mw.msg("mobile-frontend-nearby-error-guidance")},incompatible:{heading:mw.msg("mobile-frontend-nearby-requirements"),hasHeading:!0,msg:mw.msg("mobile-frontend-nearby-requirements-guidance")}};module.exports=function(key){var message=nearbyErrors[key]||nearbyErrors.http;return new MessageBox(util.extend({className:"errorbox"},message))}},,,,,,,,,,,function(module,exports,__webpack_require__){var util=__webpack_require__(1),defaultParams={action:"query",formatversion:2};module.exports=function actionParams(otherParams){var scriptPath=mw.config.get("wgMFContentProviderScriptPath");return util.extend({},defaultParams,{origin:scriptPath?"*":void 0},otherParams)}},function(module,exports,__webpack_require__){var content=__webpack_require__(712);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){__webpack_require__(26),__webpack_require__(203);var mfExtend=__webpack_require__(10),View=__webpack_require__(6),util=__webpack_require__(1),collapseIcon=new(__webpack_require__(27))({name:"arrow",additionalClassNames:"cancel"});function Drawer(props){View.call(this,util.extend({closeOnScroll:!0,onBeforeHide:function(){}},props,{className:"drawer position-fixed ".concat(props&&props.className||"").trim()},{events:util.extend({"click .cancel":function(ev){ev.preventDefault(),this.hide()}.bind(this),click:function(ev){ev.stopPropagation()}},(props||{}).events)}))}mfExtend(Drawer,View,{minHideDelay:10,show:function(){var d=util.Deferred();return this.isVisible()?d.resolve():setTimeout(function(){this.$el.addClass("visible animated");var closeOnScroll=this.options.closeOnScroll;this.$el.parent().addClass("drawer-visible".concat(closeOnScroll?"":" has-drawer--with-scroll-locked")),setTimeout(function(){var $window=util.getWindow();$window.one("click.drawer",this.hide.bind(this)),closeOnScroll&&$window.one("scroll.drawer",this.hide.bind(this)),d.resolve()}.bind(this),this.minHideDelay)}.bind(this),this.minHideDelay),d.promise()},hide:function(){setTimeout(function(){this.$el.removeClass("visible"),this.options.onBeforeHide(),this.$el.parent().removeClass("drawer-visible has-drawer--with-scroll-locked"),util.getWindow().off(".drawer")}.bind(this),this.minHideDelay)},isVisible:function(){return this.$el.hasClass("visible")},toggle:function(){this.isVisible()?this.hide():this.show()},appendToElement:"body",postRender:function(){this.$el.prepend(collapseIcon.$el),this.options.children&&this.$el.append(this.options.children),util.docReady(function(){this.appendTo(this.appendToElement),this.$el.parent().addClass("has-drawer")}.bind(this))}}),module.exports=Drawer},function(module,exports,__webpack_require__){var View=__webpack_require__(6),util=__webpack_require__(1);function MessageBox(){View.apply(this,arguments)}__webpack_require__(10)(MessageBox,View,{isTemplateMode:!0,defaults:{},template:util.template('\n<div class="{{className}}">\n\t{{#heading}}<h2>{{heading}}</h2>{{/heading}}\n\t{{{msg}}}\n</div>\n\t')}),module.exports=MessageBox},,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){__webpack_require__(26);var util=__webpack_require__(1),storageKey="mobileFrontend/toast";function Toast(){mw.requestIdleCallback(this._showPending.bind(this))}Toast.prototype.show=function(msg,options){"string"==typeof options&&(mw.log.warn("The use of the cssClass parameter of Toast.show is deprecated, please convert it to an options object."),options={type:options}),options=util.extend({tag:"toast"},options),this.notification=mw.notify(msg,options)},Toast.prototype.hide=function(){void 0!==this.notification&&this.notification.then(function(notif){notif.close()})},Toast.prototype.showOnPageReload=function(content,options){return mw.storage.get(storageKey)?void mw.log.warn("A pending toast message already exits. The page should have been reloaded by now."):void mw.storage.set(storageKey,JSON.stringify({content:content,options:options}))},Toast.prototype._showPending=function(){var data=mw.storage.get(storageKey);data&&(data=JSON.parse(data),this.show(data.content,data.options),mw.storage.remove(storageKey))},module.exports=new Toast},function(module,exports,__webpack_require__){__webpack_require__(9),__webpack_require__(15),__webpack_require__(26),__webpack_require__(23),__webpack_require__(58),__webpack_require__(16);var View=__webpack_require__(6),util=__webpack_require__(1),mfExtend=__webpack_require__(10),Icon=__webpack_require__(27),icons=__webpack_require__(32),detailsButton=new(__webpack_require__(12))({label:mw.msg("mobile-frontend-media-details"),additionalClassNames:"button",progressive:!0}),slideLeftButton=new Icon({rotation:90,name:"arrow-invert"}),slideRightButton=new Icon({rotation:-90,name:"arrow-invert"}),LoadErrorMessage=__webpack_require__(214),ImageGateway=__webpack_require__(727),router=mw.loader.require("mediawiki.router");function ImageCarousel(options){this.gateway=options.gateway||new ImageGateway({api:options.api}),this.router=options.router||router,this.eventBus=options.eventBus,this.hasLoadError=!1,View.call(this,util.extend({className:"image-carousel",events:{"click .image-wrapper":"onToggleDetails","click .slider-button":"onSlide"}},options))}mfExtend(ImageCarousel,View,{template:util.template('\n<button class="prev slider-button"></button>\n<div class="main">\n\t<div class="image-wrapper">\n\t\t<div class="image"></div>\n\t</div>\n\t\x3c!-- cancel button will go here --\x3e\n\t<div class="image-details">\n\t\t\x3c!-- details button will go here --\x3e\n\t\t<p class="truncated-text">{{caption}}</p>\n\t\t<p class="license"><a href="#">{{licenseLinkMsg}}</a></p>\n\t</div>\n</div>\n<button class="next slider-button"></button>\n\t'),defaults:util.extend({},View.prototype.defaults,{licenseLinkMsg:mw.msg("mobile-frontend-media-license-link"),thumbnails:[]}),onSlide:function(ev){var newImageCarousel,nextThumbnail=this.$el.find(ev.target).closest(".slider-button").data("thumbnail"),title=nextThumbnail.options.filename;this.router.navigateTo(null,{path:"#/media/"+title,useReplaceState:!0}),this.options.title=nextThumbnail.options.filename,newImageCarousel=new ImageCarousel(this.options),this.$el.replaceWith(newImageCarousel.$el),this.$el=newImageCarousel.$el},preRender:function(){var self=this;this.options.thumbnails.forEach(function(thumbnail,i){thumbnail.getFileName()===self.options.title&&(self.options.caption=thumbnail.getDescription(),self.galleryOffset=i)})},_enableArrowImages:function(thumbs){var lastThumb,nextThumb,offset=this.galleryOffset;void 0===this.galleryOffset?(lastThumb=thumbs[thumbs.length-1],nextThumb=thumbs[0]):(lastThumb=thumbs[0===offset?thumbs.length-1:offset-1],nextThumb=thumbs[offset===thumbs.length-1?0:offset+1]),this.$el.find(".prev").data("thumbnail",lastThumb),this.$el.find(".next").data("thumbnail",nextThumb)},_disableArrowImages:function(){this.$el.find(".prev, .next").remove()},_handleRetry:function(){this.router.emit("hashchange")},postRender:function(){function showLoadFailMsg(){self.hasLoadError=!0,$spinner.hide(),$el.find(".image img").hide(),0===$el.find(".load-fail-msg").length&&new LoadErrorMessage({retryPath:self.router.getPath()}).on("retry",self._handleRetry.bind(self)).prependTo($el.find(".image"))}function addImageLoadClass(){$img.addClass("image-loaded")}var $img,$el=this.$el,$spinner=icons.spinner().$el,thumbs=this.options.thumbnails||[],self=this;2>thumbs.length?this._disableArrowImages():this._enableArrowImages(thumbs),this.$details=$el.find(".image-details"),$el.find(".image").append($spinner),this.$details.prepend(detailsButton.$el),this.gateway.getThumb(self.options.title).then(function(data){var author,url=data.descriptionurl+"#mw-jump-to-license";$spinner.hide(),self.thumbWidth=data.thumbwidth,self.thumbHeight=data.thumbheight,self.imgRatio=data.thumbwidth/data.thumbheight,($img=self.parseHTML("<img>",document)).on("load",addImageLoadClass).on("error",showLoadFailMsg),$img.attr("src",data.thumburl).attr("alt",self.options.caption),$el.find(".image").append($img),self.$details.addClass("is-visible"),self._positionImage(),$el.find(".image-details a").attr("href",url),data.extmetadata&&(data.extmetadata.LicenseShortName&&$el.find(".license a").text(data.extmetadata.LicenseShortName.value).attr("href",url),data.extmetadata.Artist&&(author=data.extmetadata.Artist.value.replace(/<.*?>/g,""),$el.find(".license").prepend(author+" &bull; "))),self.adjustDetails()},function(){showLoadFailMsg()}),this.eventBus.on("resize:throttled",this._positionImage.bind(this)),this._positionImage()},onToggleDetails:function(){this.hasLoadError||(this.$el.find(".cancel, .slider-button").toggle(),this.$details.toggle(),this._positionImage())},_positionImage:function(){var detailsHeight,windowWidth,windowHeight,windowRatio,$img,$window=util.getWindow();this.adjustDetails(),detailsHeight=this.$details.is(":visible")?this.$details.outerHeight():0,windowRatio=(windowWidth=$window.width())/(windowHeight=$window.height()-detailsHeight),$img=this.$el.find("img"),this.imgRatio>windowRatio?windowWidth<this.thumbWidth&&$img.css({width:windowWidth,height:"auto"}):windowHeight<this.thumbHeight&&$img.css({width:"auto",height:windowHeight}),this.$el.find(".image-wrapper").css("bottom",detailsHeight),this.$el.find(".slider-button.prev").append(slideLeftButton.$el),this.$el.find(".slider-button.next").append(slideRightButton.$el)},adjustDetails:function(){var windowHeight=util.getWindow().height();this.$el.find(".image-details").height()>.5*windowHeight&&this.$el.find(".image-details").css("max-height",.5*windowHeight)}}),module.exports=ImageCarousel},function(module,exports,__webpack_require__){__webpack_require__(53);var util=__webpack_require__(1),View=__webpack_require__(6);module.exports=function talkBoard(sections){var board,explanation=0<sections.length?mw.msg("mobile-frontend-talk-explained"):mw.msg("mobile-frontend-talk-explained-empty");return(board=new View({className:"talk-board"})).append([util.parseHTML('<p class="content-header">').text(explanation),util.parseHTML('<ul class="topic-title-list">').append(sections.map(function(section){return util.parseHTML("<li>").append(util.parseHTML("<a>").attr("href","#/talk/"+section.id).text(section.line))}))]),board}},function(module){module.exports=JSON.parse('{"@metadata":{"authors":["Amir E. Aharoni","André Costa","Andrew Garrett","Arthur Richards","Bahodir Mansurov","Bartosz Dziewoński","Brad Jorsch","Chad Horohoe","Dan Garry","Derk-Jan Hartman","Erik Möller","Étienne Beaulé","Federico Leva","Florian Schmidt","Joaquin Hernandez","Jon Robson","Juliusz Gonera","Katie Filbert","kghbln","Max Semenik","Patrick Reilly","Peter Collingbourne","Purodha Blissenbach","Raimond Spekking","Ryan Kaldari","Sam Reed","Sam Smith","Siebrand Mazeland","Srikanth Lakshmanan","Theo Patt","Tony Thomas","Yuki Shira","Yuri Astrakhan","Yuvaraj Pandian"]},"abusefilter-edit-builder-vars-user-mobile":"Whether or not a user is editing through the mobile interface","mobile-frontend-account-create-captcha-placeholder":"Enter confirmation code","mobile-frontend-categories-heading":"<strong>Categories</strong>","mobile-frontend-categories-subheading":"The page belongs to the following categories:","mobile-frontend-categories-nocat":"This page doesn\'t belong to any category, yet.","mobile-frontend-categories-add":"Add to category","mobile-frontend-categories-search":"Search categories","mobile-frontend-categories-nodata":"There was an error. Have you added some categories to save?","mobile-frontend-categories-summary":"Added to categories","mobile-frontend-categories-notification":"Categories have been updated.","mobile-frontend-categories-add-heading":"<strong>Add<span> $1</span> to new categories</strong>","mobile-frontend-categories-add-wait":"Saving categories, please wait.","mobile-frontend-categories-normal":"Content based","mobile-frontend-categories-hidden":"Organizational","mobile-frontend-changeslist-nocomment":"no edit summary","mobile-frontend-cite-error-title":"Error loading citations","mobile-frontend-cite-error":"A problem occurred while attempting to load citations due to a bad revision identifier.","mobile-frontend-cite-none-available":"There are no citations available for this page.","mobile-frontend-clear-search":"Clear","mobile-frontend-contributions-404-desc":"Cannot look for contributions without a user or with a user that does not exist.","mobile-frontend-contributions-404-title":"Bad username given","mobile-frontend-copyright":"Content is available under $1 unless otherwise noted.","mobile-frontend-desc":"Mobile Frontend","mobile-frontend-diffview-404-desc":"The ID for the revision you requested does not exist.","mobile-frontend-diffview-404-title":"Bad revision","mobile-frontend-diffview-anonymous":"Anonymous user","mobile-frontend-diffview-bytesadded":"$1 {{PLURAL:$1|byte|bytes}} added","mobile-frontend-diffview-bytesnochange":"No change in size","mobile-frontend-diffview-bytesremoved":"$1 {{PLURAL:$1|byte|bytes}} removed","mobile-frontend-diffview-comma":"$1, $2","mobile-frontend-diffview-editcount":"<div>$1</div> {{PLURAL:$1|edit|edits}}","mobile-frontend-diffview-title":"Changes","mobile-frontend-donate-image-anon":"Please log in to view the uploads page.","mobile-frontend-donate-image-login-action":"<strong>Media on {{SITENAME}} is donated by people like you.</strong><br />Log in to share your media.","mobile-frontend-donate-image-nouploads":"No uploads.","mobile-frontend-donate-image-title":"Uploads","mobile-frontend-donate-image-title-username":"Uploads by $1","mobile-frontend-donate-image-title-you":"Uploads by you","mobile-frontend-edit-login-action":"<strong>Help improve {{SITENAME}}.</strong><br />Log in to edit.","mobile-frontend-edit-signup-action":"<strong>Help improve {{SITENAME}}.</strong><br />Sign up to edit.","mobile-frontend-editor-abusefilter-disallow":"This edit cannot be saved because we have detected an issue.","mobile-frontend-editor-abusefilter-read-more":"Read more","mobile-frontend-editor-abusefilter-warning":"Warning: Are you sure you want to save this edit? There may be an issue with it.","mobile-frontend-editor-anon":"Edit without logging in","mobile-frontend-editor-anonwarning":"<strong>Warning</strong>: You are not logged in. Your IP address will be publicly visible if you make any edits. If you <strong>log in</strong> or <strong>create an account</strong>, your edits will be attributed to your username, along with other benefits.","mobile-frontend-editor-blocked-drawer-title":"You have been blocked from editing {{SITENAME}}","mobile-frontend-editor-blocked-drawer-title-partial":"You have been blocked from editing this page","mobile-frontend-editor-blocked-drawer-reason-header":"Reason for the block","mobile-frontend-editor-blocked-drawer-creator-header":"{{GENDER:$1|Blocked}} by","mobile-frontend-editor-blocked-drawer-expiry-header":"Block will expire in","mobile-frontend-editor-blocked-drawer-help":"Details","mobile-frontend-editor-generic-block-reason":"Unknown reason","mobile-frontend-editor-cancel":"Cancel","mobile-frontend-editor-cancel-confirm":"Do you really want to abandon your edit?","mobile-frontend-editor-captcha-try-again":"Wrong code, try again.","mobile-frontend-editor-continue":"Next","mobile-frontend-editor-disabled":"This page is protected to prevent vandalism.","mobile-frontend-editor-disabled-anon":"You need to log in to edit this page.","mobile-frontend-editor-editing":"Editing","mobile-frontend-editor-editing-page":"<span><strong>Editing</strong> $1</span>","mobile-frontend-editor-error":"Error, edit not saved.","mobile-frontend-editor-error-conflict":"Error, another user has edited this page.","mobile-frontend-editor-error-loading":"Error, can\'t load section.","mobile-frontend-editor-error-preview":"Error, something unexpected happened upon loading the preview. Please close and try again.","mobile-frontend-editor-keep-editing":"Keep editing","mobile-frontend-editor-licensing":"By saving changes, you agree to release your contribution under the $1 {{PLURAL:$2|license|licenses}}.","mobile-frontend-editor-licensing-with-terms":"By saving changes, you agree to the $1 and agree to release your contribution under the $2 {{PLURAL:$3|license|licenses}}.","mobile-frontend-editor-terms-link":"[$1 Terms of Use]","mobile-frontend-editor-new-page-confirm":"{{GENDER:$1|Are you sure you want to create}} a new page on {{SITENAME}}?","mobile-frontend-editor-placeholder":"This section is empty. Be the first to expand it!","mobile-frontend-editor-placeholder-new-page":"{{GENDER:$1|You are creating}} a new page on {{SITENAME}}!","mobile-frontend-editor-previewing-page":"<span><strong>Previewing</strong> $1</span>","mobile-frontend-editor-publish":"Publish","mobile-frontend-editor-save":"Save","mobile-frontend-editor-success":"Success! Your edit was published.","mobile-frontend-editor-success-landmark-1":"Congratulations, you are now a {{SITENAME}} editor!","mobile-frontend-editor-success-new-page":"Congratulations on creating a new page!","mobile-frontend-editor-summary-placeholder":"Example: Fixed typo, added content","mobile-frontend-editor-summary-request":"How did you improve the page?","mobile-frontend-editor-summary":"Summary:","mobile-frontend-editor-switch-editor":"Switch editor","mobile-frontend-editor-switch-visual-editor":"Switch to visual editing","mobile-frontend-editor-uploadenable":"Please upload a photo first to enable editing.","mobile-frontend-editor-viewing-source-page":"<strong>Viewing source of</strong><span> $1</span>","mobile-frontend-editor-wait":"Saving edit, please wait.","mobile-frontend-editor-loading":"Loading editor…","mobile-frontend-expand-sections-description":"Always expand sections of all pages by default.","mobile-frontend-expand-sections-status":"Expand all sections","mobile-frontend-fontchanger-link":"Font size","mobile-frontend-fontchanger-desc":"Adjust font size for better readability.","mobile-frontend-fontchanger-option-small":"Small","mobile-frontend-fontchanger-option-medium":"Regular","mobile-frontend-fontchanger-option-large":"Large","mobile-frontend-fontchanger-option-xlarge":"Extra large","mobile-frontend-featured-article":"Today\'s featured content","mobile-frontend-generic-404-desc":"The page you are looking for could not be found.","mobile-frontend-generic-404-title":"Error - Page not found","mobile-frontend-generic-login-new":"<strong>{{SITENAME}} is made by people like you.</strong><br />Log in to contribute.","mobile-frontend-history-404-desc":"Cannot look at history for a page that doesn\'t exist. It may have been deleted or you may have followed a bad link.","mobile-frontend-history-404-title":"No such page","mobile-frontend-history-no-results":"The filter provided no history matches.","mobile-frontend-joined-just-now":"{{GENDER:$1|Joined}} just now","mobile-frontend-joined-seconds":"{{GENDER:$1|Joined}} {{PLURAL:$2|$2 second|$2 seconds}} ago","mobile-frontend-joined-minutes":"{{GENDER:$1|Joined}} {{PLURAL:$2|$2 minute|$2 minutes}} ago","mobile-frontend-joined-hours":"{{GENDER:$1|Joined}} {{PLURAL:$2|$2 hour|$2 hours}} ago","mobile-frontend-joined-days":"{{GENDER:$1|Joined}} {{PLURAL:$2|$2 day|$2 days}} ago","mobile-frontend-joined-months":"{{GENDER:$1|Joined}} {{PLURAL:$2|$2 month|$2 months}} ago","mobile-frontend-joined-years":"{{GENDER:$1|Joined}} {{PLURAL:$2|$2 year|$2 years}} ago","mobile-frontend-language-heading":"<strong>Languages</strong>","mobile-frontend-languages-404-desc":"A valid title must be specified.","mobile-frontend-languages-404-title":"Languages error","mobile-frontend-languages-header":"Languages","mobile-frontend-languages-header-page":"$1 - Other languages","mobile-frontend-languages-nonexistent-title":"The page \\"$1\\" does not exist.","mobile-frontend-languages-text":"$1 is available in $2 other {{PLURAL:$2|language|languages}}.","mobile-frontend-languages-variant-header":"{{#language:{{CONTENTLANG}}}} variants","mobile-frontend-languages-structured-overlay-suggested-languages-header":"Suggested languages","mobile-frontend-languages-structured-overlay-all-languages-header":"Other languages","mobile-frontend-languages-structured-overlay-search-input-placeholder":"Search for a language","mobile-frontend-last-modified-date":"Last edited on $1, at $2","mobile-frontend-last-modified-with-user-days":"[$4 Last {{GENDER:$1|edited}} {{PLURAL:$3|$3 day|$3 days}} ago] by {{PLURAL:$5|[$6 $2]|0=an anonymous user}}","mobile-frontend-last-modified-with-user-hours":"[$4 Last {{GENDER:$1|edited}} {{PLURAL:$3|$3 hour|$3 hours}} ago] by {{PLURAL:$5|[$6 $2]|0=an anonymous user}}","mobile-frontend-last-modified-with-user-just-now":"[$3 Last {{GENDER:$1|edited}}] just now by {{PLURAL:$4|[$5 $2]|0=an anonymous user}}","mobile-frontend-last-modified-with-user-minutes":"[$4 Last {{GENDER:$1|edited}} {{PLURAL:$3|$3 minute|$3 minutes}} ago] by {{PLURAL:$5|[$6 $2]|0=an anonymous user}}","mobile-frontend-last-modified-with-user-months":"[$4 Last {{GENDER:$1|edited}} {{PLURAL:$3|$3 month|$3 months}} ago] by {{PLURAL:$5|[$6 $2]|0=an anonymous user}}","mobile-frontend-last-modified-with-user-seconds":"[$4 Last {{GENDER:$1|edited}} {{PLURAL:$3|$3 second|$3 seconds}} ago] by {{PLURAL:$5|[$6 $2]|0=an anonymous user}}","mobile-frontend-last-modified-with-user-years":"[$4 Last {{GENDER:$1|edited}} {{PLURAL:$3|$3 year|$3 years}} ago] by {{PLURAL:$5|[$6 $2]|0=an anonymous user}}","mobile-frontend-main-menu":"Main Menu","mobile-frontend-main-menu-page-title":"Site navigation","mobile-frontend-main-menu-settings-heading":"Settings","mobile-frontend-media-details":"Details","mobile-frontend-media-license-link":"License information","mobile-frontend-media-load-fail-message":"There was an error while loading this image.","mobile-frontend-media-load-fail-retry":"Refresh","mobile-frontend-missing-image":"Image","mobile-frontend-nearby-distance":"{{PLURAL:$1|$1 km}}","mobile-frontend-nearby-distance-meters":"{{PLURAL:$1|$1 m}}","mobile-frontend-nearby-error":"{{SITENAME}} Nearby is having some issues.","mobile-frontend-nearby-error-guidance":"Try refreshing your location.","mobile-frontend-nearby-noresults":"Quiet out here... There weren\'t any pages found with nearby topics.","mobile-frontend-nearby-noresults-guidance":"Try creating a new page or adding location to an existing one","mobile-frontend-nearby-permission-denied":"You have denied access to Location Services for {{SITENAME}}. To change this please visit your browser or device settings","mobile-frontend-nearby-location-unavailable":"{{SITENAME}} cannot determine your location. Please try again with a better signal.","mobile-frontend-nearby-requirements":"Sorry! Your web browser doesn\'t support {{SITENAME}} Nearby.","mobile-frontend-nearby-requirements-guidance":"Try a different browser or enable JavaScript if you\'ve disabled it.","mobile-frontend-nearby-title":"Nearby","mobile-frontend-nearby-info-heading":"Places around you","mobile-frontend-nearby-info-description":"You can read about interesting {{SITENAME}} articles about places around you","mobile-frontend-nearby-info-show-button":"Show nearby articles","mobile-frontend-news-items":"In the news","mobile-frontend-opt-in-explain":"{{SITENAME}} βeta is a way for you to try these experimental features and provide us with valuable feedback","mobile-frontend-overlay-close":"Close","mobile-frontend-photo-upload-invalid-user":"User \\"$1\\" is not registered.","mobile-frontend-photo-upload-user-count":"{{PLURAL:$1|<span>1</span> upload|<span>$1</span> uploads}}","mobile-frontend-photo-upload-user-count-over-limit":"500+ uploads","mobile-frontend-privacy-link-text":"Privacy","mobile-frontend-references-citation":"Citation","mobile-frontend-references-citation-error":"An error occurred and it was not possible to load this citation.","mobile-frontend-references-list":"View full list of citations","mobile-frontend-requires-mobile":"This page is not available on desktop. Please click the mobile view link at the bottom of the page.","mobile-frontend-requires-optin":"This page is not available unless you opt into our beta mode. Visit the [[Special:MobileOptions|settings page]] to opt in.","mobile-frontend-requires-title":"Page unavailable","mobile-frontend-return-to-page":"Return to page","mobile-frontend-save-error":"Error saving settings. Please make sure that you have cookies enabled.","mobile-frontend-save-settings":"Save","mobile-frontend-search-content":"Search within pages","mobile-frontend-search-content-no-results":"<b>{{int:mobile-frontend-search-content}}</b> to see if this phrase appears anywhere.","mobile-frontend-search-no-results":"No page with this title.","mobile-frontend-settings-tagline":"Reading preferences","mobile-frontend-settings-beta":"{{SITENAME}} βeta","mobile-frontend-settings-save":"Settings were saved.","mobile-frontend-talk-fullpage":"Read as wiki page","mobile-frontend-talk-add-overlay-content-placeholder":"What is on your mind?","mobile-frontend-talk-add-overlay-subject-placeholder":"Subject","mobile-frontend-talk-add-overlay-submit":"Add discussion","mobile-frontend-talk-explained":"The following conversations are currently active","mobile-frontend-talk-explained-empty":"There are no conversations about this page.","mobile-frontend-talk-overlay-header":"Talk","mobile-frontend-talk-reply":"Reply","mobile-frontend-talk-reply-info":"Note your reply will be automatically signed with your username.","mobile-frontend-talk-reply-success":"Your reply was saved to the talk page.","mobile-frontend-talk-topic-feedback":"New topic added to talk page!","mobile-frontend-talk-topic-error":"The topic can\'t be added due to an unknown error.","mobile-frontend-talk-topic-error-protected":"This talk page is protected, you don\'t have the permission to add topics to it.","mobile-frontend-talk-topic-error-permission":"The topic can\'t be added. You don\'t have the permission to edit pages.","mobile-frontend-talk-topic-error-spam":"The topic was refused because it contained a spam fragment.","mobile-frontend-talk-topic-error-badtoken":"There was an error on the server. Your edit can\'t be saved. Try reloading this page.","mobile-frontend-talk-topic-wait":"Saving your new topic, please wait.","mobile-frontend-terms-text":"Terms of Use","mobile-frontend-terms-url":"","mobile-frontend-view":"Mobile view","mobile-frontend-view-desktop":"Desktop","mobile-frontend-watchlist-a-z":"List","mobile-frontend-watchlist-a-z-empty-howto":"You are not currently watching any pages. Your watchlist helps you keep track of the pages that you are interested in. Watch pages by tapping the star icon.","mobile-frontend-watchlist-a-z-empty-howto-alt":"Click the star icon","mobile-frontend-watchlist-add":"Added $1 to your watchlist","mobile-frontend-watchlist-back-home":"Back home","mobile-frontend-watchlist-cta":"Keep track of this page and all changes to it.","mobile-frontend-watchlist-cta-button-login":"Log in","mobile-frontend-watchlist-cta-button-signup":"Sign up","mobile-frontend-watchlist-feed":"Modified","mobile-frontend-watchlist-feed-empty":"There are no pages with recent changes.","mobile-frontend-watchlist-filter-all":"All","mobile-frontend-watchlist-filter-articles":"Pages","mobile-frontend-watchlist-filter-other":"Other","mobile-frontend-watchlist-filter-talk":"Talk","mobile-frontend-watchlist-more":"more","mobile-frontend-watchlist-please-wait":"Please wait, the watch action is taking longer than expected.","mobile-frontend-watchlist-error":"There was a problem watching this page. Please try again.","mobile-frontend-watchlist-purpose":"<strong>A watchlist helps you bookmark pages and keep track of changes to them.</strong><br />Log in to see it.","mobile-frontend-watchlist-removed":"Removed $1 from your watchlist","mobile-frontend-watchlist-signup-action":"<strong>A watchlist helps you bookmark pages and keep track of changes to them.</strong><br />Sign up to start one now.","mobile-frontend-user-page-no-owner-page-yet":"You don\'t have a user page yet","mobile-frontend-user-page-no-page-yet":"No user page for $1","mobile-frontend-user-page-describe-yourself":"You can describe yourself to fellow $1 on your user page","mobile-frontend-user-page-describe-yourself-editors":"editors","mobile-frontend-user-page-desired-action":"This page should be created and edited by $1","mobile-frontend-user-page-create-owner-page-link-label":"Create your own","mobile-frontend-user-page-create-user-page-link-label":"Create a page called $1","mobile.css":"/* CSS placed here will affect users of the mobile site */","mobile.js":"/* Any JavaScript here will be loaded for users using the mobile site */","nearby":"Pages on topics near you","tag-mobile_edit":"Mobile edit","tag-mobile_edit-description":"Edit made from mobile (web or app)","tag-advanced_mobile_edit":"Advanced mobile edit","tag-advanced_mobile_edit-description":"Edit made by user with Advanced mode","tag-mobile_web_edit":"Mobile web edit","tag-mobile_web_edit-description":"Edit made from mobile web site","mobile-frontend-loading-message":"Loading…","mobile-frontend-panel-ok":"Okay","mobile-frontend-panel-cancel":"No thanks","mobile-frontend-panel-betaoptin-msg":"Do you want to try some new features? By joining the beta, you will get access to experimental features, at the risk of encountering bugs and issues.","mobile-frontend-search-feedback-link-text":"Give us your feedback.","mobile-frontend-search-feedback-prompt":"Couldn\'t find what you were looking for?","mobile-frontend-notifications-filter-title":"Filter notifications","mobile-frontend-mobile-option-MFEnableWikidataDescriptions":"Title descriptions","mobile-frontend-mobile-option-MFEnableWikidataDescriptions-description":"Learn about the subject of the page with a short description below the title","mobile-frontend-send-feedback":"Send feedback","mobile-frontend-mobile-option-MFLazyLoadImages-description":"Load images only when needed.","mobile-frontend-mobile-option-MFLazyLoadImages":"Lazy load images","mobile-frontend-mobile-option-MFShowFirstParagraphBeforeInfobox":"Lead paragraph","mobile-frontend-mobile-option-MFShowFirstParagraphBeforeInfobox-description":"Text will always show above infoboxes, improving performance and readability.","mobile-frontend-mobile-option-MFEnableFontChanger":"Font size","mobile-frontend-mobile-option-MFEnableFontChanger-description":"Control the font size of your reading experience.","mobile-frontend-mobile-option-amc":"Advanced mode","mobile-frontend-mobile-option-amc-experiment-description":"We are actively developing new features for advanced editors. By turning this mode on you will automatically get new features as they are released. Any feedback or collaboration would be appreciated.","mobile-frontend-mobile-option-amc-learn-more":"Learn more","mobile-frontend-mobile-option-amc-send-feedback":"Send feedback","mobile-frontend-amc-outreach-intro":"Introducing Advanced Mode","mobile-frontend-amc-outreach-description":"Advanced mode makes it easier to access Talk pages, History pages, Recent changes, and other editor tools on mobile.","mobile-frontend-amc-outreach-enable":"Enable advanced mode","mobile-frontend-amc-outreach-no-thanks":"No thanks","mobile-frontend-amc-outreach-enabled-message":"Advanced mode is now enabled. You can turn it off in your settings.","mobile-frontend-amc-outreach-dismissed-message":"You can enable Advanced mode at any time in your Settings.","mobile-frontend-beta-only":"Feature only available in beta mode","mobile-frontend-console-recruit":"Learn more about how we build our mobile site @ https://www.mediawiki.org/wiki/Extension:MobileFrontend","mobile-frontend-special-pages-pref":"Optimize and simplify special pages when on mobile (recommended)","prefs-mobile":"Mobile preferences"}')},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){var content=__webpack_require__(685);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports){
/*!
 * OOUI v0.33.4
 * https://www.mediawiki.org/wiki/OOUI
 *
 * Copyright 2011–2019 OOUI Team and other contributors.
 * Released under the MIT license
 * http://oojs.mit-license.org
 *
 * Date: 2019-07-23T03:23:32Z
 */
!function(OO){"use strict";OO.ui={},OO.ui.bind=$.proxy,OO.ui.Keys={UNDEFINED:0,BACKSPACE:8,DELETE:46,LEFT:37,RIGHT:39,UP:38,DOWN:40,ENTER:13,END:35,HOME:36,TAB:9,PAGEUP:33,PAGEDOWN:34,ESCAPE:27,SHIFT:16,SPACE:32},OO.ui.MouseButtons={LEFT:1,MIDDLE:2,RIGHT:3},OO.ui.elementId=0,OO.ui.generateElementId=function(){return OO.ui.elementId++,"ooui-"+OO.ui.elementId},OO.ui.isFocusableElement=function($element){var nodeName,element=$element[0];return!element.disabled&&(!(!$.expr.pseudos.visible(element)||$element.parents().addBack().filter(function(){return"hidden"===$.css(this,"visibility")}).length)&&("true"===element.contentEditable||($element.prop("tabIndex")>=0||(nodeName=element.nodeName.toLowerCase(),-1!==["input","select","textarea","button","object"].indexOf(nodeName)||("a"===nodeName||"area"===nodeName)&&void 0!==$element.attr("href")))))},OO.ui.findFocusable=function($container,backwards){var $focusable=$([]),$focusableCandidates=$container.find("input, select, textarea, button, object, a, area, [contenteditable], [tabindex]");return backwards&&($focusableCandidates=Array.prototype.reverse.call($focusableCandidates)),$focusableCandidates.each(function(){var $this=$(this);if(OO.ui.isFocusableElement($this))return $focusable=$this,!1}),$focusable},OO.ui.getUserLanguages=function(){return["en"]},OO.ui.getLocalValue=function(obj,lang,fallback){var i,len,langs;if(obj[lang])return obj[lang];for(i=0,len=(langs=OO.ui.getUserLanguages()).length;i<len;i++)if(obj[lang=langs[i]])return obj[lang];if(obj[fallback])return obj[fallback];for(lang in obj)return obj[lang]},OO.ui.contains=function(containers,contained,matchContainers){var i;for(Array.isArray(containers)||(containers=[containers]),i=containers.length-1;i>=0;i--)if(matchContainers&&contained===containers[i]||$.contains(containers[i],contained))return!0;return!1},OO.ui.debounce=function(func,wait,immediate){var timeout;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||func.apply(context,args)};immediate&&!timeout&&func.apply(context,args),timeout&&!wait||(clearTimeout(timeout),timeout=setTimeout(later,wait))}},OO.ui.warnDeprecation=function(message){void 0!==OO.getProp(window,"console","warn")&&console.warn(message)},OO.ui.throttle=function(func,wait){var context,args,timeout,previous=Date.now()-wait,run=function(){timeout=null,previous=Date.now(),func.apply(context,args)};return function(){var remaining=Math.max(wait-(Date.now()-previous),0);context=this,args=arguments,timeout||(timeout=setTimeout(run,remaining))}},OO.ui.infuse=function(idOrNode,config){return OO.ui.Element.static.infuse(idOrNode,config)},OO.ui.msg=function(key){var messages=OO.ui.msg.messages,message=messages[key],params=Array.prototype.slice.call(arguments,1);return message="string"==typeof message?message.replace(/\$(\d+)/g,function(unused,n){var i=parseInt(n,10);return void 0!==params[i-1]?params[i-1]:"$"+n}):"["+key+"]"},OO.ui.deferMsg=function(){var args=arguments;return function(){return OO.ui.msg.apply(OO.ui,args)}},OO.ui.resolveMsg=function(msg){return"function"==typeof msg?msg():msg},OO.ui.isSafeUrl=function(url){var i,protocolWhitelist;function stringStartsWith(haystack,needle){return haystack.substr(0,needle.length)===needle}if(protocolWhitelist=["bitcoin","ftp","ftps","geo","git","gopher","http","https","irc","ircs","magnet","mailto","mms","news","nntp","redis","sftp","sip","sips","sms","ssh","svn","tel","telnet","urn","worldwind","xmpp"],""===url)return!0;for(i=0;i<protocolWhitelist.length;i++)if(stringStartsWith(url,protocolWhitelist[i]+":"))return!0;return!(!stringStartsWith(url,"/")&&!stringStartsWith(url,"./"))||!(!stringStartsWith(url,"?")&&!stringStartsWith(url,"#"))},OO.ui.isMobile=function(){return!1},OO.ui.getViewportSpacing=function(){return{top:0,right:0,bottom:0,left:0}},OO.ui.getDefaultOverlay=function(){return OO.ui.$defaultOverlay||(OO.ui.$defaultOverlay=$("<div>").addClass("oo-ui-defaultOverlay"),$(document.body).append(OO.ui.$defaultOverlay)),OO.ui.$defaultOverlay},OO.ui.msg.messages={"ooui-outline-control-move-down":"Move item down","ooui-outline-control-move-up":"Move item up","ooui-outline-control-remove":"Remove item","ooui-toolbar-more":"More","ooui-toolgroup-expand":"More","ooui-toolgroup-collapse":"Fewer","ooui-item-remove":"Remove","ooui-dialog-message-accept":"OK","ooui-dialog-message-reject":"Cancel","ooui-dialog-process-error":"Something went wrong","ooui-dialog-process-dismiss":"Dismiss","ooui-dialog-process-retry":"Try again","ooui-dialog-process-continue":"Continue","ooui-combobox-button-label":"Dropdown for combobox","ooui-selectfile-button-select":"Select a file","ooui-selectfile-not-supported":"File selection is not supported","ooui-selectfile-placeholder":"No file is selected","ooui-selectfile-dragdrop-placeholder":"Drop file here","ooui-field-help":"Help"},
/*!
   * Mixin namespace.
   */
OO.ui.mixin={},OO.ui.Element=function OoUiElement(config){OO.ui.isDemo&&(this.initialConfig=config),config=config||{},this.elementId=null,this.visible=!0,this.data=config.data,this.$element=config.$element||$(document.createElement(this.getTagName())),this.elementGroup=null,Array.isArray(config.classes)&&this.$element.addClass(config.classes),config.id&&this.setElementId(config.id),config.text&&this.$element.text(config.text),config.content&&this.$element.append(config.content.map(function(v){return"string"==typeof v?v?document.createTextNode(v):void 0:v instanceof OO.ui.HtmlSnippet?v.toString():v instanceof OO.ui.Element?v.$element:v})),config.$content&&this.$element.append(config.$content)},OO.initClass(OO.ui.Element),OO.ui.Element.static.tagName="div",OO.ui.Element.static.infuse=function(idOrNode,config){var obj=OO.ui.Element.static.unsafeInfuse(idOrNode,config,!1);return"string"==typeof idOrNode&&OO.ui.warnDeprecation("Passing a string ID to infuse is deprecated. Use an HTMLElement or jQuery collection instead."),obj},OO.ui.Element.static.unsafeInfuse=function(idOrNode,config,domPromise){var id,$elem,error,data,cls,parts,parent,obj,top,state,infusedChildren;if("string"==typeof idOrNode?(id=idOrNode,$elem=$(document.getElementById(id))):id=($elem=$(idOrNode)).attr("id"),!$elem.length)throw error="string"==typeof idOrNode?"Widget not found: "+idOrNode:idOrNode&&idOrNode.selector?"Widget not found: "+idOrNode.selector:"Widget not found",new Error(error);if($elem[0].oouiInfused&&($elem=$elem[0].oouiInfused),data=$elem.data("ooui-infused")){if(!0===data)throw new Error("Circular dependency! "+id);return domPromise&&(state=data.constructor.static.gatherPreInfuseState($elem,data),domPromise.done(data.restorePreInfuseState.bind(data,state)),(infusedChildren=$elem.data("ooui-infused-children"))&&infusedChildren.length&&infusedChildren.forEach(function(data){var state=data.constructor.static.gatherPreInfuseState($elem,data);domPromise.done(data.restorePreInfuseState.bind(data,state))})),data}if(!(data=$elem.attr("data-ooui")))throw new Error("No infusion data found: "+id);try{data=JSON.parse(data)}catch(_){data=null}if(!data||!data._)throw new Error("No valid infusion data found: "+id);if("Tag"===data._)return new OO.ui.Element($.extend({},config,{$element:$elem}));if(parts=data._.split("."),void 0===(cls=OO.getProp.apply(OO,[window].concat(parts))))throw new Error("Unknown widget type: id: "+id+", class: "+data._);for(parent=cls.parent;void 0!==parent&&parent!==OO.ui.Element;)parent=parent.parent;if(parent!==OO.ui.Element)throw new Error("Unknown widget type: id: "+id+", class: "+data._);return domPromise||(top=$.Deferred(),domPromise=top.promise()),$elem.data("ooui-infused",!0),data.id=id,infusedChildren=[],data=OO.copy(data,null,function deserialize(value){var infused;if(OO.isPlainObject(value)){if(value.tag)return infused=OO.ui.Element.static.unsafeInfuse(value.tag,config,domPromise),infusedChildren.push(infused),infusedChildren.push.apply(infusedChildren,infused.$element.data("ooui-infused-children")||[]),infused.$element.removeData("ooui-infused-children"),infused;if(void 0!==value.html)return new OO.ui.HtmlSnippet(value.html)}}),data=cls.static.reusePreInfuseDOM($elem[0],data),state=cls.static.gatherPreInfuseState($elem[0],data),obj=new cls($.extend({},config,data)),$elem[0].oouiInfused=obj.$element,top&&($elem[0]!==obj.$element[0]&&$elem.replaceWith(obj.$element),top.resolve()),obj.$element.data("ooui-infused",obj),obj.$element.data("ooui-infused-children",infusedChildren),obj.$element.attr("data-ooui",""),domPromise.done(obj.restorePreInfuseState.bind(obj,state)),obj},OO.ui.Element.static.reusePreInfuseDOM=function(node,config){return config},OO.ui.Element.static.gatherPreInfuseState=function(){return{}},OO.ui.Element.static.getDocument=function(obj){return obj[0]&&obj[0].ownerDocument||obj.context||obj.ownerDocument||obj.document||obj.nodeType===Node.DOCUMENT_NODE&&obj||null},OO.ui.Element.static.getWindow=function(obj){return this.getDocument(obj).defaultView},OO.ui.Element.static.getDir=function(obj){var isDoc,isWin;return obj instanceof $&&(obj=obj[0]),isDoc=obj.nodeType===Node.DOCUMENT_NODE,isWin=void 0!==obj.document,(isDoc||isWin)&&(isWin&&(obj=obj.document),obj=obj.body),$(obj).css("direction")},OO.ui.Element.static.getFrameOffset=function(from,to,offset){var i,len,frames,frame,rect;if(to||(to=window),offset||(offset={top:0,left:0}),from.parent===from)return offset;for(i=0,len=(frames=from.parent.document.getElementsByTagName("iframe")).length;i<len;i++)if(frames[i].contentWindow===from){frame=frames[i];break}return frame&&(rect=frame.getBoundingClientRect(),offset.left+=rect.left,offset.top+=rect.top,from!==to&&this.getFrameOffset(from.parent,offset)),offset},OO.ui.Element.static.getRelativePosition=function($element,$anchor){for(var iframe,iframePos,pos=$element.offset(),anchorPos=$anchor.offset(),elementDocument=this.getDocument($element),anchorDocument=this.getDocument($anchor);elementDocument!==anchorDocument;){if(!(iframe=elementDocument.defaultView.frameElement))throw new Error("$element frame is not contained in $anchor frame");iframePos=$(iframe).offset(),pos.left+=iframePos.left,pos.top+=iframePos.top,elementDocument=iframe.ownerDocument}return pos.left-=anchorPos.left,pos.top-=anchorPos.top,pos},OO.ui.Element.static.getBorders=function(el){var style=el.ownerDocument.defaultView.getComputedStyle(el,null),$el=$(el);return{top:parseFloat(style?style.borderTopWidth:$el.css("borderTopWidth"))||0,left:parseFloat(style?style.borderLeftWidth:$el.css("borderLeftWidth"))||0,bottom:parseFloat(style?style.borderBottomWidth:$el.css("borderBottomWidth"))||0,right:parseFloat(style?style.borderRightWidth:$el.css("borderRightWidth"))||0}},OO.ui.Element.static.getDimensions=function(el){var $el,$win,doc=el.ownerDocument||el.document,win=doc.defaultView;return win===el||el===doc.documentElement?{borders:{top:0,left:0,bottom:0,right:0},scroll:{top:($win=$(win)).scrollTop(),left:OO.ui.Element.static.getScrollLeft(win)},scrollbar:{right:0,bottom:0},rect:{top:0,left:0,bottom:$win.innerHeight(),right:$win.innerWidth()}}:($el=$(el),{borders:this.getBorders(el),scroll:{top:$el.scrollTop(),left:OO.ui.Element.static.getScrollLeft(el)},scrollbar:{right:$el.innerWidth()-el.clientWidth,bottom:$el.innerHeight()-el.clientHeight},rect:el.getBoundingClientRect()})},function(){var rtlScrollType=null;function rtlScrollTypeTest(){var $definer=$("<div>").attr({dir:"rtl",style:"font-size: 14px; width: 4px; height: 1px; position: absolute; top: -1000px; overflow: scroll;"}).text("ABCD"),definer=$definer[0];$definer.appendTo("body"),definer.scrollLeft>0?rtlScrollType="default":(definer.scrollLeft=1,rtlScrollType=0===definer.scrollLeft?"negative":"reverse"),$definer.remove()}function isRoot(el){return el.window===el||el===el.ownerDocument.body||el===el.ownerDocument.documentElement}OO.ui.Element.static.computeNormalizedScrollLeft=function(nativeOffset,el){if("rtl"===(isRoot(el)?"ltr":$(el).css("direction"))){if(null===rtlScrollType&&rtlScrollTypeTest(),"reverse"===rtlScrollType)return-nativeOffset;if("default"===rtlScrollType)return nativeOffset-el.scrollWidth+el.clientWidth}return nativeOffset},OO.ui.Element.static.computeNativeScrollLeft=function(normalizedOffset,el){if("rtl"===(isRoot(el)?"ltr":$(el).css("direction"))){if(null===rtlScrollType&&rtlScrollTypeTest(),"reverse"===rtlScrollType)return-normalizedOffset;if("default"===rtlScrollType)return normalizedOffset+el.scrollWidth-el.clientWidth}return normalizedOffset},OO.ui.Element.static.getScrollLeft=function(el){var scrollLeft=isRoot(el)?$(window).scrollLeft():el.scrollLeft;return scrollLeft=OO.ui.Element.static.computeNormalizedScrollLeft(scrollLeft,el)},OO.ui.Element.static.setScrollLeft=function(el,scrollLeft){scrollLeft=OO.ui.Element.static.computeNativeScrollLeft(scrollLeft,el),isRoot(el)?$(window).scrollLeft(scrollLeft):el.scrollLeft=scrollLeft}}(),OO.ui.Element.static.getRootScrollableElement=function(el){var scrollTop,body;return void 0===OO.ui.scrollableElement&&(scrollTop=(body=el.ownerDocument.body).scrollTop,body.scrollTop=1,1===Math.round(body.scrollTop)?(body.scrollTop=scrollTop,OO.ui.scrollableElement="body"):OO.ui.scrollableElement="documentElement"),el.ownerDocument[OO.ui.scrollableElement]},OO.ui.Element.static.getClosestScrollableContainer=function(el,dimension){var i,val,props=["overflow-x","overflow-y"],$parent=$(el).parent();if("x"!==dimension&&"y"!==dimension||(props=["overflow-"+dimension]),$(el).is("html, body"))return this.getRootScrollableElement(el);for(;$parent.length;){if($parent[0]===this.getRootScrollableElement(el))return $parent[0];for(i=props.length;i--;)if("auto"===(val=$parent.css(props[i]))||"scroll"===val)return $parent[0];$parent=$parent.parent()}return this.getRootScrollableElement(el)},OO.ui.Element.static.scrollIntoView=function(elOrPosition,config){var position,animations,container,$container,elementPosition,containerDimensions,$window,padding,animate,method,deferred=$.Deferred();if(config=config||{},padding=$.extend({top:0,bottom:0,left:0,right:0},config.padding),animate=!1!==config.animate,animations={},elementPosition=elOrPosition instanceof HTMLElement?this.getDimensions(elOrPosition).rect:elOrPosition,container=config.scrollContainer||(elOrPosition instanceof HTMLElement?this.getClosestScrollableContainer(elOrPosition,config.direction):this.getClosestScrollableContainer(document.body)),$container=$(container),containerDimensions=this.getDimensions(container),$window=$(this.getWindow(container)),position=$container.is("html, body")?{top:elementPosition.top,bottom:$window.innerHeight()-elementPosition.bottom,left:elementPosition.left,right:$window.innerWidth()-elementPosition.right}:{top:elementPosition.top-(containerDimensions.rect.top+containerDimensions.borders.top),bottom:containerDimensions.rect.bottom-containerDimensions.borders.bottom-containerDimensions.scrollbar.bottom-elementPosition.bottom,left:elementPosition.left-(containerDimensions.rect.left+containerDimensions.borders.left),right:containerDimensions.rect.right-containerDimensions.borders.right-containerDimensions.scrollbar.right-elementPosition.right},config.direction&&"y"!==config.direction||(position.top<padding.top?animations.scrollTop=containerDimensions.scroll.top+position.top-padding.top:position.bottom<padding.bottom&&(animations.scrollTop=containerDimensions.scroll.top+Math.min(position.top-padding.top,-position.bottom+padding.bottom))),config.direction&&"x"!==config.direction||(position.left<padding.left?animations.scrollLeft=containerDimensions.scroll.left+position.left-padding.left:position.right<padding.right&&(animations.scrollLeft=containerDimensions.scroll.left+Math.min(position.left-padding.left,-position.right+padding.right)),void 0!==animations.scrollLeft&&(animations.scrollLeft=OO.ui.Element.static.computeNativeScrollLeft(animations.scrollLeft,container))),$.isEmptyObject(animations))deferred.resolve();else if(animate)$container.stop(!0).animate(animations,void 0===config.duration?"fast":config.duration),$container.queue(function(next){deferred.resolve(),next()});else{for(method in $container.stop(!0),animations)$container[method](animations[method]);deferred.resolve()}return deferred.promise()},OO.ui.Element.static.reconsiderScrollbars=function(el){var i,len,scrollLeft,scrollTop,nodes=[];for(scrollLeft=el.scrollLeft,scrollTop=el.scrollTop;el.firstChild;)nodes.push(el.firstChild),el.removeChild(el.firstChild);for(el.offsetHeight,i=0,len=nodes.length;i<len;i++)el.appendChild(nodes[i]);el.scrollLeft=scrollLeft,el.scrollTop=scrollTop},OO.ui.Element.prototype.toggle=function(show){return(show=void 0===show?!this.visible:!!show)!==this.isVisible()&&(this.visible=show,this.$element.toggleClass("oo-ui-element-hidden",!this.visible),this.emit("toggle",show)),this},OO.ui.Element.prototype.isVisible=function(){return this.visible},OO.ui.Element.prototype.getData=function(){return this.data},OO.ui.Element.prototype.setData=function(data){return this.data=data,this},OO.ui.Element.prototype.setElementId=function(id){return this.elementId=id,this.$element.attr("id",id),this},OO.ui.Element.prototype.getElementId=function(){return null===this.elementId&&this.setElementId(OO.ui.generateElementId()),this.elementId},OO.ui.Element.prototype.supports=function(methods){var i,len,support=0;for(i=0,len=(methods=Array.isArray(methods)?methods:[methods]).length;i<len;i++)"function"==typeof this[methods[i]]&&support++;return methods.length===support},OO.ui.Element.prototype.updateThemeClasses=function(){OO.ui.theme.queueUpdateElementClasses(this)},OO.ui.Element.prototype.getTagName=function(){return this.constructor.static.tagName},OO.ui.Element.prototype.isElementAttached=function(){return $.contains(this.getElementDocument(),this.$element[0])},OO.ui.Element.prototype.getElementDocument=function(){return OO.ui.Element.static.getDocument(this.$element)},OO.ui.Element.prototype.getElementWindow=function(){return OO.ui.Element.static.getWindow(this.$element)},OO.ui.Element.prototype.getClosestScrollableElementContainer=function(){return OO.ui.Element.static.getClosestScrollableContainer(this.$element[0])},OO.ui.Element.prototype.getElementGroup=function(){return this.elementGroup},OO.ui.Element.prototype.setElementGroup=function(group){return this.elementGroup=group,this},OO.ui.Element.prototype.scrollElementIntoView=function(config){return!this.isElementAttached()||!this.isVisible()||this.getElementGroup()&&!this.getElementGroup().isVisible()?$.Deferred().resolve():OO.ui.Element.static.scrollIntoView(this.$element[0],config)},OO.ui.Element.prototype.restorePreInfuseState=function(){},OO.ui.HtmlSnippet=function OoUiHtmlSnippet(content){this.content=content},OO.initClass(OO.ui.HtmlSnippet),OO.ui.HtmlSnippet.prototype.toString=function(){return this.content},OO.ui.Layout=function OoUiLayout(config){config=config||{},OO.ui.Layout.parent.call(this,config),OO.EventEmitter.call(this),this.$element.addClass("oo-ui-layout")},OO.inheritClass(OO.ui.Layout,OO.ui.Element),OO.mixinClass(OO.ui.Layout,OO.EventEmitter),OO.ui.Layout.prototype.resetScroll=function(){return this.$element[0].scrollTop=0,OO.ui.Element.static.setScrollLeft(this.$element[0],0),this},OO.ui.Widget=function OoUiWidget(config){config=$.extend({disabled:!1},config),OO.ui.Widget.parent.call(this,config),OO.EventEmitter.call(this),this.disabled=null,this.wasDisabled=null,this.$element.addClass("oo-ui-widget"),this.setDisabled(!!config.disabled)},OO.inheritClass(OO.ui.Widget,OO.ui.Element),OO.mixinClass(OO.ui.Widget,OO.EventEmitter),OO.ui.Widget.prototype.isDisabled=function(){return this.disabled},OO.ui.Widget.prototype.setDisabled=function(disabled){var isDisabled;return this.disabled=!!disabled,(isDisabled=this.isDisabled())!==this.wasDisabled&&(this.$element.toggleClass("oo-ui-widget-disabled",isDisabled),this.$element.toggleClass("oo-ui-widget-enabled",!isDisabled),this.$element.attr("aria-disabled",isDisabled.toString()),this.emit("disable",isDisabled),this.updateThemeClasses()),this.wasDisabled=isDisabled,this},OO.ui.Widget.prototype.updateDisabled=function(){return this.setDisabled(this.disabled),this},OO.ui.Widget.prototype.getInputId=function(){return null},OO.ui.Widget.prototype.simulateLabelClick=function(){},OO.ui.Theme=function OoUiTheme(){this.elementClassesQueue=[],this.debouncedUpdateQueuedElementClasses=OO.ui.debounce(this.updateQueuedElementClasses)},OO.initClass(OO.ui.Theme),OO.ui.Theme.prototype.getElementClasses=function(){return{on:[],off:[]}},OO.ui.Theme.prototype.updateElementClasses=function(element){var $elements=$([]),classes=this.getElementClasses(element);element.$icon&&($elements=$elements.add(element.$icon)),element.$indicator&&($elements=$elements.add(element.$indicator)),$elements.removeClass(classes.off).addClass(classes.on)},OO.ui.Theme.prototype.updateQueuedElementClasses=function(){var i;for(i=0;i<this.elementClassesQueue.length;i++)this.updateElementClasses(this.elementClassesQueue[i]);this.elementClassesQueue=[]},OO.ui.Theme.prototype.queueUpdateElementClasses=function(element){-1===this.elementClassesQueue.lastIndexOf(element)&&(this.elementClassesQueue.push(element),this.debouncedUpdateQueuedElementClasses())},OO.ui.Theme.prototype.getDialogTransitionDuration=function(){return 0},OO.ui.mixin.TabIndexedElement=function OoUiMixinTabIndexedElement(config){config=$.extend({tabIndex:0},config),this.$tabIndexed=null,this.tabIndex=null,this.connect(this,{disable:"onTabIndexedElementDisable"}),this.setTabIndex(config.tabIndex),this.setTabIndexedElement(config.$tabIndexed||this.$element)},OO.initClass(OO.ui.mixin.TabIndexedElement),OO.ui.mixin.TabIndexedElement.prototype.setTabIndexedElement=function($tabIndexed){var tabIndex=this.tabIndex;return this.setTabIndex(null),this.$tabIndexed=$tabIndexed,this.tabIndex=tabIndex,this.updateTabIndex()},OO.ui.mixin.TabIndexedElement.prototype.setTabIndex=function(tabIndex){return tabIndex=/^-?\d+$/.test(tabIndex)?Number(tabIndex):null,this.tabIndex!==tabIndex&&(this.tabIndex=tabIndex,this.updateTabIndex()),this},OO.ui.mixin.TabIndexedElement.prototype.updateTabIndex=function(){return this.$tabIndexed&&(null!==this.tabIndex?this.$tabIndexed.attr({tabindex:this.isDisabled()?-1:this.tabIndex,"aria-disabled":this.isDisabled().toString()}):this.$tabIndexed.removeAttr("tabindex aria-disabled")),this},OO.ui.mixin.TabIndexedElement.prototype.onTabIndexedElementDisable=function(){this.updateTabIndex()},OO.ui.mixin.TabIndexedElement.prototype.getTabIndex=function(){return this.tabIndex},OO.ui.mixin.TabIndexedElement.prototype.getInputId=function(){var id;return this.$tabIndexed&&this.isLabelableNode(this.$tabIndexed)?(void 0===(id=this.$tabIndexed.attr("id"))&&(id=OO.ui.generateElementId(),this.$tabIndexed.attr("id",id)),id):null},OO.ui.mixin.TabIndexedElement.prototype.isLabelableNode=function($node){var tagName=($node.prop("tagName")||"").toLowerCase();return"input"===tagName&&"hidden"!==$node.attr("type")||-1!==["button","meter","output","progress","select","textarea"].indexOf(tagName)},OO.ui.mixin.TabIndexedElement.prototype.focus=function(){return this.isDisabled()||this.$tabIndexed.trigger("focus"),this},OO.ui.mixin.TabIndexedElement.prototype.blur=function(){return this.$tabIndexed.trigger("blur"),this},OO.ui.mixin.TabIndexedElement.prototype.simulateLabelClick=function(){this.focus()},OO.ui.mixin.ButtonElement=function OoUiMixinButtonElement(config){config=config||{},this.$button=null,this.framed=null,this.active=void 0!==config.active&&config.active,this.onDocumentMouseUpHandler=this.onDocumentMouseUp.bind(this),this.onMouseDownHandler=this.onMouseDown.bind(this),this.onDocumentKeyUpHandler=this.onDocumentKeyUp.bind(this),this.onKeyDownHandler=this.onKeyDown.bind(this),this.onClickHandler=this.onClick.bind(this),this.onKeyPressHandler=this.onKeyPress.bind(this),this.$element.addClass("oo-ui-buttonElement"),this.toggleFramed(void 0===config.framed||config.framed),this.setButtonElement(config.$button||$("<a>"))},OO.initClass(OO.ui.mixin.ButtonElement),OO.ui.mixin.ButtonElement.static.cancelButtonMouseDownEvents=!0,OO.ui.mixin.ButtonElement.prototype.setButtonElement=function($button){this.$button&&this.$button.removeClass("oo-ui-buttonElement-button").removeAttr("role accesskey").off({mousedown:this.onMouseDownHandler,keydown:this.onKeyDownHandler,click:this.onClickHandler,keypress:this.onKeyPressHandler}),this.$button=$button.addClass("oo-ui-buttonElement-button").on({mousedown:this.onMouseDownHandler,keydown:this.onKeyDownHandler,click:this.onClickHandler,keypress:this.onKeyPressHandler}),"A"===this.$button.prop("tagName").toUpperCase()&&this.$button.attr("role","button")},OO.ui.mixin.ButtonElement.prototype.onMouseDown=function(e){if(!this.isDisabled()&&e.which===OO.ui.MouseButtons.LEFT)return this.$element.addClass("oo-ui-buttonElement-pressed"),this.getElementDocument().addEventListener("mouseup",this.onDocumentMouseUpHandler,!0),!this.constructor.static.cancelButtonMouseDownEvents&&void 0},OO.ui.mixin.ButtonElement.prototype.onDocumentMouseUp=function(e){this.isDisabled()||e.which!==OO.ui.MouseButtons.LEFT||(this.$element.removeClass("oo-ui-buttonElement-pressed"),this.getElementDocument().removeEventListener("mouseup",this.onDocumentMouseUpHandler,!0))},OO.ui.mixin.ButtonElement.prototype.onClick=function(e){if(!this.isDisabled()&&e.which===OO.ui.MouseButtons.LEFT&&this.emit("click"))return!1},OO.ui.mixin.ButtonElement.prototype.onKeyDown=function(e){this.isDisabled()||e.which!==OO.ui.Keys.SPACE&&e.which!==OO.ui.Keys.ENTER||(this.$element.addClass("oo-ui-buttonElement-pressed"),this.getElementDocument().addEventListener("keyup",this.onDocumentKeyUpHandler,!0))},OO.ui.mixin.ButtonElement.prototype.onDocumentKeyUp=function(e){this.isDisabled()||e.which!==OO.ui.Keys.SPACE&&e.which!==OO.ui.Keys.ENTER||(this.$element.removeClass("oo-ui-buttonElement-pressed"),this.getElementDocument().removeEventListener("keyup",this.onDocumentKeyUpHandler,!0))},OO.ui.mixin.ButtonElement.prototype.onKeyPress=function(e){if(!this.isDisabled()&&(e.which===OO.ui.Keys.SPACE||e.which===OO.ui.Keys.ENTER)&&this.emit("click"))return!1},OO.ui.mixin.ButtonElement.prototype.isFramed=function(){return this.framed},OO.ui.mixin.ButtonElement.prototype.toggleFramed=function(framed){return(framed=void 0===framed?!this.framed:!!framed)!==this.framed&&(this.framed=framed,this.$element.toggleClass("oo-ui-buttonElement-frameless",!framed).toggleClass("oo-ui-buttonElement-framed",framed),this.updateThemeClasses()),this},OO.ui.mixin.ButtonElement.prototype.setActive=function(value){return this.active=!!value,this.$element.toggleClass("oo-ui-buttonElement-active",this.active),this.updateThemeClasses(),this},OO.ui.mixin.ButtonElement.prototype.isActive=function(){return this.active},OO.ui.mixin.GroupElement=function OoUiMixinGroupElement(config){config=config||{},OO.EmitterList.call(this,config),this.$group=null,this.setGroupElement(config.$group||$("<div>"))},OO.mixinClass(OO.ui.mixin.GroupElement,OO.EmitterList),OO.ui.mixin.GroupElement.prototype.setGroupElement=function($group){var i,len;for(this.$group=$group,i=0,len=this.items.length;i<len;i++)this.$group.append(this.items[i].$element)},OO.ui.mixin.GroupElement.prototype.findItemFromData=function(data){var i,len,item,hash=OO.getHash(data);for(i=0,len=this.items.length;i<len;i++)if(item=this.items[i],hash===OO.getHash(item.getData()))return item;return null},OO.ui.mixin.GroupElement.prototype.findItemsFromData=function(data){var i,len,item,hash=OO.getHash(data),items=[];for(i=0,len=this.items.length;i<len;i++)item=this.items[i],hash===OO.getHash(item.getData())&&items.push(item);return items},OO.ui.mixin.GroupElement.prototype.addItems=function(items,index){return 0===items.length?this:(OO.EmitterList.prototype.addItems.call(this,items,index),this.emit("change",this.getItems()),this)},OO.ui.mixin.GroupElement.prototype.moveItem=function(items,newIndex){return this.insertItemElements(items,newIndex),newIndex=OO.EmitterList.prototype.moveItem.call(this,items,newIndex)},OO.ui.mixin.GroupElement.prototype.insertItem=function(item,index){return item.setElementGroup(this),this.insertItemElements(item,index),index=OO.EmitterList.prototype.insertItem.call(this,item,index)},OO.ui.mixin.GroupElement.prototype.insertItemElements=function(itemWidget,index){void 0===index||index<0||index>=this.items.length?this.$group.append(itemWidget.$element):0===index?this.$group.prepend(itemWidget.$element):this.items[index].$element.before(itemWidget.$element)},OO.ui.mixin.GroupElement.prototype.removeItems=function(items){var i,len,item;if(0===items.length)return this;for(i=0,len=items.length;i<len;i++)item=items[i],-1!==this.items.indexOf(item)&&(item.setElementGroup(null),item.$element.detach());return OO.EmitterList.prototype.removeItems.call(this,items),this.emit("change",this.getItems()),this},OO.ui.mixin.GroupElement.prototype.clearItems=function(){var i,len;for(i=0,len=this.items.length;i<len;i++)this.items[i].setElementGroup(null),this.items[i].$element.detach();return OO.EmitterList.prototype.clearItems.call(this),this.emit("change",this.getItems()),this},OO.ui.mixin.LabelElement=function OoUiMixinLabelElement(config){config=config||{},this.$label=null,this.label=null,this.invisibleLabel=null,this.setLabel(config.label||this.constructor.static.label),this.setLabelElement(config.$label||$("<span>")),this.setInvisibleLabel(config.invisibleLabel)},OO.initClass(OO.ui.mixin.LabelElement),OO.ui.mixin.LabelElement.static.label=null,OO.ui.mixin.LabelElement.static.highlightQuery=function(text,query,compare){var i,tLen,qLen,offset=-1,$result=$("<span>");if(compare)for(tLen=text.length,qLen=query.length,i=0;-1===offset&&i<=tLen-qLen;i++)0===compare(query,text.slice(i,i+qLen))&&(offset=i);else offset=text.toLowerCase().indexOf(query.toLowerCase());return query.length&&-1!==offset?$result.append(document.createTextNode(text.slice(0,offset)),$("<span>").addClass("oo-ui-labelElement-label-highlight").text(text.slice(offset,offset+query.length)),document.createTextNode(text.slice(offset+query.length))):$result.text(text),$result.contents()},OO.ui.mixin.LabelElement.prototype.setLabelElement=function($label){this.$label&&this.$label.removeClass("oo-ui-labelElement-label").empty(),this.$label=$label.addClass("oo-ui-labelElement-label"),this.setLabelContent(this.label)},OO.ui.mixin.LabelElement.prototype.setLabel=function(label){return label=("string"==typeof(label="function"==typeof label?OO.ui.resolveMsg(label):label)||label instanceof $)&&label.length||label instanceof OO.ui.HtmlSnippet&&label.toString().length?label:null,this.label!==label&&(this.$label&&this.setLabelContent(label),this.label=label,this.emit("labelChange")),this.$element.toggleClass("oo-ui-labelElement",!!this.label&&!this.invisibleLabel),this},OO.ui.mixin.LabelElement.prototype.setInvisibleLabel=function(invisibleLabel){return invisibleLabel=!!invisibleLabel,this.invisibleLabel!==invisibleLabel&&(this.invisibleLabel=invisibleLabel,this.emit("labelChange")),this.$label.toggleClass("oo-ui-labelElement-invisible",this.invisibleLabel),this.$element.toggleClass("oo-ui-labelElement",!!this.label&&!this.invisibleLabel),this},OO.ui.mixin.LabelElement.prototype.setHighlightedQuery=function(text,query,compare){return this.setLabel(this.constructor.static.highlightQuery(text,query,compare))},OO.ui.mixin.LabelElement.prototype.getLabel=function(){return this.label},OO.ui.mixin.LabelElement.prototype.setLabelContent=function(label){"string"==typeof label?label.match(/^\s*$/)?this.$label.html("&nbsp;"):this.$label.text(label):label instanceof OO.ui.HtmlSnippet?this.$label.html(label.toString()):label instanceof $?this.$label.empty().append(label):this.$label.empty()},OO.ui.mixin.IconElement=function OoUiMixinIconElement(config){config=config||{},this.$icon=null,this.icon=null,this.setIcon(config.icon||this.constructor.static.icon),this.setIconElement(config.$icon||$("<span>"))},OO.initClass(OO.ui.mixin.IconElement),OO.ui.mixin.IconElement.static.icon=null,OO.ui.mixin.IconElement.static.iconTitle=null,OO.ui.mixin.IconElement.prototype.setIconElement=function($icon){this.$icon&&this.$icon.removeClass("oo-ui-iconElement-icon oo-ui-icon-"+this.icon).removeAttr("title"),this.$icon=$icon.addClass("oo-ui-iconElement-icon").toggleClass("oo-ui-iconElement-noIcon",!this.icon).toggleClass("oo-ui-icon-"+this.icon,!!this.icon),null!==this.iconTitle&&this.$icon.attr("title",this.iconTitle),this.updateThemeClasses()},OO.ui.mixin.IconElement.prototype.setIcon=function(icon){return icon="string"==typeof(icon=OO.isPlainObject(icon)?OO.ui.getLocalValue(icon,null,"default"):icon)&&icon.trim().length?icon.trim():null,this.icon!==icon&&(this.$icon&&(null!==this.icon&&this.$icon.removeClass("oo-ui-icon-"+this.icon),null!==icon&&this.$icon.addClass("oo-ui-icon-"+icon)),this.icon=icon),this.$element.toggleClass("oo-ui-iconElement",!!this.icon),this.$icon&&this.$icon.toggleClass("oo-ui-iconElement-noIcon",!this.icon),this.updateThemeClasses(),this},OO.ui.mixin.IconElement.prototype.getIcon=function(){return this.icon},OO.ui.mixin.IndicatorElement=function OoUiMixinIndicatorElement(config){config=config||{},this.$indicator=null,this.indicator=null,this.setIndicator(config.indicator||this.constructor.static.indicator),this.setIndicatorElement(config.$indicator||$("<span>"))},OO.initClass(OO.ui.mixin.IndicatorElement),OO.ui.mixin.IndicatorElement.static.indicator=null,OO.ui.mixin.IndicatorElement.static.indicatorTitle=null,OO.ui.mixin.IndicatorElement.prototype.setIndicatorElement=function($indicator){this.$indicator&&this.$indicator.removeClass("oo-ui-indicatorElement-indicator oo-ui-indicator-"+this.indicator).removeAttr("title"),this.$indicator=$indicator.addClass("oo-ui-indicatorElement-indicator").toggleClass("oo-ui-indicatorElement-noIndicator",!this.indicator).toggleClass("oo-ui-indicator-"+this.indicator,!!this.indicator),null!==this.indicatorTitle&&this.$indicator.attr("title",this.indicatorTitle),this.updateThemeClasses()},OO.ui.mixin.IndicatorElement.prototype.setIndicator=function(indicator){return indicator="string"==typeof indicator&&indicator.length?indicator.trim():null,this.indicator!==indicator&&(this.$indicator&&(null!==this.indicator&&this.$indicator.removeClass("oo-ui-indicator-"+this.indicator),null!==indicator&&this.$indicator.addClass("oo-ui-indicator-"+indicator)),this.indicator=indicator),this.$element.toggleClass("oo-ui-indicatorElement",!!this.indicator),this.$indicator&&this.$indicator.toggleClass("oo-ui-indicatorElement-noIndicator",!this.indicator),this.updateThemeClasses(),this},OO.ui.mixin.IndicatorElement.prototype.getIndicator=function(){return this.indicator},OO.ui.mixin.FlaggedElement=function OoUiMixinFlaggedElement(config){config=config||{},this.flags={},this.$flagged=null,this.setFlags(config.flags||this.constructor.static.flags),this.setFlaggedElement(config.$flagged||this.$element)},OO.initClass(OO.ui.mixin.FlaggedElement),OO.ui.mixin.FlaggedElement.static.flags=null,OO.ui.mixin.FlaggedElement.prototype.setFlaggedElement=function($flagged){var classNames=Object.keys(this.flags).map(function(flag){return"oo-ui-flaggedElement-"+flag});this.$flagged&&this.$flagged.removeClass(classNames),this.$flagged=$flagged.addClass(classNames)},OO.ui.mixin.FlaggedElement.prototype.hasFlag=function(flag){return this.flags&&flag in this.flags},OO.ui.mixin.FlaggedElement.prototype.getFlags=function(){return Object.keys(this.flags||{})},OO.ui.mixin.FlaggedElement.prototype.clearFlags=function(){var flag,className,changes={},remove=[];for(flag in this.flags)className="oo-ui-flaggedElement-"+flag,changes[flag]=!1,delete this.flags[flag],remove.push(className);return this.$flagged&&this.$flagged.removeClass(remove),this.updateThemeClasses(),this.emit("flag",changes),this},OO.ui.mixin.FlaggedElement.prototype.setFlags=function(flags){var i,len,flag,className,changes={},add=[],remove=[];if("string"==typeof flags)className="oo-ui-flaggedElement-"+flags,this.flags[flags]||(this.flags[flags]=!0,add.push(className));else if(Array.isArray(flags))for(i=0,len=flags.length;i<len;i++)className="oo-ui-flaggedElement-"+(flag=flags[i]),this.flags[flag]||(changes[flag]=!0,this.flags[flag]=!0,add.push(className));else if(OO.isPlainObject(flags))for(flag in flags)className="oo-ui-flaggedElement-"+flag,flags[flag]?this.flags[flag]||(changes[flag]=!0,this.flags[flag]=!0,add.push(className)):this.flags[flag]&&(changes[flag]=!1,delete this.flags[flag],remove.push(className));return this.$flagged&&this.$flagged.addClass(add).removeClass(remove),this.updateThemeClasses(),this.emit("flag",changes),this},OO.ui.mixin.TitledElement=function OoUiMixinTitledElement(config){config=config||{},this.$titled=null,this.title=null,this.setTitle(void 0!==config.title?config.title:this.constructor.static.title),this.setTitledElement(config.$titled||this.$element)},OO.initClass(OO.ui.mixin.TitledElement),OO.ui.mixin.TitledElement.static.title=null,OO.ui.mixin.TitledElement.prototype.setTitledElement=function($titled){this.$titled&&this.$titled.removeAttr("title"),this.$titled=$titled,this.updateTitle()},OO.ui.mixin.TitledElement.prototype.setTitle=function(title){return title="string"==typeof(title="function"==typeof title?OO.ui.resolveMsg(title):title)?title:null,this.title!==title&&(this.title=title,this.updateTitle()),this},OO.ui.mixin.TitledElement.prototype.updateTitle=function(){var title=this.getTitle();return this.$titled&&(null!==title?(this.formatTitleWithAccessKey&&(title=this.formatTitleWithAccessKey(title)),this.$titled.attr("title",title)):this.$titled.removeAttr("title")),this},OO.ui.mixin.TitledElement.prototype.getTitle=function(){return this.title},OO.ui.mixin.AccessKeyedElement=function OoUiMixinAccessKeyedElement(config){config=config||{},this.$accessKeyed=null,this.accessKey=null,this.setAccessKey(config.accessKey||null),this.setAccessKeyedElement(config.$accessKeyed||this.$element),this.updateTitle&&this.updateTitle()},OO.initClass(OO.ui.mixin.AccessKeyedElement),OO.ui.mixin.AccessKeyedElement.static.accessKey=null,OO.ui.mixin.AccessKeyedElement.prototype.setAccessKeyedElement=function($accessKeyed){this.$accessKeyed&&this.$accessKeyed.removeAttr("accesskey"),this.$accessKeyed=$accessKeyed,this.accessKey&&this.$accessKeyed.attr("accesskey",this.accessKey)},OO.ui.mixin.AccessKeyedElement.prototype.setAccessKey=function(accessKey){return accessKey="string"==typeof accessKey?OO.ui.resolveMsg(accessKey):null,this.accessKey!==accessKey&&(this.$accessKeyed&&(null!==accessKey?this.$accessKeyed.attr("accesskey",accessKey):this.$accessKeyed.removeAttr("accesskey")),this.accessKey=accessKey,this.updateTitle&&this.updateTitle()),this},OO.ui.mixin.AccessKeyedElement.prototype.getAccessKey=function(){return this.accessKey},OO.ui.mixin.AccessKeyedElement.prototype.formatTitleWithAccessKey=function(title){var accessKey;return this.$accessKeyed?((accessKey=$.fn.updateTooltipAccessKeys&&$.fn.updateTooltipAccessKeys.getAccessKeyLabel?$.fn.updateTooltipAccessKeys.getAccessKeyLabel(this.$accessKeyed[0]):this.getAccessKey())&&(title+=" ["+accessKey+"]"),title):title},OO.ui.ButtonWidget=function OoUiButtonWidget(config){config=config||{},OO.ui.ButtonWidget.parent.call(this,config),OO.ui.mixin.ButtonElement.call(this,config),OO.ui.mixin.IconElement.call(this,config),OO.ui.mixin.IndicatorElement.call(this,config),OO.ui.mixin.LabelElement.call(this,config),OO.ui.mixin.TitledElement.call(this,$.extend({$titled:this.$button},config)),OO.ui.mixin.FlaggedElement.call(this,config),OO.ui.mixin.TabIndexedElement.call(this,$.extend({$tabIndexed:this.$button},config)),OO.ui.mixin.AccessKeyedElement.call(this,$.extend({$accessKeyed:this.$button},config)),this.href=null,this.target=null,this.noFollow=!1,this.connect(this,{disable:"onDisable"}),this.$button.append(this.$icon,this.$label,this.$indicator),this.$element.addClass("oo-ui-buttonWidget").append(this.$button),this.setActive(config.active),this.setHref(config.href),this.setTarget(config.target),this.setNoFollow(config.noFollow)},OO.inheritClass(OO.ui.ButtonWidget,OO.ui.Widget),OO.mixinClass(OO.ui.ButtonWidget,OO.ui.mixin.ButtonElement),OO.mixinClass(OO.ui.ButtonWidget,OO.ui.mixin.IconElement),OO.mixinClass(OO.ui.ButtonWidget,OO.ui.mixin.IndicatorElement),OO.mixinClass(OO.ui.ButtonWidget,OO.ui.mixin.LabelElement),OO.mixinClass(OO.ui.ButtonWidget,OO.ui.mixin.TitledElement),OO.mixinClass(OO.ui.ButtonWidget,OO.ui.mixin.FlaggedElement),OO.mixinClass(OO.ui.ButtonWidget,OO.ui.mixin.TabIndexedElement),OO.mixinClass(OO.ui.ButtonWidget,OO.ui.mixin.AccessKeyedElement),OO.ui.ButtonWidget.static.cancelButtonMouseDownEvents=!1,OO.ui.ButtonWidget.static.tagName="span",OO.ui.ButtonWidget.prototype.getHref=function(){return this.href},OO.ui.ButtonWidget.prototype.getTarget=function(){return this.target},OO.ui.ButtonWidget.prototype.getNoFollow=function(){return this.noFollow},OO.ui.ButtonWidget.prototype.setHref=function(href){return null===(href="string"==typeof href?href:null)||OO.ui.isSafeUrl(href)||(href="./"+href),href!==this.href&&(this.href=href,this.updateHref()),this},OO.ui.ButtonWidget.prototype.updateHref=function(){return null===this.href||this.isDisabled()?this.$button.removeAttr("href"):this.$button.attr("href",this.href),this},OO.ui.ButtonWidget.prototype.onDisable=function(){this.updateHref()},OO.ui.ButtonWidget.prototype.setTarget=function(target){return(target="string"==typeof target?target:null)!==this.target&&(this.target=target,null!==target?this.$button.attr("target",target):this.$button.removeAttr("target")),this},OO.ui.ButtonWidget.prototype.setNoFollow=function(noFollow){return(noFollow="boolean"!=typeof noFollow||noFollow)!==this.noFollow&&(this.noFollow=noFollow,noFollow?this.$button.attr("rel","nofollow"):this.$button.removeAttr("rel")),this},OO.ui.ButtonGroupWidget=function OoUiButtonGroupWidget(config){config=config||{},OO.ui.ButtonGroupWidget.parent.call(this,config),OO.ui.mixin.GroupElement.call(this,$.extend({$group:this.$element},config)),OO.ui.mixin.TitledElement.call(this,config),this.$element.addClass("oo-ui-buttonGroupWidget"),Array.isArray(config.items)&&this.addItems(config.items)},OO.inheritClass(OO.ui.ButtonGroupWidget,OO.ui.Widget),OO.mixinClass(OO.ui.ButtonGroupWidget,OO.ui.mixin.GroupElement),OO.mixinClass(OO.ui.ButtonGroupWidget,OO.ui.mixin.TitledElement),OO.ui.ButtonGroupWidget.static.tagName="span",OO.ui.ButtonGroupWidget.prototype.focus=function(){return this.isDisabled()||this.items[0]&&this.items[0].focus(),this},OO.ui.ButtonGroupWidget.prototype.simulateLabelClick=function(){this.focus()},OO.ui.IconWidget=function OoUiIconWidget(config){config=config||{},OO.ui.IconWidget.parent.call(this,config),OO.ui.mixin.IconElement.call(this,$.extend({$icon:this.$element},config)),OO.ui.mixin.TitledElement.call(this,$.extend({$titled:this.$element},config)),OO.ui.mixin.LabelElement.call(this,$.extend({$label:this.$element,invisibleLabel:!0},config)),OO.ui.mixin.FlaggedElement.call(this,$.extend({$flagged:this.$element},config)),this.$element.addClass("oo-ui-iconWidget"),this.$element.removeClass("oo-ui-labelElement-label")},OO.inheritClass(OO.ui.IconWidget,OO.ui.Widget),OO.mixinClass(OO.ui.IconWidget,OO.ui.mixin.IconElement),OO.mixinClass(OO.ui.IconWidget,OO.ui.mixin.TitledElement),OO.mixinClass(OO.ui.IconWidget,OO.ui.mixin.LabelElement),OO.mixinClass(OO.ui.IconWidget,OO.ui.mixin.FlaggedElement),OO.ui.IconWidget.static.tagName="span",OO.ui.IndicatorWidget=function OoUiIndicatorWidget(config){config=config||{},OO.ui.IndicatorWidget.parent.call(this,config),OO.ui.mixin.IndicatorElement.call(this,$.extend({$indicator:this.$element},config)),OO.ui.mixin.TitledElement.call(this,$.extend({$titled:this.$element},config)),OO.ui.mixin.LabelElement.call(this,$.extend({$label:this.$element,invisibleLabel:!0},config)),this.$element.addClass("oo-ui-indicatorWidget"),this.$element.removeClass("oo-ui-labelElement-label")},OO.inheritClass(OO.ui.IndicatorWidget,OO.ui.Widget),OO.mixinClass(OO.ui.IndicatorWidget,OO.ui.mixin.IndicatorElement),OO.mixinClass(OO.ui.IndicatorWidget,OO.ui.mixin.TitledElement),OO.mixinClass(OO.ui.IndicatorWidget,OO.ui.mixin.LabelElement),OO.ui.IndicatorWidget.static.tagName="span",OO.ui.LabelWidget=function OoUiLabelWidget(config){config=config||{},OO.ui.LabelWidget.parent.call(this,config),OO.ui.mixin.LabelElement.call(this,$.extend({$label:this.$element},config)),OO.ui.mixin.TitledElement.call(this,config),this.input=config.input,this.input&&(this.input.getInputId()?this.$element.attr("for",this.input.getInputId()):this.$label.on("click",function(){this.input.simulateLabelClick()}.bind(this))),this.$element.addClass("oo-ui-labelWidget")},OO.inheritClass(OO.ui.LabelWidget,OO.ui.Widget),OO.mixinClass(OO.ui.LabelWidget,OO.ui.mixin.LabelElement),OO.mixinClass(OO.ui.LabelWidget,OO.ui.mixin.TitledElement),OO.ui.LabelWidget.static.tagName="label",OO.ui.MessageWidget=function OoUiMessageWidget(config){config=config||{},OO.ui.MessageWidget.parent.call(this,config),OO.ui.mixin.IconElement.call(this,config),OO.ui.mixin.LabelElement.call(this,config),OO.ui.mixin.TitledElement.call(this,config),OO.ui.mixin.FlaggedElement.call(this,config),this.setType(config.type),this.setInline(config.inline),this.$element.append(this.$icon,this.$label).addClass("oo-ui-messageWidget")},OO.inheritClass(OO.ui.MessageWidget,OO.ui.Widget),OO.mixinClass(OO.ui.MessageWidget,OO.ui.mixin.IconElement),OO.mixinClass(OO.ui.MessageWidget,OO.ui.mixin.LabelElement),OO.mixinClass(OO.ui.MessageWidget,OO.ui.mixin.TitledElement),OO.mixinClass(OO.ui.MessageWidget,OO.ui.mixin.FlaggedElement),OO.ui.MessageWidget.static.iconMap={notice:"infoFilled",error:"error",warning:"alert",success:"check"},OO.ui.MessageWidget.prototype.setInline=function(inline){inline=!!inline,this.inline!==inline&&(this.inline=inline,this.$element.toggleClass("oo-ui-messageWidget-block",!this.inline))},OO.ui.MessageWidget.prototype.setType=function(type){-1===Object.keys(this.constructor.static.iconMap).indexOf(type)&&(type="notice"),this.type!==type&&(this.clearFlags(),this.setFlags(type),this.setIcon(this.constructor.static.iconMap[type]),this.$icon.removeClass("oo-ui-image-"+this.type),this.$icon.addClass("oo-ui-image-"+type),"error"===type?(this.$element.attr("role","alert"),this.$element.removeAttr("aria-live")):(this.$element.removeAttr("role"),this.$element.attr("aria-live","polite")),this.type=type)},OO.ui.mixin.PendingElement=function OoUiMixinPendingElement(config){config=config||{},this.pending=0,this.$pending=null,this.setPendingElement(config.$pending||this.$element)},OO.initClass(OO.ui.mixin.PendingElement),OO.ui.mixin.PendingElement.prototype.setPendingElement=function($pending){this.$pending&&this.$pending.removeClass("oo-ui-pendingElement-pending"),this.$pending=$pending,this.pending>0&&this.$pending.addClass("oo-ui-pendingElement-pending")},OO.ui.mixin.PendingElement.prototype.isPending=function(){return!!this.pending},OO.ui.mixin.PendingElement.prototype.pushPending=function(){return 0===this.pending&&(this.$pending.addClass("oo-ui-pendingElement-pending"),this.updateThemeClasses()),this.pending++,this},OO.ui.mixin.PendingElement.prototype.popPending=function(){return 1===this.pending&&(this.$pending.removeClass("oo-ui-pendingElement-pending"),this.updateThemeClasses()),this.pending=Math.max(0,this.pending-1),this},OO.ui.mixin.FloatableElement=function OoUiMixinFloatableElement(config){config=config||{},this.$floatable=null,this.$floatableContainer=null,this.$floatableWindow=null,this.$floatableClosestScrollable=null,this.floatableOutOfView=!1,this.onFloatableScrollHandler=this.position.bind(this),this.onFloatableWindowResizeHandler=this.position.bind(this),this.setFloatableContainer(config.$floatableContainer),this.setFloatableElement(config.$floatable||this.$element),this.setVerticalPosition(config.verticalPosition||"below"),this.setHorizontalPosition(config.horizontalPosition||"start"),this.hideWhenOutOfView=void 0===config.hideWhenOutOfView||!!config.hideWhenOutOfView},OO.ui.mixin.FloatableElement.prototype.setFloatableElement=function($floatable){this.$floatable&&(this.$floatable.removeClass("oo-ui-floatableElement-floatable"),this.$floatable.css({left:"",top:""})),this.$floatable=$floatable.addClass("oo-ui-floatableElement-floatable"),this.position()},OO.ui.mixin.FloatableElement.prototype.setFloatableContainer=function($floatableContainer){this.$floatableContainer=$floatableContainer,this.$floatable&&this.position()},OO.ui.mixin.FloatableElement.prototype.setVerticalPosition=function(position){if(-1===["below","above","top","bottom","center"].indexOf(position))throw new Error("Invalid value for vertical position: "+position);this.verticalPosition!==position&&(this.verticalPosition=position,this.$floatable&&this.position())},OO.ui.mixin.FloatableElement.prototype.setHorizontalPosition=function(position){if(-1===["before","after","start","end","center"].indexOf(position))throw new Error("Invalid value for horizontal position: "+position);this.horizontalPosition!==position&&(this.horizontalPosition=position,this.$floatable&&this.position())},OO.ui.mixin.FloatableElement.prototype.togglePositioning=function(positioning){var closestScrollableOfContainer;return this.$floatable&&this.$floatableContainer?(!(positioning=void 0===positioning?!this.positioning:!!positioning)||this.warnedUnattached||this.isElementAttached()||(OO.ui.warnDeprecation("FloatableElement#togglePositioning: Before calling this method, the element must be attached to the DOM."),this.warnedUnattached=!0),this.positioning!==positioning&&(this.positioning=positioning,closestScrollableOfContainer=OO.ui.Element.static.getClosestScrollableContainer(this.$floatableContainer[0]),$(closestScrollableOfContainer).is("html, body")&&(closestScrollableOfContainer=OO.ui.Element.static.getWindow(closestScrollableOfContainer)),positioning?(this.$floatableWindow=$(this.getElementWindow()),this.$floatableWindow.on("resize",this.onFloatableWindowResizeHandler),this.$floatableClosestScrollable=$(closestScrollableOfContainer),this.$floatableClosestScrollable.on("scroll",this.onFloatableScrollHandler),this.position()):(this.$floatableWindow&&(this.$floatableWindow.off("resize",this.onFloatableWindowResizeHandler),this.$floatableWindow=null),this.$floatableClosestScrollable&&(this.$floatableClosestScrollable.off("scroll",this.onFloatableScrollHandler),this.$floatableClosestScrollable=null),this.$floatable.css({left:"",right:"",top:""}))),this):this},OO.ui.mixin.FloatableElement.prototype.isElementInViewport=function($element,$container){var elemRect,contRect,topEdgeInBounds,bottomEdgeInBounds,leftEdgeInBounds,rightEdgeInBounds,startEdgeInBounds,endEdgeInBounds,viewportSpacing,direction=$element.css("direction");return elemRect=$element[0].getBoundingClientRect(),$container[0]===window?(viewportSpacing=OO.ui.getViewportSpacing(),(contRect={top:0,left:0,right:document.documentElement.clientWidth,bottom:document.documentElement.clientHeight}).top+=viewportSpacing.top,contRect.left+=viewportSpacing.left,contRect.right-=viewportSpacing.right,contRect.bottom-=viewportSpacing.bottom):contRect=$container[0].getBoundingClientRect(),topEdgeInBounds=elemRect.top>=contRect.top&&elemRect.top<=contRect.bottom,bottomEdgeInBounds=elemRect.bottom>=contRect.top&&elemRect.bottom<=contRect.bottom,leftEdgeInBounds=elemRect.left>=contRect.left&&elemRect.left<=contRect.right,rightEdgeInBounds=elemRect.right>=contRect.left&&elemRect.right<=contRect.right,"rtl"===direction?(startEdgeInBounds=rightEdgeInBounds,endEdgeInBounds=leftEdgeInBounds):(startEdgeInBounds=leftEdgeInBounds,endEdgeInBounds=rightEdgeInBounds),!("below"===this.verticalPosition&&!bottomEdgeInBounds)&&(!("above"===this.verticalPosition&&!topEdgeInBounds)&&(!("before"===this.horizontalPosition&&!startEdgeInBounds)&&(!("after"===this.horizontalPosition&&!endEdgeInBounds)&&(elemRect.top<=contRect.bottom&&elemRect.bottom>=contRect.top&&elemRect.left<=contRect.right&&elemRect.right>=contRect.left))))},OO.ui.mixin.FloatableElement.prototype.isFloatableOutOfView=function(){return this.floatableOutOfView},OO.ui.mixin.FloatableElement.prototype.position=function(){return this.positioning?!this.isElementAttached()||this.$floatableClosestScrollable[0]!==this.getElementWindow()&&!$.contains(this.getElementDocument(),this.$floatableClosestScrollable[0])?this:(this.floatableOutOfView=this.hideWhenOutOfView&&!this.isElementInViewport(this.$floatableContainer,this.$floatableClosestScrollable),this.floatableOutOfView?(this.$floatable.addClass("oo-ui-element-hidden"),this):(this.$floatable.removeClass("oo-ui-element-hidden"),this.$floatable.css(this.computePosition()),this.clip&&this.clip(),this)):this},OO.ui.mixin.FloatableElement.prototype.computePosition=function(){var isBody,scrollableX,scrollableY,containerPos,horizScrollbarHeight,vertScrollbarWidth,scrollTop,scrollLeft,newPos={top:"",left:"",bottom:"",right:""},direction=this.$floatableContainer.css("direction"),$offsetParent=this.$floatable.offsetParent();return $offsetParent.is("html")&&($offsetParent=$($offsetParent[0].ownerDocument.body)),isBody=$offsetParent.is("body"),scrollableX="scroll"===$offsetParent.css("overflow-x")||"auto"===$offsetParent.css("overflow-x"),scrollableY="scroll"===$offsetParent.css("overflow-y")||"auto"===$offsetParent.css("overflow-y"),vertScrollbarWidth=$offsetParent.innerWidth()-$offsetParent.prop("clientWidth"),horizScrollbarHeight=$offsetParent.innerHeight()-$offsetParent.prop("clientHeight"),scrollTop=scrollableY&&!isBody?$offsetParent.scrollTop():0,scrollLeft=scrollableX&&!isBody?OO.ui.Element.static.getScrollLeft($offsetParent[0]):0,(containerPos=isBody?this.$floatableContainer.offset():OO.ui.Element.static.getRelativePosition(this.$floatableContainer,$offsetParent)).bottom=containerPos.top+this.$floatableContainer.outerHeight(),containerPos.right=containerPos.left+this.$floatableContainer.outerWidth(),containerPos.start="rtl"===direction?containerPos.right:containerPos.left,containerPos.end="rtl"===direction?containerPos.left:containerPos.right,"below"===this.verticalPosition?newPos.top=containerPos.bottom:"above"===this.verticalPosition?newPos.bottom=$offsetParent.outerHeight()-containerPos.top:"top"===this.verticalPosition?newPos.top=containerPos.top:"bottom"===this.verticalPosition?newPos.bottom=$offsetParent.outerHeight()-containerPos.bottom:"center"===this.verticalPosition&&(newPos.top=containerPos.top+(this.$floatableContainer.height()-this.$floatable.height())/2),"before"===this.horizontalPosition?newPos.end=containerPos.start:"after"===this.horizontalPosition?newPos.start=containerPos.end:"start"===this.horizontalPosition?newPos.start=containerPos.start:"end"===this.horizontalPosition?newPos.end=containerPos.end:"center"===this.horizontalPosition&&(newPos.left=containerPos.left+(this.$floatableContainer.width()-this.$floatable.width())/2),void 0!==newPos.start&&("rtl"===direction?newPos.right=(isBody?$($offsetParent[0].ownerDocument.documentElement):$offsetParent).outerWidth()-newPos.start:newPos.left=newPos.start,delete newPos.start),void 0!==newPos.end&&("rtl"===direction?newPos.left=newPos.end:newPos.right=(isBody?$($offsetParent[0].ownerDocument.documentElement):$offsetParent).outerWidth()-newPos.end,delete newPos.end),""!==newPos.top&&(newPos.top+=scrollTop),""!==newPos.bottom&&(newPos.bottom-=scrollTop),""!==newPos.left&&(newPos.left+=scrollLeft),""!==newPos.right&&(newPos.right-=scrollLeft),""!==newPos.bottom&&(newPos.bottom-=horizScrollbarHeight),"rtl"===direction?""!==newPos.left&&(newPos.left-=vertScrollbarWidth):""!==newPos.right&&(newPos.right-=vertScrollbarWidth),newPos},OO.ui.mixin.ClippableElement=function OoUiMixinClippableElement(config){config=config||{},this.$clippable=null,this.$clippableContainer=null,this.clipping=!1,this.clippedHorizontally=!1,this.clippedVertically=!1,this.$clippableScrollableContainer=null,this.$clippableScroller=null,this.$clippableWindow=null,this.idealWidth=null,this.idealHeight=null,this.onClippableScrollHandler=this.clip.bind(this),this.onClippableWindowResizeHandler=this.clip.bind(this),config.$clippableContainer&&this.setClippableContainer(config.$clippableContainer),this.setClippableElement(config.$clippable||this.$element)},OO.ui.mixin.ClippableElement.prototype.setClippableElement=function($clippable){this.$clippable&&(this.$clippable.removeClass("oo-ui-clippableElement-clippable"),this.$clippable.css({width:"",height:"",overflowX:"",overflowY:""}),OO.ui.Element.static.reconsiderScrollbars(this.$clippable[0])),this.$clippable=$clippable.addClass("oo-ui-clippableElement-clippable"),this.clip()},OO.ui.mixin.ClippableElement.prototype.setClippableContainer=function($clippableContainer){this.$clippableContainer=$clippableContainer,this.$clippable&&this.clip()},OO.ui.mixin.ClippableElement.prototype.toggleClipping=function(clipping){return!(clipping=void 0===clipping?!this.clipping:!!clipping)||this.warnedUnattached||this.isElementAttached()||(OO.ui.warnDeprecation("ClippableElement#toggleClipping: Before calling this method, the element must be attached to the DOM."),this.warnedUnattached=!0),this.clipping!==clipping&&(this.clipping=clipping,clipping?(this.$clippableScrollableContainer=$(this.getClosestScrollableElementContainer()),this.$clippableScroller=this.$clippableScrollableContainer.is("html, body")?$(OO.ui.Element.static.getWindow(this.$clippableScrollableContainer)):this.$clippableScrollableContainer,this.$clippableScroller.on("scroll",this.onClippableScrollHandler),this.$clippableWindow=$(this.getElementWindow()).on("resize",this.onClippableWindowResizeHandler),this.clip()):(this.$clippable.css({width:"",height:"",maxWidth:"",maxHeight:"",overflowX:"",overflowY:""}),OO.ui.Element.static.reconsiderScrollbars(this.$clippable[0]),this.$clippableScrollableContainer=null,this.$clippableScroller.off("scroll",this.onClippableScrollHandler),this.$clippableScroller=null,this.$clippableWindow.off("resize",this.onClippableWindowResizeHandler),this.$clippableWindow=null)),this},OO.ui.mixin.ClippableElement.prototype.isClipping=function(){return this.clipping},OO.ui.mixin.ClippableElement.prototype.isClipped=function(){return this.clippedHorizontally||this.clippedVertically},OO.ui.mixin.ClippableElement.prototype.isClippedHorizontally=function(){return this.clippedHorizontally},OO.ui.mixin.ClippableElement.prototype.isClippedVertically=function(){return this.clippedVertically},OO.ui.mixin.ClippableElement.prototype.setIdealSize=function(width,height){this.idealWidth=width,this.idealHeight=height,this.clipping||this.$clippable.css({width:width,height:height})},OO.ui.mixin.ClippableElement.prototype.getHorizontalAnchorEdge=function(){return this.computePosition&&this.positioning&&""!==this.computePosition().right?"right":"left"},OO.ui.mixin.ClippableElement.prototype.getVerticalAnchorEdge=function(){return this.computePosition&&this.positioning&&""!==this.computePosition().bottom?"bottom":"top"},OO.ui.mixin.ClippableElement.prototype.clip=function(){var extraHeight,extraWidth,viewportSpacing,desiredWidth,desiredHeight,allotedWidth,allotedHeight,naturalWidth,clipWidth,clipHeight,$item,itemRect,$viewport,viewportRect,availableRect,direction,vertScrollbarWidth,horizScrollbarHeight;if(!this.clipping)return this;return viewportSpacing=OO.ui.getViewportSpacing(),this.$clippableScrollableContainer.is("html, body")?($viewport=$(this.$clippableScrollableContainer[0].ownerDocument.body),(viewportRect={top:0,left:0,right:document.documentElement.clientWidth,bottom:document.documentElement.clientHeight}).top+=viewportSpacing.top,viewportRect.left+=viewportSpacing.left,viewportRect.right-=viewportSpacing.right,viewportRect.bottom-=viewportSpacing.bottom):(viewportRect=($viewport=this.$clippableScrollableContainer)[0].getBoundingClientRect(),viewportRect=$.extend({},viewportRect)),direction=$viewport.css("direction"),vertScrollbarWidth=$viewport.innerWidth()-$viewport.prop("clientWidth"),horizScrollbarHeight=$viewport.innerHeight()-$viewport.prop("clientHeight"),viewportRect.bottom-=horizScrollbarHeight,"rtl"===direction?viewportRect.left+=vertScrollbarWidth:viewportRect.right-=vertScrollbarWidth,viewportRect.top+=7,viewportRect.left+=7,viewportRect.right-=7,viewportRect.bottom-=7,extraHeight=($item=this.$clippableContainer||this.$clippable).outerHeight()-this.$clippable.outerHeight(),extraWidth=$item.outerWidth()-this.$clippable.outerWidth(),itemRect=$item[0].getBoundingClientRect(),itemRect=$.extend({},itemRect),"right"===this.getHorizontalAnchorEdge()?itemRect.left=viewportRect.left:itemRect.right=viewportRect.right,"bottom"===this.getVerticalAnchorEdge()?itemRect.top=viewportRect.top:itemRect.bottom=viewportRect.bottom,availableRect=function rectIntersection(a,b){var out={};return out.top=Math.max(a.top,b.top),out.left=Math.max(a.left,b.left),out.bottom=Math.min(a.bottom,b.bottom),out.right=Math.min(a.right,b.right),out}(viewportRect,itemRect),desiredWidth=Math.max(0,availableRect.right-availableRect.left),desiredHeight=Math.max(0,availableRect.bottom-availableRect.top),desiredWidth=Math.min(desiredWidth,document.documentElement.clientWidth-viewportSpacing.left-viewportSpacing.right),desiredHeight=Math.min(desiredHeight,document.documentElement.clientHeight-viewportSpacing.top-viewportSpacing.right),allotedWidth=Math.ceil(desiredWidth-extraWidth),allotedHeight=Math.ceil(desiredHeight-extraHeight),naturalWidth=this.$clippable.prop("scrollWidth"),clipHeight=allotedHeight<this.$clippable.prop("scrollHeight"),(clipWidth=allotedWidth<naturalWidth)?(this.$clippable.css("overflowX","scroll"),this.$clippable[0].offsetHeight,this.$clippable.css({width:Math.max(0,allotedWidth),maxWidth:""})):this.$clippable.css({overflowX:"",width:this.idealWidth||"",maxWidth:Math.max(0,allotedWidth)}),clipHeight?(this.$clippable.css("overflowY","scroll"),this.$clippable[0].offsetHeight,this.$clippable.css({height:Math.max(0,allotedHeight),maxHeight:""})):this.$clippable.css({overflowY:"",height:this.idealHeight||"",maxHeight:Math.max(0,allotedHeight)}),(this.clippedHorizontally&&!clipWidth||this.clippedVertically&&!clipHeight)&&OO.ui.Element.static.reconsiderScrollbars(this.$clippable[0]),this.clippedHorizontally=clipWidth,this.clippedVertically=clipHeight,this},OO.ui.PopupWidget=function OoUiPopupWidget(config){config=config||{},OO.ui.PopupWidget.parent.call(this,config),this.$body=$("<div>"),this.$popup=$("<div>"),OO.ui.mixin.LabelElement.call(this,config),OO.ui.mixin.ClippableElement.call(this,$.extend({$clippable:this.$body,$clippableContainer:this.$popup},config)),OO.ui.mixin.FloatableElement.call(this,config),this.$anchor=$("<div>"),this.$container=config.$container,this.containerPadding=void 0!==config.containerPadding?config.containerPadding:10,this.autoClose=!!config.autoClose,this.transitionTimeout=null,this.anchored=!1,this.onDocumentMouseDownHandler=this.onDocumentMouseDown.bind(this),this.onDocumentKeyDownHandler=this.onDocumentKeyDown.bind(this),this.setSize(config.width,config.height),this.toggleAnchor(void 0===config.anchor||config.anchor),this.setAlignment(config.align||"center"),this.setPosition(config.position||"below"),this.setAutoFlip(void 0===config.autoFlip||config.autoFlip),this.setAutoCloseIgnore(config.$autoCloseIgnore),this.$body.addClass("oo-ui-popupWidget-body"),this.$anchor.addClass("oo-ui-popupWidget-anchor"),this.$popup.addClass("oo-ui-popupWidget-popup").append(this.$body),this.$element.addClass("oo-ui-popupWidget").append(this.$popup,this.$anchor),config.$content instanceof $&&this.$body.append(config.$content),config.padded&&this.$body.addClass("oo-ui-popupWidget-body-padded"),config.head&&(this.closeButton=new OO.ui.ButtonWidget({framed:!1,icon:"close"}),this.closeButton.connect(this,{click:"onCloseButtonClick"}),this.$head=$("<div>").addClass("oo-ui-popupWidget-head").append(this.$label,this.closeButton.$element),this.$popup.prepend(this.$head)),config.$footer&&(this.$footer=$("<div>").addClass("oo-ui-popupWidget-footer").append(config.$footer),this.$popup.append(this.$footer)),this.visible=!1,this.$element.addClass("oo-ui-element-hidden")},OO.inheritClass(OO.ui.PopupWidget,OO.ui.Widget),OO.mixinClass(OO.ui.PopupWidget,OO.ui.mixin.LabelElement),OO.mixinClass(OO.ui.PopupWidget,OO.ui.mixin.ClippableElement),OO.mixinClass(OO.ui.PopupWidget,OO.ui.mixin.FloatableElement),OO.ui.PopupWidget.prototype.onDocumentMouseDown=function(e){this.isVisible()&&!OO.ui.contains(this.$element.add(this.$autoCloseIgnore).get(),e.target,!0)&&this.toggle(!1)},OO.ui.PopupWidget.prototype.bindDocumentMouseDownListener=function(){this.getElementDocument().addEventListener("mousedown",this.onDocumentMouseDownHandler,!0),this.getElementDocument().addEventListener("click",this.onDocumentMouseDownHandler,!0)},OO.ui.PopupWidget.prototype.onCloseButtonClick=function(){this.isVisible()&&this.toggle(!1)},OO.ui.PopupWidget.prototype.unbindDocumentMouseDownListener=function(){this.getElementDocument().removeEventListener("mousedown",this.onDocumentMouseDownHandler,!0),this.getElementDocument().removeEventListener("click",this.onDocumentMouseDownHandler,!0)},OO.ui.PopupWidget.prototype.onDocumentKeyDown=function(e){e.which===OO.ui.Keys.ESCAPE&&this.isVisible()&&(this.toggle(!1),e.preventDefault(),e.stopPropagation())},OO.ui.PopupWidget.prototype.bindDocumentKeyDownListener=function(){this.getElementDocument().addEventListener("keydown",this.onDocumentKeyDownHandler,!0)},OO.ui.PopupWidget.prototype.unbindDocumentKeyDownListener=function(){this.getElementDocument().removeEventListener("keydown",this.onDocumentKeyDownHandler,!0)},OO.ui.PopupWidget.prototype.toggleAnchor=function(show){show=void 0===show?!this.anchored:!!show,this.anchored!==show&&(show?(this.$element.addClass("oo-ui-popupWidget-anchored"),this.$element.addClass("oo-ui-popupWidget-anchored-"+this.anchorEdge)):(this.$element.removeClass("oo-ui-popupWidget-anchored"),this.$element.removeClass("oo-ui-popupWidget-anchored-"+this.anchorEdge)),this.anchored=show)},OO.ui.PopupWidget.prototype.setAnchorEdge=function(edge){if(-1===["top","bottom","start","end"].indexOf(edge))throw new Error("Invalid value for edge: "+edge);null!==this.anchorEdge&&this.$element.removeClass("oo-ui-popupWidget-anchored-"+this.anchorEdge),this.anchorEdge=edge,this.anchored&&this.$element.addClass("oo-ui-popupWidget-anchored-"+edge)},OO.ui.PopupWidget.prototype.hasAnchor=function(){return this.anchored},OO.ui.PopupWidget.prototype.toggle=function(show){var change,normalHeight,normalWidth;return change=(show=void 0===show?!this.isVisible():!!show)!==this.isVisible(),!show||this.warnedUnattached||this.isElementAttached()||(OO.ui.warnDeprecation("PopupWidget#toggle: Before calling this method, the popup must be attached to the DOM."),this.warnedUnattached=!0),show&&!this.$floatableContainer&&this.isElementAttached()&&this.setFloatableContainer(this.$element.parent()),change&&show&&this.autoFlip&&(this.isAutoFlipped=!1),OO.ui.PopupWidget.parent.prototype.toggle.call(this,show),change&&(this.togglePositioning(show&&!!this.$floatableContainer),show?(this.autoClose&&(this.bindDocumentMouseDownListener(),this.bindDocumentKeyDownListener()),this.updateDimensions(),this.toggleClipping(!0),this.autoFlip&&("above"!==this.popupPosition&&"below"!==this.popupPosition||(this.isClippedVertically()||this.isFloatableOutOfView())&&(normalHeight=this.$element.height(),this.isAutoFlipped=!this.isAutoFlipped,this.position(),(this.isClippedVertically()||this.isFloatableOutOfView())&&this.$element.height()<normalHeight&&(this.isAutoFlipped=!this.isAutoFlipped,this.position())),"before"!==this.popupPosition&&"after"!==this.popupPosition||(this.isClippedHorizontally()||this.isFloatableOutOfView())&&(normalWidth=this.$element.width(),this.isAutoFlipped=!this.isAutoFlipped,this.toggleClipping(!1),this.position(),this.toggleClipping(!0),(this.isClippedHorizontally()||this.isFloatableOutOfView())&&this.$element.width()<normalWidth&&(this.isAutoFlipped=!this.isAutoFlipped,this.toggleClipping(!1),this.position(),this.toggleClipping(!0)))),this.emit("ready")):(this.toggleClipping(!1),this.autoClose&&(this.unbindDocumentMouseDownListener(),this.unbindDocumentKeyDownListener()))),this},OO.ui.PopupWidget.prototype.setSize=function(width,height,transition){this.width=void 0!==width?width:320,this.height=void 0!==height?height:null,this.isVisible()&&this.updateDimensions(transition)},OO.ui.PopupWidget.prototype.updateDimensions=function(transition){var widget=this;clearTimeout(this.transitionTimeout),transition&&this.$element.addClass("oo-ui-popupWidget-transitioning"),this.position(),transition?this.transitionTimeout=setTimeout(function(){widget.$element.removeClass("oo-ui-popupWidget-transitioning")},200):this.$element.removeClass("oo-ui-popupWidget-transitioning")},OO.ui.PopupWidget.prototype.computePosition=function(){var direction,align,vertical,start,end,near,far,sizeProp,popupSize,anchorSize,anchorOffset,anchorMargin,parentPosition,positionProp,positionAdjustment,floatablePos,offsetParentPos,containerPos,popupPosition,viewportSpacing,popupPos={},anchorCss={left:"",right:"",top:"",bottom:""},hPosMap={forwards:"start",center:"center",backwards:this.anchored?"before":"end"};return this.$container||(this.$container=$(this.getClosestScrollableElementContainer())),direction=this.$container.css("direction"),this.$popup.css({width:null!==this.width?this.width:"auto",height:null!==this.height?this.height:"auto"}),align={ltr:{"force-left":"backwards","force-right":"forwards"},rtl:{"force-left":"forwards","force-right":"backwards"}}[direction][this.align]||this.align,popupPosition=this.popupPosition,this.isAutoFlipped&&(popupPosition={above:"below",below:"above",before:"after",after:"before"}[popupPosition]),start=(vertical="before"===popupPosition||"after"===popupPosition)?"top":"rtl"===direction?"right":"left",end=vertical?"bottom":"rtl"===direction?"left":"right",near=vertical?"top":"left",far=vertical?"bottom":"right",sizeProp=vertical?"Height":"Width",popupSize=vertical?this.height||this.$popup.height():this.width||this.$popup.width(),this.setAnchorEdge({above:"bottom",below:"top",before:"end",after:"start"}[popupPosition]),this.horizontalPosition=vertical?popupPosition:hPosMap[align],this.verticalPosition=vertical?{forwards:"top",center:"center",backwards:"bottom"}[align]:popupPosition,parentPosition=OO.ui.mixin.FloatableElement.prototype.computePosition.call(this),positionProp=vertical?""!==parentPosition.top?"top":"bottom":""!==parentPosition.left?"left":"right",(floatablePos=this.$floatableContainer.offset())[far]=floatablePos[near]+this.$floatableContainer["outer"+sizeProp](),offsetParentPos=this.$element.offsetParent()[0]===document.documentElement?{top:0,left:0}:this.$element.offsetParent().offset(),positionProp===near?(popupPos[near]=offsetParentPos[near]+parentPosition[near],popupPos[far]=popupPos[near]+popupSize):(popupPos[far]=offsetParentPos[near]+this.$element.offsetParent()["inner"+sizeProp]()-parentPosition[far],popupPos[near]=popupPos[far]-popupSize),this.anchored?(anchorOffset=(start===far?-1:1)*((floatablePos[start]+floatablePos[end])/2-popupPos[start]),anchorSize=this.$anchor[0]["scroll"+sizeProp],positionAdjustment=anchorOffset+(anchorMargin=parseFloat(this.$anchor.css("margin-"+start)))<2*anchorSize?(positionProp===start?-1:1)*(2*anchorSize-(anchorOffset+anchorMargin)):anchorOffset+anchorMargin>popupSize-2*anchorSize?(positionProp===end?-1:1)*(anchorOffset+anchorMargin-(popupSize-2*anchorSize)):0):positionAdjustment=0,(containerPos=this.$container[0]===document.documentElement?{top:0,left:0}:this.$container.offset())[far]=containerPos[near]+this.$container["inner"+sizeProp](),this.$container[0]===document.documentElement&&(viewportSpacing=OO.ui.getViewportSpacing(),containerPos[near]+=viewportSpacing[near],containerPos[far]-=viewportSpacing[far]),popupPos[near]+=(positionProp===near?1:-1)*positionAdjustment,popupPos[far]+=(positionProp===near?1:-1)*positionAdjustment,containerPos[near]+this.containerPadding>popupPos[near]?positionAdjustment+=(positionProp===near?1:-1)*(containerPos[near]+this.containerPadding-popupPos[near]):containerPos[far]-this.containerPadding<popupPos[far]&&(positionAdjustment+=(positionProp===far?1:-1)*(popupPos[far]-(containerPos[far]-this.containerPadding))),this.anchored&&(anchorOffset+=(positionProp===start?-1:1)*positionAdjustment,anchorCss[start]=anchorOffset,this.$anchor.css(anchorCss)),parentPosition[positionProp]+=positionAdjustment,parentPosition},OO.ui.PopupWidget.prototype.setAlignment=function(align){["force-left","force-right","backwards","forwards","center"].indexOf(align)>-1?this.align=align:this.align="center",this.position()},OO.ui.PopupWidget.prototype.getAlignment=function(){return this.align},OO.ui.PopupWidget.prototype.setPosition=function(position){-1===["above","below","before","after"].indexOf(position)&&(position="below"),this.popupPosition=position,this.position()},OO.ui.PopupWidget.prototype.getPosition=function(){return this.popupPosition},OO.ui.PopupWidget.prototype.setAutoFlip=function(autoFlip){autoFlip=!!autoFlip,this.autoFlip!==autoFlip&&(this.autoFlip=autoFlip)},OO.ui.PopupWidget.prototype.setAutoCloseIgnore=function($autoCloseIgnore){this.$autoCloseIgnore=$autoCloseIgnore},OO.ui.PopupWidget.prototype.getBodyId=function(){var id=this.$body.attr("id");return void 0===id&&(id=OO.ui.generateElementId(),this.$body.attr("id",id)),id},OO.ui.mixin.PopupElement=function OoUiMixinPopupElement(config){config=config||{},this.popup=new OO.ui.PopupWidget($.extend({autoClose:!0,$floatableContainer:this.$element},config.popup,{$autoCloseIgnore:this.$element.add(config.popup&&config.popup.$autoCloseIgnore)}))},OO.ui.mixin.PopupElement.prototype.getPopup=function(){return this.popup},OO.ui.PopupButtonWidget=function OoUiPopupButtonWidget(config){config=config||{},OO.ui.PopupButtonWidget.parent.call(this,config),OO.ui.mixin.PopupElement.call(this,config),this.$overlay=(!0===config.$overlay?OO.ui.getDefaultOverlay():config.$overlay)||this.$element,this.connect(this,{click:"onAction"}),this.$element.addClass("oo-ui-popupButtonWidget"),this.popup.$element.addClass("oo-ui-popupButtonWidget-popup").toggleClass("oo-ui-popupButtonWidget-framed-popup",this.isFramed()).toggleClass("oo-ui-popupButtonWidget-frameless-popup",!this.isFramed()),this.$overlay.append(this.popup.$element)},OO.inheritClass(OO.ui.PopupButtonWidget,OO.ui.ButtonWidget),OO.mixinClass(OO.ui.PopupButtonWidget,OO.ui.mixin.PopupElement),OO.ui.PopupButtonWidget.prototype.onAction=function(){this.popup.toggle()},OO.ui.mixin.GroupWidget=function OoUiMixinGroupWidget(config){OO.ui.mixin.GroupElement.call(this,config)},OO.mixinClass(OO.ui.mixin.GroupWidget,OO.ui.mixin.GroupElement),OO.ui.mixin.GroupWidget.prototype.setDisabled=function(disabled){var i,len;if(OO.ui.Widget.prototype.setDisabled.call(this,disabled),this.items)for(i=0,len=this.items.length;i<len;i++)this.items[i].updateDisabled();return this},OO.ui.mixin.ItemWidget=function OoUiMixinItemWidget(){},OO.ui.mixin.ItemWidget.prototype.isDisabled=function(){return this.disabled||this.elementGroup instanceof OO.ui.Widget&&this.elementGroup.isDisabled()},OO.ui.mixin.ItemWidget.prototype.setElementGroup=function(group){return OO.ui.Element.prototype.setElementGroup.call(this,group),this.updateDisabled(),this},OO.ui.OptionWidget=function OoUiOptionWidget(config){config=config||{},OO.ui.OptionWidget.parent.call(this,config),OO.ui.mixin.ItemWidget.call(this),OO.ui.mixin.LabelElement.call(this,config),OO.ui.mixin.FlaggedElement.call(this,config),OO.ui.mixin.AccessKeyedElement.call(this,config),OO.ui.mixin.TitledElement.call(this,config),this.highlighted=!1,this.pressed=!1,this.setSelected(!!config.selected),this.$element.data("oo-ui-optionWidget",this).attr("tabindex","-1").attr("role","option").addClass("oo-ui-optionWidget").append(this.$label)},OO.inheritClass(OO.ui.OptionWidget,OO.ui.Widget),OO.mixinClass(OO.ui.OptionWidget,OO.ui.mixin.ItemWidget),OO.mixinClass(OO.ui.OptionWidget,OO.ui.mixin.LabelElement),OO.mixinClass(OO.ui.OptionWidget,OO.ui.mixin.FlaggedElement),OO.mixinClass(OO.ui.OptionWidget,OO.ui.mixin.AccessKeyedElement),OO.mixinClass(OO.ui.OptionWidget,OO.ui.mixin.TitledElement),OO.ui.OptionWidget.static.selectable=!0,OO.ui.OptionWidget.static.highlightable=!0,OO.ui.OptionWidget.static.pressable=!0,OO.ui.OptionWidget.static.scrollIntoViewOnSelect=!1,OO.ui.OptionWidget.prototype.isSelectable=function(){return this.constructor.static.selectable&&!this.disabled&&this.isVisible()},OO.ui.OptionWidget.prototype.isHighlightable=function(){return this.constructor.static.highlightable&&!this.disabled&&this.isVisible()},OO.ui.OptionWidget.prototype.isPressable=function(){return this.constructor.static.pressable&&!this.disabled&&this.isVisible()},OO.ui.OptionWidget.prototype.isSelected=function(){return this.selected},OO.ui.OptionWidget.prototype.isHighlighted=function(){return this.highlighted},OO.ui.OptionWidget.prototype.isPressed=function(){return this.pressed},OO.ui.OptionWidget.prototype.setSelected=function(state){return this.constructor.static.selectable&&(this.selected=!!state,this.$element.toggleClass("oo-ui-optionWidget-selected",state).attr("aria-selected",state.toString()),state&&this.constructor.static.scrollIntoViewOnSelect&&this.scrollElementIntoView(),this.updateThemeClasses()),this},OO.ui.OptionWidget.prototype.setHighlighted=function(state){return this.constructor.static.highlightable&&(this.highlighted=!!state,this.$element.toggleClass("oo-ui-optionWidget-highlighted",state),this.updateThemeClasses()),this},OO.ui.OptionWidget.prototype.setPressed=function(state){return this.constructor.static.pressable&&(this.pressed=!!state,this.$element.toggleClass("oo-ui-optionWidget-pressed",state),this.updateThemeClasses()),this},OO.ui.OptionWidget.prototype.getMatchText=function(){var label=this.getLabel();return"string"==typeof label?label:this.$label.text()},OO.ui.SelectWidget=function OoUiSelectWidget(config){config=config||{},OO.ui.SelectWidget.parent.call(this,config),OO.ui.mixin.GroupWidget.call(this,$.extend({$group:this.$element},config)),this.pressed=!1,this.selecting=null,this.multiselect=!!config.multiselect,this.onDocumentMouseUpHandler=this.onDocumentMouseUp.bind(this),this.onDocumentMouseMoveHandler=this.onDocumentMouseMove.bind(this),this.onDocumentKeyDownHandler=this.onDocumentKeyDown.bind(this),this.onDocumentKeyPressHandler=this.onDocumentKeyPress.bind(this),this.keyPressBuffer="",this.keyPressBufferTimer=null,this.blockMouseOverEvents=0,this.connect(this,{toggle:"onToggle"}),this.$element.on({focusin:this.onFocus.bind(this),mousedown:this.onMouseDown.bind(this),mouseover:this.onMouseOver.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.$element.addClass("oo-ui-selectWidget oo-ui-selectWidget-unpressed").attr("role","listbox"),this.setFocusOwner(this.$element),Array.isArray(config.items)&&this.addItems(config.items)},OO.inheritClass(OO.ui.SelectWidget,OO.ui.Widget),OO.mixinClass(OO.ui.SelectWidget,OO.ui.mixin.GroupWidget),OO.ui.SelectWidget.static.normalizeForMatching=function(text){var normalized=text.trim().replace(/\s+/," ").toLowerCase();return normalized.normalize&&(normalized=normalized.normalize()),normalized},OO.ui.SelectWidget.prototype.onFocus=function(event){var item;if(event.target===this.$element[0])this.findSelectedItem()||(item=this.findFirstSelectableItem());else{if(-1!==event.target.tabIndex)return;item=this.findTargetItem(event)}item&&(item.constructor.static.highlightable?this.highlightItem(item):this.selectItem(item)),event.target!==this.$element[0]&&this.$focusOwner.trigger("focus")},OO.ui.SelectWidget.prototype.onMouseDown=function(e){var item;return this.isDisabled()||e.which!==OO.ui.MouseButtons.LEFT||(this.togglePressed(!0),(item=this.findTargetItem(e))&&item.isSelectable()&&(this.pressItem(item),this.selecting=item,this.getElementDocument().addEventListener("mouseup",this.onDocumentMouseUpHandler,!0),this.getElementDocument().addEventListener("mousemove",this.onDocumentMouseMoveHandler,!0))),!1},OO.ui.SelectWidget.prototype.onDocumentMouseUp=function(e){var item;return this.togglePressed(!1),this.selecting||(item=this.findTargetItem(e))&&item.isSelectable()&&(this.selecting=item),!this.isDisabled()&&e.which===OO.ui.MouseButtons.LEFT&&this.selecting&&(this.pressItem(null),this.chooseItem(this.selecting),this.selecting=null),this.getElementDocument().removeEventListener("mouseup",this.onDocumentMouseUpHandler,!0),this.getElementDocument().removeEventListener("mousemove",this.onDocumentMouseMoveHandler,!0),!1},OO.ui.SelectWidget.prototype.onDocumentMouseMove=function(e){var item;!this.isDisabled()&&this.pressed&&(item=this.findTargetItem(e))&&item!==this.selecting&&item.isSelectable()&&(this.pressItem(item),this.selecting=item)},OO.ui.SelectWidget.prototype.onMouseOver=function(e){var item;if(!this.blockMouseOverEvents)return this.isDisabled()||(item=this.findTargetItem(e),this.highlightItem(item&&item.isHighlightable()?item:null)),!1},OO.ui.SelectWidget.prototype.onMouseLeave=function(){return this.isDisabled()||this.highlightItem(null),!1},OO.ui.SelectWidget.prototype.onDocumentKeyDown=function(e){var nextItem,handled=!1,selected=this.findSelectedItems(),currentItem=this.findHighlightedItem()||(Array.isArray(selected)?selected[0]:selected),firstItem=this.getItems()[0];if(!this.isDisabled()&&this.isVisible()){switch(e.keyCode){case OO.ui.Keys.ENTER:currentItem&&(this.chooseItem(currentItem),handled=!0);break;case OO.ui.Keys.UP:case OO.ui.Keys.LEFT:this.clearKeyPressBuffer(),nextItem=currentItem?this.findRelativeSelectableItem(currentItem,-1):firstItem,handled=!0;break;case OO.ui.Keys.DOWN:case OO.ui.Keys.RIGHT:this.clearKeyPressBuffer(),nextItem=currentItem?this.findRelativeSelectableItem(currentItem,1):firstItem,handled=!0;break;case OO.ui.Keys.ESCAPE:case OO.ui.Keys.TAB:currentItem&&currentItem.setHighlighted(!1),this.unbindDocumentKeyDownListener(),this.unbindDocumentKeyPressListener(),handled=!1}nextItem&&(nextItem.constructor.static.highlightable?this.highlightItem(nextItem):this.chooseItem(nextItem),this.scrollItemIntoView(nextItem)),handled&&(e.preventDefault(),e.stopPropagation())}},OO.ui.SelectWidget.prototype.bindDocumentKeyDownListener=function(){this.getElementDocument().addEventListener("keydown",this.onDocumentKeyDownHandler,!0)},OO.ui.SelectWidget.prototype.unbindDocumentKeyDownListener=function(){this.getElementDocument().removeEventListener("keydown",this.onDocumentKeyDownHandler,!0)},OO.ui.SelectWidget.prototype.scrollItemIntoView=function(item){var widget=this;this.blockMouseOverEvents++,item.scrollElementIntoView().done(function(){setTimeout(function(){widget.blockMouseOverEvents--},200)})},OO.ui.SelectWidget.prototype.clearKeyPressBuffer=function(){this.keyPressBufferTimer&&(clearTimeout(this.keyPressBufferTimer),this.keyPressBufferTimer=null),this.keyPressBuffer=""},OO.ui.SelectWidget.prototype.onDocumentKeyPress=function(e){var c,filter,item,selected;if(!e.charCode)return e.keyCode===OO.ui.Keys.BACKSPACE&&""!==this.keyPressBuffer?(this.keyPressBuffer=this.keyPressBuffer.substr(0,this.keyPressBuffer.length-1),!1):void 0;c=String.fromCodePoint?String.fromCodePoint(e.charCode):String.fromCharCode(e.charCode),this.keyPressBufferTimer&&clearTimeout(this.keyPressBufferTimer),this.keyPressBufferTimer=setTimeout(this.clearKeyPressBuffer.bind(this),1500),selected=this.findSelectedItems(),item=this.findHighlightedItem()||(Array.isArray(selected)?selected[0]:selected),this.keyPressBuffer===c?item&&(item=this.findRelativeSelectableItem(item,1)):this.keyPressBuffer+=c,filter=this.getItemMatcher(this.keyPressBuffer,!1),item&&filter(item)||(item=this.findRelativeSelectableItem(item,1,filter)),item&&(this.isVisible()&&item.constructor.static.highlightable?this.highlightItem(item):this.chooseItem(item),this.scrollItemIntoView(item)),e.preventDefault(),e.stopPropagation()},OO.ui.SelectWidget.prototype.getItemMatcher=function(query,mode){var normalizeForMatching=this.constructor.static.normalizeForMatching,normalizedQuery=normalizeForMatching(query);return!0===mode&&(mode="exact"),function(item){var matchText=normalizeForMatching(item.getMatchText());if(""===normalizedQuery)return"exact"!==mode;switch(mode){case"exact":return matchText===normalizedQuery;case"substring":return-1!==matchText.indexOf(normalizedQuery);default:return 0===matchText.indexOf(normalizedQuery)}}},OO.ui.SelectWidget.prototype.bindDocumentKeyPressListener=function(){this.getElementDocument().addEventListener("keypress",this.onDocumentKeyPressHandler,!0)},OO.ui.SelectWidget.prototype.unbindDocumentKeyPressListener=function(){this.getElementDocument().removeEventListener("keypress",this.onDocumentKeyPressHandler,!0),this.clearKeyPressBuffer()},OO.ui.SelectWidget.prototype.onToggle=function(visible){visible||this.clearKeyPressBuffer()},OO.ui.SelectWidget.prototype.findTargetItem=function(e){var $option=$(e.target).closest(".oo-ui-optionWidget");return $option.closest(".oo-ui-selectWidget").is(this.$element)&&$option.data("oo-ui-optionWidget")||null},OO.ui.SelectWidget.prototype.findSelectedItems=function(){var selected=this.items.filter(function(item){return item.isSelected()});return this.multiselect?selected:selected[0]||null},OO.ui.SelectWidget.prototype.findSelectedItem=function(){return this.findSelectedItems()},OO.ui.SelectWidget.prototype.findHighlightedItem=function(){var i,len;for(i=0,len=this.items.length;i<len;i++)if(this.items[i].isHighlighted())return this.items[i];return null},OO.ui.SelectWidget.prototype.togglePressed=function(pressed){void 0===pressed&&(pressed=!this.pressed),pressed!==this.pressed&&(this.$element.toggleClass("oo-ui-selectWidget-pressed",pressed).toggleClass("oo-ui-selectWidget-unpressed",!pressed),this.pressed=pressed)},OO.ui.SelectWidget.prototype.highlightItem=function(item){var i,len,highlighted,changed=!1;for(i=0,len=this.items.length;i<len;i++)highlighted=this.items[i]===item,this.items[i].isHighlighted()!==highlighted&&(this.items[i].setHighlighted(highlighted),changed=!0);return changed&&(item?this.$focusOwner.attr("aria-activedescendant",item.getElementId()):this.$focusOwner.removeAttr("aria-activedescendant"),this.emit("highlight",item)),this},OO.ui.SelectWidget.prototype.getItemFromLabel=function(label,prefix){var i,item,found,len=this.items.length,filter=this.getItemMatcher(label,"exact");for(i=0;i<len;i++)if((item=this.items[i])instanceof OO.ui.OptionWidget&&item.isSelectable()&&filter(item))return item;if(prefix){for(found=null,filter=this.getItemMatcher(label,"prefix"),i=0;i<len;i++)if((item=this.items[i])instanceof OO.ui.OptionWidget&&item.isSelectable()&&filter(item)){if(found)return null;found=item}if(found)return found}return null},OO.ui.SelectWidget.prototype.selectItemByLabel=function(label,prefix){var itemFromLabel=this.getItemFromLabel(label,!!prefix);return void 0!==label&&itemFromLabel?this.selectItem(itemFromLabel):this.selectItem()},OO.ui.SelectWidget.prototype.selectItemByData=function(data){var itemFromData=this.findItemFromData(data);return void 0!==data&&itemFromData?this.selectItem(itemFromData):this.selectItem()},OO.ui.SelectWidget.prototype.unselectItem=function(item){return item?item.setSelected(!1):this.items.forEach(function(item){item.setSelected(!1)}),this.emit("select",this.findSelectedItems()),this},OO.ui.SelectWidget.prototype.selectItem=function(item){var i,len,selected,changed=!1;if(this.multiselect&&item)item.setSelected(!0);else for(i=0,len=this.items.length;i<len;i++)selected=this.items[i]===item,this.items[i].isSelected()!==selected&&(this.items[i].setSelected(selected),changed=!0);return changed&&(item&&!item.constructor.static.highlightable&&(item?this.$focusOwner.attr("aria-activedescendant",item.getElementId()):this.$focusOwner.removeAttr("aria-activedescendant")),this.emit("select",this.findSelectedItems())),this},OO.ui.SelectWidget.prototype.pressItem=function(item){var i,len,pressed,changed=!1;for(i=0,len=this.items.length;i<len;i++)pressed=this.items[i]===item,this.items[i].isPressed()!==pressed&&(this.items[i].setPressed(pressed),changed=!0);return changed&&this.emit("press",item),this},OO.ui.SelectWidget.prototype.chooseItem=function(item){return item&&(this.multiselect&&item.isSelected()?this.unselectItem(item):this.selectItem(item),this.emit("choose",item,item.isSelected())),this},OO.ui.SelectWidget.prototype.findRelativeSelectableItem=function(item,direction,filter){var nextIndex,i,increase=direction>0?1:-1,len=this.items.length;for(nextIndex=item instanceof OO.ui.OptionWidget?(this.items.indexOf(item)+increase+len)%len:direction>0?0:len-1,i=0;i<len;i++){if((item=this.items[nextIndex])instanceof OO.ui.OptionWidget&&item.isSelectable()&&(!filter||filter(item)))return item;nextIndex=(nextIndex+increase+len)%len}return null},OO.ui.SelectWidget.prototype.findFirstSelectableItem=function(){return this.findRelativeSelectableItem(null,1)},OO.ui.SelectWidget.prototype.addItems=function(items,index){return OO.ui.mixin.GroupWidget.prototype.addItems.call(this,items,index),this.emit("add",items,void 0===index?this.items.length-items.length-1:index),this},OO.ui.SelectWidget.prototype.removeItems=function(items){var i,len;for(i=0,len=items.length;i<len;i++)items[i].isSelected()&&this.selectItem(null);return OO.ui.mixin.GroupWidget.prototype.removeItems.call(this,items),this.emit("remove",items),this},OO.ui.SelectWidget.prototype.clearItems=function(){var items=this.items.slice();return OO.ui.mixin.GroupWidget.prototype.clearItems.call(this),this.selectItem(null),this.emit("remove",items),this},OO.ui.SelectWidget.prototype.setFocusOwner=function($focusOwner){this.$focusOwner=$focusOwner},OO.ui.DecoratedOptionWidget=function OoUiDecoratedOptionWidget(config){OO.ui.DecoratedOptionWidget.parent.call(this,config),OO.ui.mixin.IconElement.call(this,config),OO.ui.mixin.IndicatorElement.call(this,config),this.$element.addClass("oo-ui-decoratedOptionWidget").prepend(this.$icon).append(this.$indicator)},OO.inheritClass(OO.ui.DecoratedOptionWidget,OO.ui.OptionWidget),OO.mixinClass(OO.ui.DecoratedOptionWidget,OO.ui.mixin.IconElement),OO.mixinClass(OO.ui.DecoratedOptionWidget,OO.ui.mixin.IndicatorElement),OO.ui.MenuOptionWidget=function OoUiMenuOptionWidget(config){OO.ui.MenuOptionWidget.parent.call(this,config),this.checkIcon=new OO.ui.IconWidget({icon:"check",classes:["oo-ui-menuOptionWidget-checkIcon"]}),this.$element.prepend(this.checkIcon.$element).addClass("oo-ui-menuOptionWidget")},OO.inheritClass(OO.ui.MenuOptionWidget,OO.ui.DecoratedOptionWidget),OO.ui.MenuOptionWidget.static.scrollIntoViewOnSelect=!0,OO.ui.MenuSectionOptionWidget=function OoUiMenuSectionOptionWidget(config){OO.ui.MenuSectionOptionWidget.parent.call(this,config),this.$element.addClass("oo-ui-menuSectionOptionWidget").removeAttr("role aria-selected"),this.selected=!1},OO.inheritClass(OO.ui.MenuSectionOptionWidget,OO.ui.DecoratedOptionWidget),OO.ui.MenuSectionOptionWidget.static.selectable=!1,OO.ui.MenuSectionOptionWidget.static.highlightable=!1,OO.ui.MenuSelectWidget=function OoUiMenuSelectWidget(config){config=config||{},OO.ui.MenuSelectWidget.parent.call(this,config),OO.ui.mixin.ClippableElement.call(this,$.extend({$clippable:this.$group},config)),OO.ui.mixin.FloatableElement.call(this,config),this.originalVerticalPosition=this.verticalPosition,this.autoHide=void 0===config.autoHide||!!config.autoHide,this.hideOnChoose=void 0===config.hideOnChoose||!!config.hideOnChoose,this.filterFromInput=!!config.filterFromInput,this.$input=config.$input?config.$input:config.input?config.input.$input:null,this.$widget=config.widget?config.widget.$element:null,this.$autoCloseIgnore=config.$autoCloseIgnore||$([]),this.onDocumentMouseDownHandler=this.onDocumentMouseDown.bind(this),this.onInputEditHandler=OO.ui.debounce(this.updateItemVisibility.bind(this),100),this.highlightOnFilter=!!config.highlightOnFilter,this.lastHighlightedItem=null,this.width=config.width,this.filterMode=config.filterMode,this.$element.addClass("oo-ui-menuSelectWidget"),config.widget&&this.setFocusOwner(config.widget.$tabIndexed),this.visible=!1,this.$element.addClass("oo-ui-element-hidden"),this.$focusOwner.attr("aria-expanded","false")},OO.inheritClass(OO.ui.MenuSelectWidget,OO.ui.SelectWidget),OO.mixinClass(OO.ui.MenuSelectWidget,OO.ui.mixin.ClippableElement),OO.mixinClass(OO.ui.MenuSelectWidget,OO.ui.mixin.FloatableElement),OO.ui.MenuSelectWidget.static.flippedPositions={below:"above",above:"below",top:"bottom",bottom:"top"},OO.ui.MenuSelectWidget.prototype.onDocumentMouseDown=function(e){this.isVisible()&&!OO.ui.contains(this.$element.add(this.$widget).add(this.$autoCloseIgnore).get(),e.target,!0)&&this.toggle(!1)},OO.ui.MenuSelectWidget.prototype.onDocumentKeyDown=function(e){var currentItem=this.findHighlightedItem()||this.findSelectedItem();if(!this.isDisabled()&&this.isVisible())switch(e.keyCode){case OO.ui.Keys.LEFT:case OO.ui.Keys.RIGHT:this.$input||OO.ui.MenuSelectWidget.parent.prototype.onDocumentKeyDown.call(this,e);break;case OO.ui.Keys.ESCAPE:case OO.ui.Keys.TAB:currentItem&&!this.multiselect&&currentItem.setHighlighted(!1),this.toggle(!1),e.keyCode===OO.ui.Keys.ESCAPE&&(e.preventDefault(),e.stopPropagation());break;default:return void OO.ui.MenuSelectWidget.parent.prototype.onDocumentKeyDown.call(this,e)}},OO.ui.MenuSelectWidget.prototype.updateItemVisibility=function(){var i,item,items,visible,section,sectionEmpty,filter,exactFilter,anyVisible=!1,len=this.items.length,showAll=!this.isVisible(),exactMatch=!1;if(this.$input&&this.filterFromInput){for(filter=showAll?null:this.getItemMatcher(this.$input.val(),this.filterMode),exactFilter=this.getItemMatcher(this.$input.val(),"exact"),i=0;i<len;i++)(item=this.items[i])instanceof OO.ui.MenuSectionOptionWidget?(section&&section.toggle(showAll||!sectionEmpty),section=item,sectionEmpty=!0):item instanceof OO.ui.OptionWidget&&(visible=showAll||filter(item),exactMatch=exactMatch||exactFilter(item),anyVisible=anyVisible||visible,sectionEmpty=sectionEmpty&&!visible,item.toggle(visible));if(section&&section.toggle(showAll||!sectionEmpty),anyVisible||this.highlightItem(null),this.$element.toggleClass("oo-ui-menuSelectWidget-invisible",!anyVisible),this.highlightOnFilter&&(!this.lastHighlightedItem||!this.lastHighlightedItem.isVisible())&&this.isVisible()){for(item=null,items=this.getItems(),i=0;i<items.length;i++)if(items[i].isVisible()){item=items[i];break}this.highlightItem(item),this.lastHighlightedItem=item}}this.clip()},OO.ui.MenuSelectWidget.prototype.bindDocumentKeyDownListener=function(){this.$input?this.$input.on("keydown",this.onDocumentKeyDownHandler):OO.ui.MenuSelectWidget.parent.prototype.bindDocumentKeyDownListener.call(this)},OO.ui.MenuSelectWidget.prototype.unbindDocumentKeyDownListener=function(){this.$input?this.$input.off("keydown",this.onDocumentKeyDownHandler):OO.ui.MenuSelectWidget.parent.prototype.unbindDocumentKeyDownListener.call(this)},OO.ui.MenuSelectWidget.prototype.bindDocumentKeyPressListener=function(){this.$input?this.filterFromInput&&(this.$input.on("keydown mouseup cut paste change input select",this.onInputEditHandler),this.updateItemVisibility()):OO.ui.MenuSelectWidget.parent.prototype.bindDocumentKeyPressListener.call(this)},OO.ui.MenuSelectWidget.prototype.unbindDocumentKeyPressListener=function(){this.$input?this.filterFromInput&&(this.$input.off("keydown mouseup cut paste change input select",this.onInputEditHandler),this.updateItemVisibility()):OO.ui.MenuSelectWidget.parent.prototype.unbindDocumentKeyPressListener.call(this)},OO.ui.MenuSelectWidget.prototype.chooseItem=function(item){return OO.ui.MenuSelectWidget.parent.prototype.chooseItem.call(this,item),this.hideOnChoose&&this.toggle(!1),this},OO.ui.MenuSelectWidget.prototype.addItems=function(items,index){return OO.ui.MenuSelectWidget.parent.prototype.addItems.call(this,items,index),this.updateItemVisibility(),this},OO.ui.MenuSelectWidget.prototype.removeItems=function(items){return OO.ui.MenuSelectWidget.parent.prototype.removeItems.call(this,items),this.updateItemVisibility(),this},OO.ui.MenuSelectWidget.prototype.clearItems=function(){return OO.ui.MenuSelectWidget.parent.prototype.clearItems.call(this),this.updateItemVisibility(),this},OO.ui.MenuSelectWidget.prototype.toggle=function(visible){var change,originalHeight,selectedItem;return change=(visible=(void 0===visible?!this.visible:!!visible)&&!!this.items.length)!==this.isVisible(),!visible||this.warnedUnattached||this.isElementAttached()||(OO.ui.warnDeprecation("MenuSelectWidget#toggle: Before calling this method, the menu must be attached to the DOM."),this.warnedUnattached=!0),change&&visible&&this.setVerticalPosition(this.originalVerticalPosition),OO.ui.MenuSelectWidget.parent.prototype.toggle.call(this,visible),change&&(visible?(this.width?this.setIdealSize(this.width):this.$floatableContainer&&(this.$clippable.css("width","auto"),this.setIdealSize(this.$floatableContainer[0].offsetWidth>this.$clippable[0].offsetWidth?this.$floatableContainer[0].offsetWidth:"auto"),this.$clippable.css("width","")),this.togglePositioning(!!this.$floatableContainer),this.toggleClipping(!0),this.bindDocumentKeyDownListener(),this.bindDocumentKeyPressListener(),(this.isClippedVertically()||this.isFloatableOutOfView())&&"center"!==this.originalVerticalPosition&&(originalHeight=this.$element.height(),this.setVerticalPosition(this.constructor.static.flippedPositions[this.originalVerticalPosition]),(this.isClippedVertically()||this.isFloatableOutOfView())&&originalHeight>this.$element.height()&&this.setVerticalPosition(this.originalVerticalPosition)),this.$focusOwner.attr("aria-expanded","true"),selectedItem=this.findSelectedItem(),!this.multiselect&&selectedItem&&(this.$focusOwner.attr("aria-activedescendant",selectedItem.getElementId()),selectedItem.scrollElementIntoView({duration:0})),this.autoHide&&this.getElementDocument().addEventListener("mousedown",this.onDocumentMouseDownHandler,!0),this.emit("ready")):(this.$focusOwner.removeAttr("aria-activedescendant"),this.unbindDocumentKeyDownListener(),this.unbindDocumentKeyPressListener(),this.$focusOwner.attr("aria-expanded","false"),this.getElementDocument().removeEventListener("mousedown",this.onDocumentMouseDownHandler,!0),this.togglePositioning(!1),this.toggleClipping(!1),this.lastHighlightedItem=null)),this},OO.ui.MenuSelectWidget.prototype.scrollToTop=function(){this.$element.scrollTop(0)},OO.ui.DropdownWidget=function OoUiDropdownWidget(config){config=$.extend({indicator:"down"},config),OO.ui.DropdownWidget.parent.call(this,config),this.$handle=$("<span>"),this.$overlay=(!0===config.$overlay?OO.ui.getDefaultOverlay():config.$overlay)||this.$element,OO.ui.mixin.IconElement.call(this,config),OO.ui.mixin.IndicatorElement.call(this,config),OO.ui.mixin.LabelElement.call(this,config),OO.ui.mixin.TitledElement.call(this,$.extend({$titled:this.$label},config)),OO.ui.mixin.TabIndexedElement.call(this,$.extend({$tabIndexed:this.$handle},config)),this.menu=new OO.ui.MenuSelectWidget($.extend({widget:this,$floatableContainer:this.$element},config.menu)),this.$handle.on({click:this.onClick.bind(this),keydown:this.onKeyDown.bind(this),keypress:this.menu.onDocumentKeyPressHandler,blur:this.menu.clearKeyPressBuffer.bind(this.menu)}),this.menu.connect(this,{select:"onMenuSelect",toggle:"onMenuToggle"}),this.$label.attr({role:"textbox","aria-readonly":"true"}),this.$handle.addClass("oo-ui-dropdownWidget-handle").append(this.$icon,this.$label,this.$indicator).attr({role:"combobox","aria-autocomplete":"list","aria-expanded":"false","aria-haspopup":"true","aria-owns":this.menu.getElementId()}),this.$element.addClass("oo-ui-dropdownWidget").append(this.$handle),this.$overlay.append(this.menu.$element)},OO.inheritClass(OO.ui.DropdownWidget,OO.ui.Widget),OO.mixinClass(OO.ui.DropdownWidget,OO.ui.mixin.IconElement),OO.mixinClass(OO.ui.DropdownWidget,OO.ui.mixin.IndicatorElement),OO.mixinClass(OO.ui.DropdownWidget,OO.ui.mixin.LabelElement),OO.mixinClass(OO.ui.DropdownWidget,OO.ui.mixin.TitledElement),OO.mixinClass(OO.ui.DropdownWidget,OO.ui.mixin.TabIndexedElement),OO.ui.DropdownWidget.prototype.getMenu=function(){return this.menu},OO.ui.DropdownWidget.prototype.onMenuSelect=function(item){var selectedLabel;item?((selectedLabel=item.getLabel())instanceof $&&(selectedLabel=selectedLabel.clone()),this.setLabel(selectedLabel)):this.setLabel(null)},OO.ui.DropdownWidget.prototype.onMenuToggle=function(isVisible){this.$element.toggleClass("oo-ui-dropdownWidget-open",isVisible)},OO.ui.DropdownWidget.prototype.onClick=function(e){return this.isDisabled()||e.which!==OO.ui.MouseButtons.LEFT||this.menu.toggle(),!1},OO.ui.DropdownWidget.prototype.onKeyDown=function(e){if(!this.isDisabled()&&(e.which===OO.ui.Keys.ENTER||e.which===OO.ui.Keys.SPACE&&""===this.menu.keyPressBuffer||!this.menu.isVisible()&&(e.which===OO.ui.Keys.UP||e.which===OO.ui.Keys.DOWN)))return this.menu.toggle(),!1},OO.ui.RadioOptionWidget=function OoUiRadioOptionWidget(config){config=config||{},this.radio=new OO.ui.RadioInputWidget({value:config.data,tabIndex:-1}),OO.ui.RadioOptionWidget.parent.call(this,config),this.radio.$input.attr("role","presentation"),this.$element.addClass("oo-ui-radioOptionWidget").attr("role","radio").attr("aria-checked","false").removeAttr("aria-selected").prepend(this.radio.$element)},OO.inheritClass(OO.ui.RadioOptionWidget,OO.ui.OptionWidget),OO.ui.RadioOptionWidget.static.highlightable=!1,OO.ui.RadioOptionWidget.static.scrollIntoViewOnSelect=!0,OO.ui.RadioOptionWidget.static.pressable=!1,OO.ui.RadioOptionWidget.static.tagName="label",OO.ui.RadioOptionWidget.prototype.setSelected=function(state){return OO.ui.RadioOptionWidget.parent.prototype.setSelected.call(this,state),this.radio.setSelected(state),this.$element.attr("aria-checked",state.toString()).removeAttr("aria-selected"),this},OO.ui.RadioOptionWidget.prototype.setDisabled=function(disabled){return OO.ui.RadioOptionWidget.parent.prototype.setDisabled.call(this,disabled),this.radio.setDisabled(this.isDisabled()),this},OO.ui.RadioSelectWidget=function OoUiRadioSelectWidget(config){OO.ui.RadioSelectWidget.parent.call(this,config),OO.ui.mixin.TabIndexedElement.call(this,config),this.$element.on({focus:this.bindDocumentKeyDownListener.bind(this),blur:this.unbindDocumentKeyDownListener.bind(this)}),this.$element.addClass("oo-ui-radioSelectWidget").attr("role","radiogroup")},OO.inheritClass(OO.ui.RadioSelectWidget,OO.ui.SelectWidget),OO.mixinClass(OO.ui.RadioSelectWidget,OO.ui.mixin.TabIndexedElement),OO.ui.MultioptionWidget=function OoUiMultioptionWidget(config){config=config||{},OO.ui.MultioptionWidget.parent.call(this,config),OO.ui.mixin.ItemWidget.call(this),OO.ui.mixin.LabelElement.call(this,config),OO.ui.mixin.TitledElement.call(this,config),this.selected=null,this.$element.addClass("oo-ui-multioptionWidget").append(this.$label),this.setSelected(config.selected)},OO.inheritClass(OO.ui.MultioptionWidget,OO.ui.Widget),OO.mixinClass(OO.ui.MultioptionWidget,OO.ui.mixin.ItemWidget),OO.mixinClass(OO.ui.MultioptionWidget,OO.ui.mixin.LabelElement),OO.mixinClass(OO.ui.MultioptionWidget,OO.ui.mixin.TitledElement),OO.ui.MultioptionWidget.prototype.isSelected=function(){return this.selected},OO.ui.MultioptionWidget.prototype.setSelected=function(state){return state=!!state,this.selected!==state&&(this.selected=state,this.emit("change",state),this.$element.toggleClass("oo-ui-multioptionWidget-selected",state)),this},OO.ui.MultiselectWidget=function OoUiMultiselectWidget(config){OO.ui.MultiselectWidget.parent.call(this,config),config=config||{},OO.ui.mixin.GroupWidget.call(this,config),OO.ui.mixin.TitledElement.call(this,config),this.aggregate({change:"select"}),this.connect(this,{select:["emit","change"]}),config.items&&this.addItems(config.items),this.$group.addClass("oo-ui-multiselectWidget-group"),this.$element.addClass("oo-ui-multiselectWidget").append(this.$group)},OO.inheritClass(OO.ui.MultiselectWidget,OO.ui.Widget),OO.mixinClass(OO.ui.MultiselectWidget,OO.ui.mixin.GroupWidget),OO.mixinClass(OO.ui.MultiselectWidget,OO.ui.mixin.TitledElement),OO.ui.MultiselectWidget.prototype.findSelectedItems=function(){return this.items.filter(function(item){return item.isSelected()})},OO.ui.MultiselectWidget.prototype.findSelectedItemsData=function(){return this.findSelectedItems().map(function(item){return item.data})},OO.ui.MultiselectWidget.prototype.selectItems=function(items){return this.items.forEach(function(item){var selected=-1!==items.indexOf(item);item.setSelected(selected)}),this},OO.ui.MultiselectWidget.prototype.selectItemsByData=function(datas){var items,widget=this;return items=datas.map(function(data){return widget.findItemFromData(data)}),this.selectItems(items),this},OO.ui.CheckboxMultioptionWidget=function OoUiCheckboxMultioptionWidget(config){config=config||{},this.checkbox=new OO.ui.CheckboxInputWidget,OO.ui.CheckboxMultioptionWidget.parent.call(this,config),this.checkbox.on("change",this.onCheckboxChange.bind(this)),this.$element.on("keydown",this.onKeyDown.bind(this)),this.$element.addClass("oo-ui-checkboxMultioptionWidget").prepend(this.checkbox.$element)},OO.inheritClass(OO.ui.CheckboxMultioptionWidget,OO.ui.MultioptionWidget),OO.ui.CheckboxMultioptionWidget.static.tagName="label",OO.ui.CheckboxMultioptionWidget.prototype.onCheckboxChange=function(){this.setSelected(this.checkbox.isSelected())},OO.ui.CheckboxMultioptionWidget.prototype.setSelected=function(state){return OO.ui.CheckboxMultioptionWidget.parent.prototype.setSelected.call(this,state),this.checkbox.setSelected(state),this},OO.ui.CheckboxMultioptionWidget.prototype.setDisabled=function(disabled){return OO.ui.CheckboxMultioptionWidget.parent.prototype.setDisabled.call(this,disabled),this.checkbox.setDisabled(this.isDisabled()),this},OO.ui.CheckboxMultioptionWidget.prototype.focus=function(){this.checkbox.focus()},OO.ui.CheckboxMultioptionWidget.prototype.onKeyDown=function(e){var nextItem,element=this.getElementGroup();e.keyCode===OO.ui.Keys.LEFT||e.keyCode===OO.ui.Keys.UP?nextItem=element.getRelativeFocusableItem(this,-1):e.keyCode!==OO.ui.Keys.RIGHT&&e.keyCode!==OO.ui.Keys.DOWN||(nextItem=element.getRelativeFocusableItem(this,1)),nextItem&&(e.preventDefault(),nextItem.focus())},OO.ui.CheckboxMultiselectWidget=function OoUiCheckboxMultiselectWidget(config){OO.ui.CheckboxMultiselectWidget.parent.call(this,config),this.$lastClicked=null,this.$group.on("click",this.onClick.bind(this)),this.$element.addClass("oo-ui-checkboxMultiselectWidget")},OO.inheritClass(OO.ui.CheckboxMultiselectWidget,OO.ui.MultiselectWidget),OO.ui.CheckboxMultiselectWidget.prototype.getRelativeFocusableItem=function(item,direction){var nextIndex,i,increase=direction>0?1:-1,len=this.items.length;for(nextIndex=item?(this.items.indexOf(item)+increase+len)%len:direction>0?0:len-1,i=0;i<len;i++){if((item=this.items[nextIndex])&&!item.isDisabled())return item;nextIndex=(nextIndex+increase+len)%len}return null},OO.ui.CheckboxMultiselectWidget.prototype.onClick=function(e){var $options,lastClickedIndex,nowClickedIndex,i,direction,wasSelected,items,$lastClicked=this.$lastClicked,$nowClicked=$(e.target).closest(".oo-ui-checkboxMultioptionWidget").not(".oo-ui-widget-disabled");if($lastClicked&&$nowClicked.length&&e.shiftKey&&(lastClickedIndex=($options=this.$group.find(".oo-ui-checkboxMultioptionWidget")).index($lastClicked),(nowClickedIndex=$options.index($nowClicked))!==lastClickedIndex)){for(items=this.items,wasSelected=items[nowClickedIndex].isSelected(),direction=nowClickedIndex>lastClickedIndex?1:-1,i=lastClickedIndex;i!==nowClickedIndex;i+=direction)items[i].isDisabled()||items[i].setSelected(!wasSelected);e.preventDefault(),setTimeout(function(){items[nowClickedIndex].isDisabled()||items[nowClickedIndex].setSelected(!wasSelected)})}$nowClicked.length&&(this.$lastClicked=$nowClicked)},OO.ui.CheckboxMultiselectWidget.prototype.focus=function(){var item;return this.isDisabled()||(item=this.getRelativeFocusableItem(null,1))&&item.focus(),this},OO.ui.CheckboxMultiselectWidget.prototype.simulateLabelClick=function(){this.focus()},OO.ui.ProgressBarWidget=function OoUiProgressBarWidget(config){config=config||{},OO.ui.ProgressBarWidget.parent.call(this,config),this.$bar=$("<div>"),this.progress=null,this.setProgress(void 0!==config.progress&&config.progress),this.$bar.addClass("oo-ui-progressBarWidget-bar"),this.$element.attr({role:"progressbar","aria-valuemin":0,"aria-valuemax":100}).addClass("oo-ui-progressBarWidget").append(this.$bar)},OO.inheritClass(OO.ui.ProgressBarWidget,OO.ui.Widget),OO.ui.ProgressBarWidget.static.tagName="div",OO.ui.ProgressBarWidget.prototype.getProgress=function(){return this.progress},OO.ui.ProgressBarWidget.prototype.setProgress=function(progress){this.progress=progress,!1!==progress?(this.$bar.css("width",this.progress+"%"),this.$element.attr("aria-valuenow",this.progress)):(this.$bar.css("width",""),this.$element.removeAttr("aria-valuenow")),this.$element.toggleClass("oo-ui-progressBarWidget-indeterminate",!1===progress)},OO.ui.InputWidget=function OoUiInputWidget(config){config=config||{},OO.ui.InputWidget.parent.call(this,config),this.$input=config.$input||this.getInputElement(config),this.value="",this.inputFilter=config.inputFilter,OO.ui.mixin.TabIndexedElement.call(this,$.extend({$tabIndexed:this.$input},config)),OO.ui.mixin.TitledElement.call(this,$.extend({$titled:this.$input},config)),OO.ui.mixin.AccessKeyedElement.call(this,$.extend({$accessKeyed:this.$input},config)),this.$input.on("keydown mouseup cut paste change input select",this.onEdit.bind(this)),this.$input.addClass("oo-ui-inputWidget-input").attr("name",config.name).prop("disabled",this.isDisabled()),this.$element.addClass("oo-ui-inputWidget").append(this.$input),this.setValue(config.value),config.dir&&this.setDir(config.dir),void 0!==config.inputId&&this.setInputId(config.inputId)},OO.inheritClass(OO.ui.InputWidget,OO.ui.Widget),OO.mixinClass(OO.ui.InputWidget,OO.ui.mixin.TabIndexedElement),OO.mixinClass(OO.ui.InputWidget,OO.ui.mixin.TitledElement),OO.mixinClass(OO.ui.InputWidget,OO.ui.mixin.AccessKeyedElement),OO.ui.InputWidget.static.reusePreInfuseDOM=function(node,config){return(config=OO.ui.InputWidget.parent.static.reusePreInfuseDOM(node,config)).$input=$(node).find(".oo-ui-inputWidget-input"),config},OO.ui.InputWidget.static.gatherPreInfuseState=function(node,config){var state=OO.ui.InputWidget.parent.static.gatherPreInfuseState(node,config);return config.$input&&config.$input.length&&(state.value=config.$input.val(),state.focus=config.$input.is(":focus")),state},OO.ui.InputWidget.prototype.getInputElement=function(){return $("<input>")},OO.ui.InputWidget.prototype.onEdit=function(){var widget=this;this.isDisabled()||setTimeout(function(){widget.setValue(widget.$input.val())})},OO.ui.InputWidget.prototype.getValue=function(){var value=this.$input.val();return this.value!==value&&this.setValue(value),this.value},OO.ui.InputWidget.prototype.setDir=function(dir){return this.$input.prop("dir",dir),this},OO.ui.InputWidget.prototype.setValue=function(value){return value=this.cleanUpValue(value),this.$input.val()!==value&&this.$input.val(value),this.value!==value&&(this.value=value,this.emit("change",this.value)),void 0===this.defaultValue&&(this.defaultValue=this.value,this.$input[0].defaultValue=this.defaultValue),this},OO.ui.InputWidget.prototype.cleanUpValue=function(value){return null==value?"":this.inputFilter?this.inputFilter(String(value)):String(value)},OO.ui.InputWidget.prototype.setDisabled=function(state){return OO.ui.InputWidget.parent.prototype.setDisabled.call(this,state),this.$input&&this.$input.prop("disabled",this.isDisabled()),this},OO.ui.InputWidget.prototype.setInputId=function(id){return this.$input.attr("id",id),this},OO.ui.InputWidget.prototype.restorePreInfuseState=function(state){OO.ui.InputWidget.parent.prototype.restorePreInfuseState.call(this,state),void 0!==state.value&&state.value!==this.getValue()&&this.setValue(state.value),state.focus&&this.focus()},OO.ui.HiddenInputWidget=function OoUiHiddenInputWidget(config){config=$.extend({value:"",name:""},config),OO.ui.HiddenInputWidget.parent.call(this,config),this.$element.attr({type:"hidden",value:config.value,name:config.name}),this.$element.removeAttr("aria-disabled")},OO.inheritClass(OO.ui.HiddenInputWidget,OO.ui.Widget),OO.ui.HiddenInputWidget.static.tagName="input",OO.ui.ButtonInputWidget=function OoUiButtonInputWidget(config){(config=$.extend({type:"button",useInputTag:!1},config)).$input&&config.$input.empty(),this.useInputTag=config.useInputTag,OO.ui.ButtonInputWidget.parent.call(this,config),OO.ui.mixin.ButtonElement.call(this,$.extend({$button:this.$input},config)),OO.ui.mixin.IconElement.call(this,config),OO.ui.mixin.IndicatorElement.call(this,config),OO.ui.mixin.LabelElement.call(this,config),OO.ui.mixin.FlaggedElement.call(this,config),config.useInputTag||this.$input.append(this.$icon,this.$label,this.$indicator),this.$element.addClass("oo-ui-buttonInputWidget")},OO.inheritClass(OO.ui.ButtonInputWidget,OO.ui.InputWidget),OO.mixinClass(OO.ui.ButtonInputWidget,OO.ui.mixin.ButtonElement),OO.mixinClass(OO.ui.ButtonInputWidget,OO.ui.mixin.IconElement),OO.mixinClass(OO.ui.ButtonInputWidget,OO.ui.mixin.IndicatorElement),OO.mixinClass(OO.ui.ButtonInputWidget,OO.ui.mixin.LabelElement),OO.mixinClass(OO.ui.ButtonInputWidget,OO.ui.mixin.FlaggedElement),OO.ui.ButtonInputWidget.static.tagName="span",OO.ui.ButtonInputWidget.prototype.getInputElement=function(config){var type;return type=-1!==["button","submit","reset"].indexOf(config.type)?config.type:"button",$("<"+(config.useInputTag?"input":"button")+' type="'+type+'">')},OO.ui.ButtonInputWidget.prototype.setLabel=function(label){return"function"==typeof label&&(label=OO.ui.resolveMsg(label)),this.useInputTag&&("string"!=typeof label&&(label=""),this.$input.val(label)),OO.ui.mixin.LabelElement.prototype.setLabel.call(this,label)},OO.ui.ButtonInputWidget.prototype.setValue=function(value){return this.useInputTag||OO.ui.ButtonInputWidget.parent.prototype.setValue.call(this,value),this},OO.ui.ButtonInputWidget.prototype.getInputId=function(){return null},OO.ui.CheckboxInputWidget=function OoUiCheckboxInputWidget(config){config=config||{},OO.ui.CheckboxInputWidget.parent.call(this,config),this.checkIcon=new OO.ui.IconWidget({icon:"check",classes:["oo-ui-checkboxInputWidget-checkIcon"]}),this.$element.addClass("oo-ui-checkboxInputWidget").append(this.checkIcon.$element),this.setSelected(void 0!==config.selected&&config.selected),this.setIndeterminate(void 0!==config.indeterminate&&config.indeterminate)},OO.inheritClass(OO.ui.CheckboxInputWidget,OO.ui.InputWidget),OO.ui.CheckboxInputWidget.static.tagName="span",OO.ui.CheckboxInputWidget.static.gatherPreInfuseState=function(node,config){var state=OO.ui.CheckboxInputWidget.parent.static.gatherPreInfuseState(node,config);return state.checked=config.$input.prop("checked"),state},OO.ui.CheckboxInputWidget.prototype.getInputElement=function(){return $("<input>").attr("type","checkbox")},OO.ui.CheckboxInputWidget.prototype.onEdit=function(){var widget=this;this.isDisabled()||setTimeout(function(){widget.setSelected(widget.$input.prop("checked")),widget.setIndeterminate(widget.$input.prop("indeterminate"))})},OO.ui.CheckboxInputWidget.prototype.setSelected=function(state,internal){return state=!!state,this.selected!==state&&(this.selected=state,this.$input.prop("checked",this.selected),internal||(this.setIndeterminate(!1,!0),this.emit("change",this.selected,this.indeterminate))),void 0===this.defaultSelected&&(this.defaultSelected=this.selected,this.$input[0].defaultChecked=this.defaultSelected),this},OO.ui.CheckboxInputWidget.prototype.isSelected=function(){var selected=this.$input.prop("checked");return this.selected!==selected&&this.setSelected(selected),this.selected},OO.ui.CheckboxInputWidget.prototype.setIndeterminate=function(state,internal){return state=!!state,this.indeterminate!==state&&(this.indeterminate=state,this.$input.prop("indeterminate",this.indeterminate),internal||(this.setSelected(!1,!0),this.emit("change",this.selected,this.indeterminate))),this},OO.ui.CheckboxInputWidget.prototype.isIndeterminate=function(){var indeterminate=this.$input.prop("indeterminate");return this.indeterminate!==indeterminate&&this.setIndeterminate(indeterminate),this.indeterminate},OO.ui.CheckboxInputWidget.prototype.simulateLabelClick=function(){this.isDisabled()||this.$handle.trigger("click"),this.focus()},OO.ui.CheckboxInputWidget.prototype.restorePreInfuseState=function(state){OO.ui.CheckboxInputWidget.parent.prototype.restorePreInfuseState.call(this,state),void 0!==state.checked&&state.checked!==this.isSelected()&&this.setSelected(state.checked)},OO.ui.DropdownInputWidget=function OoUiDropdownInputWidget(config){config=config||{},this.dropdownWidget=new OO.ui.DropdownWidget($.extend({$overlay:config.$overlay},config.dropdown)),this.setOptionsData(config.options||[]),OO.ui.DropdownInputWidget.parent.call(this,config),this.dropdownWidget.getMenu().connect(this,{select:"onMenuSelect"}),this.$element.addClass("oo-ui-dropdownInputWidget").append(this.dropdownWidget.$element),OO.ui.isMobile()&&this.$element.addClass("oo-ui-isMobile"),this.setTabIndexedElement(this.dropdownWidget.$tabIndexed),this.setTitledElement(this.dropdownWidget.$handle)},OO.inheritClass(OO.ui.DropdownInputWidget,OO.ui.InputWidget),OO.ui.DropdownInputWidget.prototype.getInputElement=function(){return $("<select>").addClass("oo-ui-indicator-down")},OO.ui.DropdownInputWidget.prototype.onMenuSelect=function(item){this.setValue(item?item.getData():"")},OO.ui.DropdownInputWidget.prototype.setValue=function(value){var selected;return value=this.cleanUpValue(value),selected=this.dropdownWidget.getMenu().findItemFromData(value)||this.dropdownWidget.getMenu().findFirstSelectableItem(),this.dropdownWidget.getMenu().selectItem(selected),value=selected?selected.getData():"",OO.ui.DropdownInputWidget.parent.prototype.setValue.call(this,value),this.optionsDirty&&this.updateOptionsInterface(),this},OO.ui.DropdownInputWidget.prototype.setDisabled=function(state){return this.dropdownWidget.setDisabled(state),OO.ui.DropdownInputWidget.parent.prototype.setDisabled.call(this,state),this},OO.ui.DropdownInputWidget.prototype.setOptions=function(options){var value=this.getValue();return this.setOptionsData(options),this.setValue(value),this},OO.ui.DropdownInputWidget.prototype.setOptionsData=function(options){var optionWidgets,optIndex,opt,previousOptgroup,optionWidget,optValue;for(this.optionsDirty=!0,optionWidgets=[],optIndex=0;optIndex<options.length;optIndex++)void 0!==(opt=options[optIndex]).optgroup?previousOptgroup=optionWidget=this.createMenuSectionOptionWidget(opt.optgroup):(optValue=this.cleanUpValue(opt.data),optionWidget=this.createMenuOptionWidget(optValue,void 0!==opt.label?opt.label:optValue)),(void 0!==opt.disabled||previousOptgroup instanceof OO.ui.MenuSectionOptionWidget&&previousOptgroup.isDisabled())&&optionWidget.setDisabled(!0),optionWidgets.push(optionWidget);this.dropdownWidget.getMenu().clearItems().addItems(optionWidgets)},OO.ui.DropdownInputWidget.prototype.createMenuOptionWidget=function(data,label){return new OO.ui.MenuOptionWidget({data:data,label:label})},OO.ui.DropdownInputWidget.prototype.createMenuSectionOptionWidget=function(label){return new OO.ui.MenuSectionOptionWidget({label:label})},OO.ui.DropdownInputWidget.prototype.updateOptionsInterface=function(){var $optionsContainer=this.$input,defaultValue=this.defaultValue,widget=this;this.$input.empty(),this.dropdownWidget.getMenu().getItems().forEach(function(optionWidget){var $optionNode;optionWidget instanceof OO.ui.MenuSectionOptionWidget?($optionNode=$("<optgroup>").attr("label",optionWidget.getLabel()),widget.$input.append($optionNode),$optionsContainer=$optionNode):(($optionNode=$("<option>").attr("value",optionWidget.getData()).text(optionWidget.getLabel()))[0].defaultSelected=optionWidget.getData()===defaultValue,$optionsContainer.append($optionNode)),optionWidget.isDisabled()&&$optionNode.prop("disabled",!0)}),this.optionsDirty=!1},OO.ui.DropdownInputWidget.prototype.focus=function(){return this.dropdownWidget.focus(),this},OO.ui.DropdownInputWidget.prototype.blur=function(){return this.dropdownWidget.blur(),this},OO.ui.RadioInputWidget=function OoUiRadioInputWidget(config){config=config||{},OO.ui.RadioInputWidget.parent.call(this,config),this.$element.addClass("oo-ui-radioInputWidget").append($("<span>")),this.setSelected(void 0!==config.selected&&config.selected)},OO.inheritClass(OO.ui.RadioInputWidget,OO.ui.InputWidget),OO.ui.RadioInputWidget.static.tagName="span",OO.ui.RadioInputWidget.static.gatherPreInfuseState=function(node,config){var state=OO.ui.RadioInputWidget.parent.static.gatherPreInfuseState(node,config);return state.checked=config.$input.prop("checked"),state},OO.ui.RadioInputWidget.prototype.getInputElement=function(){return $("<input>").attr("type","radio")},OO.ui.RadioInputWidget.prototype.onEdit=function(){},OO.ui.RadioInputWidget.prototype.setSelected=function(state){return this.$input.prop("checked",state),void 0===this.defaultSelected&&(this.defaultSelected=state,this.$input[0].defaultChecked=this.defaultSelected),this},OO.ui.RadioInputWidget.prototype.isSelected=function(){return this.$input.prop("checked")},OO.ui.RadioInputWidget.prototype.simulateLabelClick=function(){this.isDisabled()||this.$input.trigger("click"),this.focus()},OO.ui.RadioInputWidget.prototype.restorePreInfuseState=function(state){OO.ui.RadioInputWidget.parent.prototype.restorePreInfuseState.call(this,state),void 0!==state.checked&&state.checked!==this.isSelected()&&this.setSelected(state.checked)},OO.ui.RadioSelectInputWidget=function OoUiRadioSelectInputWidget(config){config=config||{},this.radioSelectWidget=new OO.ui.RadioSelectWidget,this.setOptionsData(config.options||[]),OO.ui.RadioSelectInputWidget.parent.call(this,config),this.radioSelectWidget.connect(this,{select:"onMenuSelect"}),this.$element.addClass("oo-ui-radioSelectInputWidget").append(this.radioSelectWidget.$element),this.setTabIndexedElement(this.radioSelectWidget.$tabIndexed)},OO.inheritClass(OO.ui.RadioSelectInputWidget,OO.ui.InputWidget),OO.ui.RadioSelectInputWidget.static.gatherPreInfuseState=function(node,config){var state=OO.ui.RadioSelectInputWidget.parent.static.gatherPreInfuseState(node,config);return state.value=$(node).find(".oo-ui-radioInputWidget .oo-ui-inputWidget-input:checked").val(),state},OO.ui.RadioSelectInputWidget.static.reusePreInfuseDOM=function(node,config){return delete(config=OO.ui.RadioSelectInputWidget.parent.static.reusePreInfuseDOM(node,config)).$input,config},OO.ui.RadioSelectInputWidget.prototype.getInputElement=function(){return $("<input>").addClass("oo-ui-element-hidden")},OO.ui.RadioSelectInputWidget.prototype.onMenuSelect=function(item){this.setValue(item.getData())},OO.ui.RadioSelectInputWidget.prototype.setValue=function(value){var selected;return value=this.cleanUpValue(value),selected=this.radioSelectWidget.findItemFromData(value)||this.radioSelectWidget.findFirstSelectableItem(),this.radioSelectWidget.selectItem(selected),value=selected?selected.getData():"",OO.ui.RadioSelectInputWidget.parent.prototype.setValue.call(this,value),this},OO.ui.RadioSelectInputWidget.prototype.setDisabled=function(state){return this.radioSelectWidget.setDisabled(state),OO.ui.RadioSelectInputWidget.parent.prototype.setDisabled.call(this,state),this},OO.ui.RadioSelectInputWidget.prototype.setOptions=function(options){var value=this.getValue();return this.setOptionsData(options),this.setValue(value),this},OO.ui.RadioSelectInputWidget.prototype.setOptionsData=function(options){var widget=this;this.radioSelectWidget.clearItems().addItems(options.map(function(opt){var optValue=widget.cleanUpValue(opt.data);return new OO.ui.RadioOptionWidget({data:optValue,label:void 0!==opt.label?opt.label:optValue})}))},OO.ui.RadioSelectInputWidget.prototype.focus=function(){return this.radioSelectWidget.focus(),this},OO.ui.RadioSelectInputWidget.prototype.blur=function(){return this.radioSelectWidget.blur(),this},OO.ui.CheckboxMultiselectInputWidget=function OoUiCheckboxMultiselectInputWidget(config){config=config||{},this.checkboxMultiselectWidget=new OO.ui.CheckboxMultiselectWidget,this.inputName=config.name,this.setOptionsData(config.options||[]),OO.ui.CheckboxMultiselectInputWidget.parent.call(this,config),this.checkboxMultiselectWidget.connect(this,{select:"onCheckboxesSelect"}),this.$element.addClass("oo-ui-checkboxMultiselectInputWidget").append(this.checkboxMultiselectWidget.$element),this.$input.detach()},OO.inheritClass(OO.ui.CheckboxMultiselectInputWidget,OO.ui.InputWidget),OO.ui.CheckboxMultiselectInputWidget.static.gatherPreInfuseState=function(node,config){var state=OO.ui.CheckboxMultiselectInputWidget.parent.static.gatherPreInfuseState(node,config);return state.value=$(node).find(".oo-ui-checkboxInputWidget .oo-ui-inputWidget-input:checked").toArray().map(function(el){return el.value}),state},OO.ui.CheckboxMultiselectInputWidget.static.reusePreInfuseDOM=function(node,config){return delete(config=OO.ui.CheckboxMultiselectInputWidget.parent.static.reusePreInfuseDOM(node,config)).$input,config},OO.ui.CheckboxMultiselectInputWidget.prototype.getInputElement=function(){return $("<unused>")},OO.ui.CheckboxMultiselectInputWidget.prototype.onCheckboxesSelect=function(){this.setValue(this.checkboxMultiselectWidget.findSelectedItemsData())},OO.ui.CheckboxMultiselectInputWidget.prototype.getValue=function(){var value=this.$element.find(".oo-ui-checkboxInputWidget .oo-ui-inputWidget-input:checked").toArray().map(function(el){return el.value});return this.value!==value&&this.setValue(value),this.value},OO.ui.CheckboxMultiselectInputWidget.prototype.setValue=function(value){return value=this.cleanUpValue(value),this.checkboxMultiselectWidget.selectItemsByData(value),OO.ui.CheckboxMultiselectInputWidget.parent.prototype.setValue.call(this,value),this.optionsDirty&&this.updateOptionsInterface(),this},OO.ui.CheckboxMultiselectInputWidget.prototype.cleanUpValue=function(value){var i,singleValue,cleanValue=[];if(!Array.isArray(value))return cleanValue;for(i=0;i<value.length;i++)singleValue=OO.ui.CheckboxMultiselectInputWidget.parent.prototype.cleanUpValue.call(this,value[i]),this.checkboxMultiselectWidget.findItemFromData(singleValue)&&cleanValue.push(singleValue);return cleanValue},OO.ui.CheckboxMultiselectInputWidget.prototype.setDisabled=function(state){return this.checkboxMultiselectWidget.setDisabled(state),OO.ui.CheckboxMultiselectInputWidget.parent.prototype.setDisabled.call(this,state),this},OO.ui.CheckboxMultiselectInputWidget.prototype.setOptions=function(options){var value=this.getValue();return this.setOptionsData(options),this.setValue(value),this},OO.ui.CheckboxMultiselectInputWidget.prototype.setOptionsData=function(options){var widget=this;this.optionsDirty=!0,this.checkboxMultiselectWidget.clearItems().addItems(options.map(function(opt){var optValue,item,optDisabled;return optValue=OO.ui.CheckboxMultiselectInputWidget.parent.prototype.cleanUpValue.call(widget,opt.data),optDisabled=void 0!==opt.disabled&&opt.disabled,(item=new OO.ui.CheckboxMultioptionWidget({data:optValue,label:void 0!==opt.label?opt.label:optValue,disabled:optDisabled})).checkbox.$input.attr("name",widget.inputName),item.checkbox.setValue(optValue),item}))},OO.ui.CheckboxMultiselectInputWidget.prototype.updateOptionsInterface=function(){var defaultValue=this.defaultValue;this.checkboxMultiselectWidget.getItems().forEach(function(item){var isDefault=-1!==defaultValue.indexOf(item.getData());item.checkbox.defaultSelected=isDefault,item.checkbox.$input[0].defaultChecked=isDefault}),this.optionsDirty=!1},OO.ui.CheckboxMultiselectInputWidget.prototype.focus=function(){return this.checkboxMultiselectWidget.focus(),this},OO.ui.TextInputWidget=function OoUiTextInputWidget(config){config=$.extend({type:"text",labelPosition:"after"},config),OO.ui.TextInputWidget.parent.call(this,config),OO.ui.mixin.IconElement.call(this,config),OO.ui.mixin.IndicatorElement.call(this,config),OO.ui.mixin.PendingElement.call(this,$.extend({$pending:this.$input},config)),OO.ui.mixin.LabelElement.call(this,config),OO.ui.mixin.FlaggedElement.call(this,config),this.type=this.getSaneType(config),this.readOnly=!1,this.required=!1,this.validate=null,this.scrollWidth=null,this.setValidation(config.validate),this.setLabelPosition(config.labelPosition),this.$input.on({keypress:this.onKeyPress.bind(this),blur:this.onBlur.bind(this),focus:this.onFocus.bind(this)}),this.$icon.on("mousedown",this.onIconMouseDown.bind(this)),this.$indicator.on("mousedown",this.onIndicatorMouseDown.bind(this)),this.on("labelChange",this.updatePosition.bind(this)),this.on("change",OO.ui.debounce(this.onDebouncedChange.bind(this),250)),this.$element.addClass("oo-ui-textInputWidget oo-ui-textInputWidget-type-"+this.type).append(this.$icon,this.$indicator),this.setReadOnly(!!config.readOnly),this.setRequired(!!config.required),void 0!==config.placeholder&&this.$input.attr("placeholder",config.placeholder),void 0!==config.maxLength&&this.$input.attr("maxlength",config.maxLength),config.autofocus&&this.$input.attr("autofocus","autofocus"),!1===config.autocomplete&&(this.$input.attr("autocomplete","off"),$(window).on({beforeunload:function(){this.$input.removeAttr("autocomplete")}.bind(this),pageshow:function(){this.$input.attr("autocomplete","off")}.bind(this)})),void 0!==config.spellcheck&&this.$input.attr("spellcheck",config.spellcheck?"true":"false"),this.label&&(this.isWaitingToBeAttached=!0,this.installParentChangeDetector())},OO.inheritClass(OO.ui.TextInputWidget,OO.ui.InputWidget),OO.mixinClass(OO.ui.TextInputWidget,OO.ui.mixin.IconElement),OO.mixinClass(OO.ui.TextInputWidget,OO.ui.mixin.IndicatorElement),OO.mixinClass(OO.ui.TextInputWidget,OO.ui.mixin.PendingElement),OO.mixinClass(OO.ui.TextInputWidget,OO.ui.mixin.LabelElement),OO.mixinClass(OO.ui.TextInputWidget,OO.ui.mixin.FlaggedElement),OO.ui.TextInputWidget.static.validationPatterns={"non-empty":/.+/,integer:/^\d+$/},OO.ui.TextInputWidget.prototype.onIconMouseDown=function(e){if(e.which===OO.ui.MouseButtons.LEFT)return this.focus(),!1},OO.ui.TextInputWidget.prototype.onIndicatorMouseDown=function(e){if(e.which===OO.ui.MouseButtons.LEFT)return this.focus(),!1},OO.ui.TextInputWidget.prototype.onKeyPress=function(e){e.which===OO.ui.Keys.ENTER&&this.emit("enter",e)},OO.ui.TextInputWidget.prototype.onBlur=function(){this.setValidityFlag()},OO.ui.TextInputWidget.prototype.onFocus=function(){this.isWaitingToBeAttached&&this.onElementAttach(),this.setValidityFlag(!0)},OO.ui.TextInputWidget.prototype.onElementAttach=function(){this.isWaitingToBeAttached=!1,this.valCache=null,this.positionLabel()},OO.ui.TextInputWidget.prototype.onDebouncedChange=function(){this.setValidityFlag()},OO.ui.TextInputWidget.prototype.isReadOnly=function(){return this.readOnly},OO.ui.TextInputWidget.prototype.setReadOnly=function(state){return this.readOnly=!!state,this.$input.prop("readOnly",this.readOnly),this},OO.ui.TextInputWidget.prototype.isRequired=function(){return this.required},OO.ui.TextInputWidget.prototype.setRequired=function(state){return this.required=!!state,this.required?(this.$input.prop("required",!0).attr("aria-required","true"),null===this.getIndicator()&&this.setIndicator("required")):(this.$input.prop("required",!1).removeAttr("aria-required"),"required"===this.getIndicator()&&this.setIndicator(null)),this},OO.ui.TextInputWidget.prototype.installParentChangeDetector=function(){var mutationObserver,onRemove,topmostNode,fakeParentNode,MutationObserver=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,widget=this;if(MutationObserver){if(this.isElementAttached())return;for(topmostNode=this.$element[0];topmostNode.parentNode;)topmostNode=topmostNode.parentNode;mutationObserver=new MutationObserver(function(mutations){var i,j,removedNodes;for(i=0;i<mutations.length;i++)for(removedNodes=mutations[i].removedNodes,j=0;j<removedNodes.length;j++)if(removedNodes[j]===topmostNode)return void setTimeout(onRemove,0)}),onRemove=function(){widget.isElementAttached()&&widget.onElementAttach(),mutationObserver.disconnect(),widget.installParentChangeDetector()},fakeParentNode=$("<div>").append(topmostNode)[0],mutationObserver.observe(fakeParentNode,{childList:!0})}else this.$element.on("DOMNodeInsertedIntoDocument",this.onElementAttach.bind(this))},OO.ui.TextInputWidget.prototype.getInputElement=function(config){return"number"===this.getSaneType(config)?$("<input>").attr("step","any").attr("type","number"):$("<input>").attr("type",this.getSaneType(config))},OO.ui.TextInputWidget.prototype.getSaneType=function(config){return-1!==["text","password","email","url","number"].indexOf(config.type)?config.type:"text"},OO.ui.TextInputWidget.prototype.selectRange=function(from,to){var isBackwards,start,end,input=this.$input[0];start=(isBackwards=(to=to||from)<from)?to:from,end=isBackwards?from:to,this.focus();try{input.setSelectionRange(start,end,isBackwards?"backward":"forward")}catch(e){if(this.getElementDocument().body.contains(input))throw e}return this},OO.ui.TextInputWidget.prototype.getRange=function(){var input=this.$input[0],start=input.selectionStart,end=input.selectionEnd,isBackwards="backward"===input.selectionDirection;return{from:isBackwards?end:start,to:isBackwards?start:end}},OO.ui.TextInputWidget.prototype.getInputLength=function(){return this.$input[0].value.length},OO.ui.TextInputWidget.prototype.select=function(){return this.selectRange(0,this.getInputLength())},OO.ui.TextInputWidget.prototype.moveCursorToStart=function(){return this.selectRange(0)},OO.ui.TextInputWidget.prototype.moveCursorToEnd=function(){return this.selectRange(this.getInputLength())},OO.ui.TextInputWidget.prototype.insertContent=function(content){var start,end,range=this.getRange(),value=this.getValue();return start=Math.min(range.from,range.to),end=Math.max(range.from,range.to),this.setValue(value.slice(0,start)+content+value.slice(end)),this.selectRange(start+content.length),this},OO.ui.TextInputWidget.prototype.encapsulateContent=function(pre,post){var start,end,range=this.getRange(),offset=pre.length;return start=Math.min(range.from,range.to),end=Math.max(range.from,range.to),this.selectRange(start).insertContent(pre),this.selectRange(offset+end).insertContent(post),this.selectRange(offset+start,offset+end),this},OO.ui.TextInputWidget.prototype.setValidation=function(validate){validate instanceof RegExp||validate instanceof Function?this.validate=validate:this.validate=this.constructor.static.validationPatterns[validate]||/.*/},OO.ui.TextInputWidget.prototype.setValidityFlag=function(isValid){var widget=this,setFlag=function(valid){valid?widget.$input.removeAttr("aria-invalid"):widget.$input.attr("aria-invalid","true"),widget.setFlags({invalid:!valid})};void 0!==isValid?setFlag(isValid):this.getValidity().then(function(){setFlag(!0)},function(){setFlag(!1)})},OO.ui.TextInputWidget.prototype.getValidity=function(){var result;function rejectOrResolve(valid){return valid?$.Deferred().resolve().promise():$.Deferred().reject().promise()}return void 0!==this.$input[0].checkValidity&&!1===this.$input[0].checkValidity()?rejectOrResolve(!1):this.validate instanceof Function?(result=this.validate(this.getValue()))&&"function"==typeof result.promise?result.promise().then(function(valid){return rejectOrResolve(valid)}):rejectOrResolve(result):rejectOrResolve(this.getValue().match(this.validate))},OO.ui.TextInputWidget.prototype.setLabelPosition=function(labelPosition){return this.labelPosition=labelPosition,this.label&&this.updatePosition(),this},OO.ui.TextInputWidget.prototype.updatePosition=function(){var after="after"===this.labelPosition;return this.$element.toggleClass("oo-ui-textInputWidget-labelPosition-after",!!this.label&&after).toggleClass("oo-ui-textInputWidget-labelPosition-before",!!this.label&&!after),this.valCache=null,this.scrollWidth=null,this.positionLabel(),this},OO.ui.TextInputWidget.prototype.positionLabel=function(){var after,newCss;return this.isWaitingToBeAttached?this:(newCss={"padding-right":"","padding-left":""},this.label?(this.$element.append(this.$label),newCss[(after="after"===this.labelPosition)===("rtl"===this.$element.css("direction"))?"padding-left":"padding-right"]=this.$label.outerWidth(!0)+(after?this.scrollWidth:0),this.$input.css(newCss),this):(this.$label.detach(),void this.$input.css(newCss)))},OO.ui.SearchInputWidget=function OoUiSearchInputWidget(config){config=$.extend({icon:"search"},config),OO.ui.SearchInputWidget.parent.call(this,config),this.connect(this,{change:"onChange"}),this.$indicator.on("click",this.onIndicatorClick.bind(this)),this.updateSearchIndicator(),this.connect(this,{disable:"onDisable"})},OO.inheritClass(OO.ui.SearchInputWidget,OO.ui.TextInputWidget),OO.ui.SearchInputWidget.prototype.getSaneType=function(){return"search"},OO.ui.SearchInputWidget.prototype.onIndicatorClick=function(e){if(e.which===OO.ui.MouseButtons.LEFT)return this.setValue(""),this.focus(),!1},OO.ui.SearchInputWidget.prototype.updateSearchIndicator=function(){""===this.getValue()||this.isDisabled()||this.isReadOnly()?this.setIndicator(null):this.setIndicator("clear")},OO.ui.SearchInputWidget.prototype.onChange=function(){this.updateSearchIndicator()},OO.ui.SearchInputWidget.prototype.onDisable=function(){this.updateSearchIndicator()},OO.ui.SearchInputWidget.prototype.setReadOnly=function(state){return OO.ui.SearchInputWidget.parent.prototype.setReadOnly.call(this,state),this.updateSearchIndicator(),this},OO.ui.MultilineTextInputWidget=function OoUiMultilineTextInputWidget(config){config=$.extend({type:"text"},config),OO.ui.MultilineTextInputWidget.parent.call(this,config),this.autosize=!!config.autosize,this.styleHeight=null,this.minRows=void 0!==config.rows?config.rows:"",this.maxRows=config.maxRows||Math.max(2*(this.minRows||0),10),this.autosize&&(this.$clone=this.$input.clone().removeAttr("id").removeAttr("name").insertAfter(this.$input).attr("aria-hidden","true").addClass("oo-ui-element-hidden")),this.connect(this,{change:"onChange"}),config.rows&&this.$input.attr("rows",config.rows),this.autosize&&(this.$input.addClass("oo-ui-textInputWidget-autosized"),this.isWaitingToBeAttached=!0,this.installParentChangeDetector())},OO.inheritClass(OO.ui.MultilineTextInputWidget,OO.ui.TextInputWidget),OO.ui.MultilineTextInputWidget.static.gatherPreInfuseState=function(node,config){var state=OO.ui.MultilineTextInputWidget.parent.static.gatherPreInfuseState(node,config);return state.scrollTop=config.$input.scrollTop(),state},OO.ui.MultilineTextInputWidget.prototype.onElementAttach=function(){OO.ui.MultilineTextInputWidget.parent.prototype.onElementAttach.call(this),this.adjustSize()},OO.ui.MultilineTextInputWidget.prototype.onChange=function(){this.adjustSize()},OO.ui.MultilineTextInputWidget.prototype.updatePosition=function(){OO.ui.MultilineTextInputWidget.parent.prototype.updatePosition.call(this),this.adjustSize()},OO.ui.MultilineTextInputWidget.prototype.onKeyPress=function(e){(e.which===OO.ui.Keys.ENTER&&(e.ctrlKey||e.metaKey)||10===e.which)&&this.emit("enter",e)},OO.ui.MultilineTextInputWidget.prototype.adjustSize=function(){var scrollHeight,innerHeight,outerHeight,maxInnerHeight,measurementError,idealHeight,newHeight,scrollWidth,property;return this.$input.val()!==this.valCache&&(this.autosize&&(this.$clone.val(this.$input.val()).attr("rows",this.minRows).css("height",0),this.$clone.removeClass("oo-ui-element-hidden"),this.valCache=this.$input.val(),scrollHeight=this.$clone[0].scrollHeight,this.$clone.css("height",""),innerHeight=this.$clone.innerHeight(),outerHeight=this.$clone.outerHeight(),this.$clone.attr("rows",this.maxRows).css("height","auto").val(""),measurementError=(maxInnerHeight=this.$clone.innerHeight())-this.$clone[0].scrollHeight,idealHeight=Math.min(maxInnerHeight,scrollHeight+measurementError),this.$clone.addClass("oo-ui-element-hidden"),(newHeight=idealHeight>innerHeight?idealHeight+(outerHeight-innerHeight):"")!==this.styleHeight&&(this.$input.css("height",newHeight),this.styleHeight=newHeight,this.emit("resize"))),(scrollWidth=this.$input[0].offsetWidth-this.$input[0].clientWidth)!==this.scrollWidth&&(property="rtl"===this.$element.css("direction")?"left":"right",this.$label.css({right:"",left:""}),this.$indicator.css({right:"",left:""}),scrollWidth&&(this.$indicator.css(property,scrollWidth),"after"===this.labelPosition&&this.$label.css(property,scrollWidth)),this.scrollWidth=scrollWidth,this.positionLabel())),this},OO.ui.MultilineTextInputWidget.prototype.getInputElement=function(){return $("<textarea>")},OO.ui.MultilineTextInputWidget.prototype.isAutosizing=function(){return!!this.autosize},OO.ui.MultilineTextInputWidget.prototype.restorePreInfuseState=function(state){OO.ui.MultilineTextInputWidget.parent.prototype.restorePreInfuseState.call(this,state),void 0!==state.scrollTop&&this.$input.scrollTop(state.scrollTop)},OO.ui.ComboBoxInputWidget=function OoUiComboBoxInputWidget(config){(config=$.extend({autocomplete:!1},config)).multiline=!1,config.$input&&config.$input.removeAttr("list"),OO.ui.ComboBoxInputWidget.parent.call(this,config),this.$overlay=(!0===config.$overlay?OO.ui.getDefaultOverlay():config.$overlay)||this.$element,this.dropdownButton=new OO.ui.ButtonWidget({classes:["oo-ui-comboBoxInputWidget-dropdownButton"],label:OO.ui.msg("ooui-combobox-button-label"),indicator:"down",invisibleLabel:!0,disabled:this.disabled}),this.menu=new OO.ui.MenuSelectWidget($.extend({widget:this,input:this,$floatableContainer:this.$element,disabled:this.isDisabled()},config.menu)),this.connect(this,{change:"onInputChange",enter:"onInputEnter"}),this.dropdownButton.connect(this,{click:"onDropdownButtonClick"}),this.menu.connect(this,{choose:"onMenuChoose",add:"onMenuItemsChange",remove:"onMenuItemsChange",toggle:"onMenuToggle"}),this.$input.attr({role:"combobox","aria-owns":this.menu.getElementId(),"aria-autocomplete":"list"}),this.dropdownButton.$button.attr({"aria-controls":this.menu.getElementId()}),void 0!==config.options&&this.setOptions(config.options),this.$field=$("<div>").addClass("oo-ui-comboBoxInputWidget-field").append(this.$input,this.dropdownButton.$element),this.$element.addClass("oo-ui-comboBoxInputWidget").append(this.$field),this.$overlay.append(this.menu.$element),this.onMenuItemsChange()},OO.inheritClass(OO.ui.ComboBoxInputWidget,OO.ui.TextInputWidget),OO.ui.ComboBoxInputWidget.prototype.getMenu=function(){return this.menu},OO.ui.ComboBoxInputWidget.prototype.getInput=function(){return this},OO.ui.ComboBoxInputWidget.prototype.onInputChange=function(value){var match=this.menu.findItemFromData(value);this.menu.selectItem(match),this.menu.findHighlightedItem()&&this.menu.highlightItem(match),this.isDisabled()||this.menu.toggle(!0)},OO.ui.ComboBoxInputWidget.prototype.onInputEnter=function(){this.isDisabled()||this.menu.toggle(!1)},OO.ui.ComboBoxInputWidget.prototype.onDropdownButtonClick=function(){this.menu.toggle(),this.focus()},OO.ui.ComboBoxInputWidget.prototype.onMenuChoose=function(item){this.setValue(item.getData())},OO.ui.ComboBoxInputWidget.prototype.onMenuItemsChange=function(){var match=this.menu.findItemFromData(this.getValue());this.menu.selectItem(match),this.menu.findHighlightedItem()&&this.menu.highlightItem(match),this.$element.toggleClass("oo-ui-comboBoxInputWidget-empty",this.menu.isEmpty())},OO.ui.ComboBoxInputWidget.prototype.onMenuToggle=function(isVisible){this.$element.toggleClass("oo-ui-comboBoxInputWidget-open",isVisible)},OO.ui.ComboBoxInputWidget.prototype.updateControlsDisabled=function(){var disabled=this.isDisabled()||this.isReadOnly();return this.dropdownButton&&this.dropdownButton.setDisabled(disabled),this.menu&&this.menu.setDisabled(disabled),this},OO.ui.ComboBoxInputWidget.prototype.setDisabled=function(){return OO.ui.ComboBoxInputWidget.parent.prototype.setDisabled.apply(this,arguments),this.updateControlsDisabled(),this},OO.ui.ComboBoxInputWidget.prototype.setReadOnly=function(){return OO.ui.ComboBoxInputWidget.parent.prototype.setReadOnly.apply(this,arguments),this.updateControlsDisabled(),this},OO.ui.ComboBoxInputWidget.prototype.setOptions=function(options){return this.getMenu().clearItems().addItems(options.map(function(opt){return new OO.ui.MenuOptionWidget({data:opt.data,label:void 0!==opt.label?opt.label:opt.data})})),this},OO.ui.FieldLayout=function OoUiFieldLayout(fieldWidget,config){if(OO.isPlainObject(fieldWidget)&&void 0===config&&(fieldWidget=(config=fieldWidget).fieldWidget),void 0===fieldWidget)throw new Error("Widget not found");config=$.extend({align:"left",helpInline:!1},config),OO.ui.FieldLayout.parent.call(this,config),OO.ui.mixin.LabelElement.call(this,$.extend({$label:$("<label>")},config)),OO.ui.mixin.TitledElement.call(this,$.extend({$titled:this.$label},config)),this.fieldWidget=fieldWidget,this.errors=[],this.warnings=[],this.successMessages=[],this.notices=[],this.$field=this.isFieldInline()?$("<span>"):$("<div>"),this.$messages=$("<div>"),this.$header=$("<span>"),this.$body=$("<div>"),this.align=null,this.helpInline=config.helpInline,this.fieldWidget.connect(this,{disable:"onFieldDisable"}),this.$help=config.help?this.createHelpElement(config.help,config.$overlay):$([]),this.fieldWidget.getInputId()?(this.$label.attr("for",this.fieldWidget.getInputId()),this.helpInline&&this.$help.attr("for",this.fieldWidget.getInputId())):(this.$label.on("click",function(){this.fieldWidget.simulateLabelClick()}.bind(this)),this.helpInline&&this.$help.on("click",function(){this.fieldWidget.simulateLabelClick()}.bind(this))),this.$element.addClass("oo-ui-fieldLayout").toggleClass("oo-ui-fieldLayout-disabled",this.fieldWidget.isDisabled()).append(this.$body),this.$body.addClass("oo-ui-fieldLayout-body"),this.$header.addClass("oo-ui-fieldLayout-header"),this.$messages.addClass("oo-ui-fieldLayout-messages"),this.$field.addClass("oo-ui-fieldLayout-field").append(this.fieldWidget.$element),this.setErrors(config.errors||[]),this.setWarnings(config.warnings||[]),this.setSuccess(config.successMessages||[]),this.setNotices(config.notices||[]),this.setAlignment(config.align),this.updateTitle()},OO.inheritClass(OO.ui.FieldLayout,OO.ui.Layout),OO.mixinClass(OO.ui.FieldLayout,OO.ui.mixin.LabelElement),OO.mixinClass(OO.ui.FieldLayout,OO.ui.mixin.TitledElement),OO.ui.FieldLayout.prototype.onFieldDisable=function(value){this.$element.toggleClass("oo-ui-fieldLayout-disabled",value)},OO.ui.FieldLayout.prototype.getField=function(){return this.fieldWidget},OO.ui.FieldLayout.prototype.isFieldInline=function(){return"span"===this.getField().$element.prop("tagName").toLowerCase()},OO.ui.FieldLayout.prototype.makeMessage=function(kind,text){return new OO.ui.MessageWidget({type:kind,inline:!0,label:text}).$element},OO.ui.FieldLayout.prototype.setAlignment=function(value){return value!==this.align&&(-1===["left","right","top","inline"].indexOf(value)&&(value="left"),"inline"!==value||this.isFieldInline()||(value="top"),this.helpInline?"top"===value?(this.$header.append(this.$label),this.$body.append(this.$header,this.$field,this.$help)):"inline"===value?(this.$header.append(this.$label,this.$help),this.$body.append(this.$field,this.$header)):(this.$header.append(this.$label,this.$help),this.$body.append(this.$header,this.$field)):"top"===value?(this.$header.append(this.$help,this.$label),this.$body.append(this.$header,this.$field)):"inline"===value?(this.$header.append(this.$help,this.$label),this.$body.append(this.$field,this.$header)):(this.$header.append(this.$label),this.$body.append(this.$header,this.$help,this.$field)),this.align&&this.$element.removeClass("oo-ui-fieldLayout-align-"+this.align),this.$element.addClass("oo-ui-fieldLayout-align-"+value),this.align=value),this},OO.ui.FieldLayout.prototype.setErrors=function(errors){return this.errors=errors.slice(),this.updateMessages(),this},OO.ui.FieldLayout.prototype.setWarnings=function(warnings){return this.warnings=warnings.slice(),this.updateMessages(),this},OO.ui.FieldLayout.prototype.setSuccess=function(successMessages){return this.successMessages=successMessages.slice(),this.updateMessages(),this},OO.ui.FieldLayout.prototype.setNotices=function(notices){return this.notices=notices.slice(),this.updateMessages(),this},OO.ui.FieldLayout.prototype.updateMessages=function(){var i;if(this.$messages.empty(),this.errors.length||this.warnings.length||this.successMessages.length||this.notices.length){for(this.$body.after(this.$messages),i=0;i<this.errors.length;i++)this.$messages.append(this.makeMessage("error",this.errors[i]));for(i=0;i<this.warnings.length;i++)this.$messages.append(this.makeMessage("warning",this.warnings[i]));for(i=0;i<this.successMessages.length;i++)this.$messages.append(this.makeMessage("success",this.successMessages[i]));for(i=0;i<this.notices.length;i++)this.$messages.append(this.makeMessage("notice",this.notices[i]))}else this.$messages.remove()},OO.ui.FieldLayout.prototype.formatTitleWithAccessKey=function(title){return this.fieldWidget&&this.fieldWidget.formatTitleWithAccessKey?this.fieldWidget.formatTitleWithAccessKey(title):title},OO.ui.FieldLayout.prototype.createHelpElement=function(help,$overlay){var helpId,helpWidget;return this.helpInline?helpId=(helpWidget=new OO.ui.LabelWidget({label:help,classes:["oo-ui-inline-help"]})).getElementId():(helpWidget=new OO.ui.PopupButtonWidget({$overlay:$overlay,popup:{padded:!0},classes:["oo-ui-fieldLayout-help"],framed:!1,icon:"info",label:OO.ui.msg("ooui-field-help"),invisibleLabel:!0}),help instanceof OO.ui.HtmlSnippet?helpWidget.getPopup().$body.html(help.toString()):helpWidget.getPopup().$body.text(help),helpId=helpWidget.getPopup().getBodyId()),(this.fieldWidget.$input||this.fieldWidget.$button||this.fieldWidget.$element).attr("aria-describedby",helpId),helpWidget.$element},OO.ui.ActionFieldLayout=function OoUiActionFieldLayout(fieldWidget,buttonWidget,config){OO.isPlainObject(fieldWidget)&&void 0===config&&(fieldWidget=(config=fieldWidget).fieldWidget,buttonWidget=config.buttonWidget),OO.ui.ActionFieldLayout.parent.call(this,fieldWidget,config),this.buttonWidget=buttonWidget,this.$button=$("<span>"),this.$input=this.isFieldInline()?$("<span>"):$("<div>"),this.$element.addClass("oo-ui-actionFieldLayout"),this.$button.addClass("oo-ui-actionFieldLayout-button").append(this.buttonWidget.$element),this.$input.addClass("oo-ui-actionFieldLayout-input").append(this.fieldWidget.$element),this.$field.append(this.$input,this.$button)},OO.inheritClass(OO.ui.ActionFieldLayout,OO.ui.FieldLayout),OO.ui.FieldsetLayout=function OoUiFieldsetLayout(config){var helpWidget;config=config||{},OO.ui.FieldsetLayout.parent.call(this,config),OO.ui.mixin.IconElement.call(this,config),OO.ui.mixin.LabelElement.call(this,config),OO.ui.mixin.GroupElement.call(this,config),this.$header=$("<legend>"),this.$header.addClass("oo-ui-fieldsetLayout-header").append(this.$icon,this.$label),this.$group.addClass("oo-ui-fieldsetLayout-group"),this.$element.addClass("oo-ui-fieldsetLayout").prepend(this.$header,this.$group),config.help&&(config.helpInline?(helpWidget=new OO.ui.LabelWidget({label:config.help,classes:["oo-ui-inline-help"]}),this.$element.prepend(this.$header,helpWidget.$element,this.$group)):(helpWidget=new OO.ui.PopupButtonWidget({$overlay:config.$overlay,popup:{padded:!0},classes:["oo-ui-fieldsetLayout-help"],framed:!1,icon:"info",label:OO.ui.msg("ooui-field-help"),invisibleLabel:!0}),config.help instanceof OO.ui.HtmlSnippet?helpWidget.getPopup().$body.html(config.help.toString()):helpWidget.getPopup().$body.text(config.help),this.$header.append(helpWidget.$element))),Array.isArray(config.items)&&this.addItems(config.items)},OO.inheritClass(OO.ui.FieldsetLayout,OO.ui.Layout),OO.mixinClass(OO.ui.FieldsetLayout,OO.ui.mixin.IconElement),OO.mixinClass(OO.ui.FieldsetLayout,OO.ui.mixin.LabelElement),OO.mixinClass(OO.ui.FieldsetLayout,OO.ui.mixin.GroupElement),OO.ui.FieldsetLayout.static.tagName="fieldset",OO.ui.FormLayout=function OoUiFormLayout(config){var action;config=config||{},OO.ui.FormLayout.parent.call(this,config),OO.ui.mixin.GroupElement.call(this,$.extend({$group:this.$element},config)),this.$element.on("submit",this.onFormSubmit.bind(this)),void 0===(action=config.action)||OO.ui.isSafeUrl(action)||(action="./"+action),this.$element.addClass("oo-ui-formLayout").attr({method:config.method,action:action,enctype:config.enctype}),Array.isArray(config.items)&&this.addItems(config.items)},OO.inheritClass(OO.ui.FormLayout,OO.ui.Layout),OO.mixinClass(OO.ui.FormLayout,OO.ui.mixin.GroupElement),OO.ui.FormLayout.static.tagName="form",OO.ui.FormLayout.prototype.onFormSubmit=function(){if(this.emit("submit"))return!1},OO.ui.PanelLayout=function OoUiPanelLayout(config){config=$.extend({scrollable:!1,padded:!1,expanded:!0,framed:!1},config),OO.ui.PanelLayout.parent.call(this,config),this.$element.addClass("oo-ui-panelLayout"),config.scrollable&&this.$element.addClass("oo-ui-panelLayout-scrollable"),config.padded&&this.$element.addClass("oo-ui-panelLayout-padded"),config.expanded&&this.$element.addClass("oo-ui-panelLayout-expanded"),config.framed&&this.$element.addClass("oo-ui-panelLayout-framed")},OO.inheritClass(OO.ui.PanelLayout,OO.ui.Layout),OO.ui.PanelLayout.static.reusePreInfuseDOM=function(node,config){return!1!==(config=OO.ui.PanelLayout.parent.static.reusePreInfuseDOM(node,config)).preserveContent&&(config.$content=$(node).contents()),config},OO.ui.PanelLayout.prototype.focus=function(){OO.ui.findFocusable(this.$element).focus()},OO.ui.HorizontalLayout=function OoUiHorizontalLayout(config){config=config||{},OO.ui.HorizontalLayout.parent.call(this,config),OO.ui.mixin.GroupElement.call(this,$.extend({$group:this.$element},config)),this.$element.addClass("oo-ui-horizontalLayout"),Array.isArray(config.items)&&this.addItems(config.items)},OO.inheritClass(OO.ui.HorizontalLayout,OO.ui.Layout),OO.mixinClass(OO.ui.HorizontalLayout,OO.ui.mixin.GroupElement),OO.ui.NumberInputWidget=function OoUiNumberInputWidget(config){var $field=$("<div>").addClass("oo-ui-numberInputWidget-field");config=$.extend({min:-1/0,max:1/0,showButtons:!0},config),$.extend(config,config.input),this.input=this,OO.ui.NumberInputWidget.parent.call(this,$.extend(config,{type:"number"})),config.showButtons&&(this.minusButton=new OO.ui.ButtonWidget($.extend({disabled:this.isDisabled(),tabIndex:-1,classes:["oo-ui-numberInputWidget-minusButton"],icon:"subtract"},config.minusButton)),this.minusButton.$element.attr("aria-hidden","true"),this.plusButton=new OO.ui.ButtonWidget($.extend({disabled:this.isDisabled(),tabIndex:-1,classes:["oo-ui-numberInputWidget-plusButton"],icon:"add"},config.plusButton)),this.plusButton.$element.attr("aria-hidden","true")),this.$input.on({keydown:this.onKeyDown.bind(this),"wheel mousewheel DOMMouseScroll":this.onWheel.bind(this)}),config.showButtons&&(this.plusButton.connect(this,{click:["onButtonClick",1]}),this.minusButton.connect(this,{click:["onButtonClick",-1]})),$field.append(this.$input),config.showButtons&&$field.prepend(this.minusButton.$element).append(this.plusButton.$element),(config.allowInteger||config.isInteger)&&(config.step=1),this.setRange(config.min,config.max),this.setStep(config.buttonStep,config.pageStep,config.step),this.setValidation(this.validateNumber.bind(this)),this.$element.addClass("oo-ui-numberInputWidget").toggleClass("oo-ui-numberInputWidget-buttoned",config.showButtons).append($field)},OO.inheritClass(OO.ui.NumberInputWidget,OO.ui.TextInputWidget),OO.ui.NumberInputWidget.prototype.setAllowInteger=function(flag){this.setStep(flag?1:null)},OO.ui.NumberInputWidget.prototype.setIsInteger=OO.ui.NumberInputWidget.prototype.setAllowInteger,OO.ui.NumberInputWidget.prototype.getAllowInteger=function(){return 1===this.step},OO.ui.NumberInputWidget.prototype.getIsInteger=OO.ui.NumberInputWidget.prototype.getAllowInteger,OO.ui.NumberInputWidget.prototype.setRange=function(min,max){if(min>max)throw new Error("Minimum ("+min+") must not be greater than maximum ("+max+")");this.min=min,this.max=max,this.$input.attr("min",this.min),this.$input.attr("max",this.max),this.setValidityFlag()},OO.ui.NumberInputWidget.prototype.getRange=function(){return[this.min,this.max]},OO.ui.NumberInputWidget.prototype.setStep=function(buttonStep,pageStep,step){if(void 0===buttonStep&&(buttonStep=step||1),void 0===pageStep&&(pageStep=10*buttonStep),null!==step&&step<=0)throw new Error("Step value, if given, must be positive");if(buttonStep<=0)throw new Error("Button step value must be positive");if(pageStep<=0)throw new Error("Page step value must be positive");this.step=step,this.buttonStep=buttonStep,this.pageStep=pageStep,this.$input.attr("step",this.step||"any"),this.setValidityFlag()},OO.ui.NumberInputWidget.prototype.setValue=function(value){return""===value&&this.$input.val(""),OO.ui.NumberInputWidget.parent.prototype.setValue.call(this,value)},OO.ui.NumberInputWidget.prototype.getStep=function(){return[this.buttonStep,this.pageStep,this.step]},OO.ui.NumberInputWidget.prototype.getNumericValue=function(){return+this.getValue()},OO.ui.NumberInputWidget.prototype.adjustValue=function(delta){var n,v=this.getNumericValue();if(delta=+delta,isNaN(delta)||!isFinite(delta))throw new Error("Delta must be a finite number");isNaN(v)?n=0:(n=v+delta,n=Math.max(Math.min(n,this.max),this.min),this.step&&(n=Math.round(n/this.step)*this.step)),n!==v&&this.setValue(n)},OO.ui.NumberInputWidget.prototype.validateNumber=function(value){var n=+value;return""===value?!this.isRequired():!(isNaN(n)||!isFinite(n))&&((!this.step||Math.floor(n/this.step)===n/this.step)&&!(n<this.min||n>this.max))},OO.ui.NumberInputWidget.prototype.onButtonClick=function(dir){this.adjustValue(dir*this.buttonStep)},OO.ui.NumberInputWidget.prototype.onWheel=function(event){var delta=0;if(!this.isDisabled()&&!this.isReadOnly())return this.$input.is(":focus")?(void 0!==event.originalEvent.deltaMode&&(this.sawWheelEvent=!0),event.originalEvent.deltaY?delta=-event.originalEvent.deltaY:event.originalEvent.deltaX&&(delta=event.originalEvent.deltaX),this.sawWheelEvent||(event.originalEvent.wheelDeltaX?delta=-event.originalEvent.wheelDeltaX:event.originalEvent.wheelDeltaY?delta=event.originalEvent.wheelDeltaY:event.originalEvent.wheelDelta?delta=event.originalEvent.wheelDelta:event.originalEvent.detail&&(delta=-event.originalEvent.detail)),delta&&(delta=delta<0?-1:1,this.adjustValue(delta*this.buttonStep)),!1):void 0},OO.ui.NumberInputWidget.prototype.onKeyDown=function(e){if(!this.isDisabled()&&!this.isReadOnly())switch(e.which){case OO.ui.Keys.UP:return this.adjustValue(this.buttonStep),!1;case OO.ui.Keys.DOWN:return this.adjustValue(-this.buttonStep),!1;case OO.ui.Keys.PAGEUP:return this.adjustValue(this.pageStep),!1;case OO.ui.Keys.PAGEDOWN:return this.adjustValue(-this.pageStep),!1}},OO.ui.NumberInputWidget.prototype.updateControlsDisabled=function(){var disabled=this.isDisabled()||this.isReadOnly();return this.minusButton&&this.minusButton.setDisabled(disabled),this.plusButton&&this.plusButton.setDisabled(disabled),this},OO.ui.NumberInputWidget.prototype.setDisabled=function(disabled){return OO.ui.NumberInputWidget.parent.prototype.setDisabled.call(this,disabled),this.updateControlsDisabled(),this},OO.ui.NumberInputWidget.prototype.setReadOnly=function(){return OO.ui.NumberInputWidget.parent.prototype.setReadOnly.apply(this,arguments),this.updateControlsDisabled(),this},OO.ui.SelectFileInputWidget=function OoUiSelectFileInputWidget(config){var widget=this;config=config||{},this.selectButton=new OO.ui.ButtonWidget($.extend({$element:$("<label>"),classes:["oo-ui-selectFileInputWidget-selectButton"],label:OO.ui.msg("ooui-selectfile-button-select")},config.button)),config=$.extend({accept:null,placeholder:OO.ui.msg("ooui-selectfile-placeholder"),$tabIndexed:this.selectButton.$tabIndexed},config),this.info=new OO.ui.SearchInputWidget({classes:["oo-ui-selectFileInputWidget-info"],placeholder:config.placeholder,$tabIndexed:$([])}).setIcon(config.icon),this.info.$input.attr("tabindex",-1),OO.ui.SelectFileInputWidget.parent.call(this,config),this.currentFiles=this.filterFiles(this.$input[0].files||[]),Array.isArray(config.accept)?this.accept=config.accept:this.accept=null,this.multiple=!!config.multiple,this.info.connect(this,{change:"onInfoChange"}),this.selectButton.$button.on({keypress:this.onKeyPress.bind(this)}),this.$input.on({change:this.onFileSelected.bind(this),focus:function(){widget.$input.parent().prop("scrollTop",0)}}),this.connect(this,{change:"updateUI"}),this.fieldLayout=new OO.ui.ActionFieldLayout(this.info,this.selectButton,{align:"top"}),this.$input.attr({type:"file",tabindex:-1,"aria-disabled":null}),this.accept&&this.$input.attr("accept",this.accept.join(", ")),this.multiple&&this.$input.attr("multiple",""),this.selectButton.$button.append(this.$input),this.$element.addClass("oo-ui-selectFileInputWidget").append(this.fieldLayout.$element),this.updateUI()},OO.inheritClass(OO.ui.SelectFileInputWidget,OO.ui.InputWidget),OO.ui.SelectFileInputWidget.static.title="",OO.ui.SelectFileInputWidget.prototype.getFilename=function(){return this.currentFiles.length?this.currentFiles.map(function(file){return file.name}).join(", "):this.getValue().split("\\").pop()},OO.ui.SelectFileInputWidget.prototype.setValue=function(value){void 0!==value&&(value?this.value!==value&&(this.value=value,this.emit("change",this.value)):(this.currentFiles=[],OO.ui.SelectFileInputWidget.super.prototype.setValue.call(this,"")))},OO.ui.SelectFileInputWidget.prototype.onFileSelected=function(e){this.currentFiles=this.filterFiles(e.target.files||[])},OO.ui.SelectFileInputWidget.prototype.updateUI=function(){this.info.setValue(this.getFilename())},OO.ui.SelectFileInputWidget.prototype.filterFiles=function(files){var accept=this.accept;return Array.prototype.filter.call(files,function mimeAllowed(file){var i,mimeTest,mimeType=file.type;if(!accept||!mimeType)return!0;for(i=0;i<accept.length;i++){if((mimeTest=accept[i])===mimeType)return!0;if("/*"===mimeTest.substr(-2)&&(mimeTest=mimeTest.substr(0,mimeTest.length-1),mimeType.substr(0,mimeTest.length)===mimeTest))return!0}return!1})},OO.ui.SelectFileInputWidget.prototype.onInfoChange=function(value){""===value&&this.setValue(null)},OO.ui.SelectFileInputWidget.prototype.onKeyPress=function(e){if(!this.isDisabled()&&this.$input&&(e.which===OO.ui.Keys.SPACE||e.which===OO.ui.Keys.ENTER))return this.$input.trigger("click"),this.selectButton.onDocumentKeyUp(e),!1},OO.ui.SelectFileInputWidget.prototype.setDisabled=function(disabled){return OO.ui.SelectFileInputWidget.parent.prototype.setDisabled.call(this,disabled),this.selectButton.setDisabled(disabled),this.info.setDisabled(disabled),this}}(OO)},function(module,exports,__webpack_require__){function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}__webpack_require__(15),__webpack_require__(26),__webpack_require__(8),__webpack_require__(23),__webpack_require__(58),__webpack_require__(133),__webpack_require__(207),__webpack_require__(16);var HTML=mw.html,util=__webpack_require__(1),Section=__webpack_require__(62),Page=function(){"use strict";function Page(options){(function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")})(this,Page),util.extend(this,{id:options.id||0,title:options.title||"",titleObj:options.titleObj,displayTitle:options.displayTitle||HTML.escape(options.title||""),namespaceNumber:options.namespaceNumber||0,protection:options.protection,sections:[],url:options.url||mw.util.getUrl(options.title),wikidataDescription:options.wikidataDescription,_isMainPage:options.isMainPage||!1,isMissing:void 0===options.isMissing?0===options.id:options.isMissing,lastModified:options.lastModified,anchor:options.anchor,revId:options.revId,_isWatched:options.isWatched,thumbnail:!!Object.prototype.hasOwnProperty.call(options,"thumbnail")&&options.thumbnail,_sectionLookup:{}}),(options.sections||[]).forEach(function(sectionData){var section=new Section(sectionData);this.sections.push(section),this._sectionLookup[section.id]=section}.bind(this)),this.thumbnail&&this.thumbnail.width&&(this.thumbnail.isLandscape=this.thumbnail.width>this.thumbnail.height)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Page,[{key:"getDisplayTitle",value:function(){return this.displayTitle}},{key:"inNamespace",value:function(namespace){return this.namespaceNumber===mw.config.get("wgNamespaceIds")[namespace]}},{key:"isWikiText",value:function(){return"wikitext"===mw.config.get("wgPageContentModel")}},{key:"isMainPage",value:function(){return this._isMainPage}},{key:"isWatched",value:function(){return this._isWatched}},{key:"getRevisionId",value:function(){return this.revId}},{key:"getTitle",value:function(){return this.title}},{key:"getNamespaceId",value:function(){var args=this.title.split(":");return args[1]&&mw.config.get("wgNamespaceIds")[args[0].toLowerCase().replace(" ","_")]||0}},{key:"getSection",value:function(id){return this._sectionLookup[id]}},{key:"getSections",value:function(){return this.sections}}]),Page}();module.exports=Page},function(module,exports,__webpack_require__){var content=__webpack_require__(756);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){var Drawer=__webpack_require__(87),BlockMessageDetails=__webpack_require__(665),Icon=__webpack_require__(27);module.exports=function(props){return new Drawer({className:"drawer block-message",children:[new Icon({name:"stop-hand",additionalClassNames:"block-message-icon"}).$el,new BlockMessageDetails(props).$el]})}},function(module,exports,__webpack_require__){__webpack_require__(9);var util=__webpack_require__(1),View=__webpack_require__(6),mfExtend=__webpack_require__(10),AbuseFilterOverlay=__webpack_require__(213);function AbuseFilterPanel(options){this.isDisallowed=!1,this.overlayManager=options.overlayManager,View.call(this,util.extend({className:"panel hidden"},options))}mfExtend(AbuseFilterPanel,View,{defaults:{readMoreMsg:mw.msg("mobile-frontend-editor-abusefilter-read-more")},template:util.template('\n<div class="message">\n\t<p></p><a href="#/abusefilter" class="readmore">{{readMoreMsg}}</a>\n</div>\n\t'),show:function(type,message){var msg;this.overlayManager.add(/^\/abusefilter$/,function(){return new AbuseFilterOverlay({message:message})}),"warning"===type?msg=mw.msg("mobile-frontend-editor-abusefilter-warning"):"disallow"==type&&(msg=mw.msg("mobile-frontend-editor-abusefilter-disallow"),this.isDisallowed=!0),this.$el.find(".message p").text(msg),this.$el.removeClass("hidden")},hide:function(){this.$el.addClass("hidden")}}),module.exports=AbuseFilterPanel},function(module,exports,__webpack_require__){__webpack_require__(9),__webpack_require__(26);var EditorOverlayBase=__webpack_require__(322),EditorGateway=__webpack_require__(324),blockMessageDrawer=__webpack_require__(149),mfExtend=__webpack_require__(10),router=mw.loader.require("mediawiki.router"),identifyLeadParagraph=__webpack_require__(716),util=__webpack_require__(1);function VisualEditorOverlay(options){EditorOverlayBase.call(this,util.extend({editSwitcher:!1,hasToolbar:!0,onBeforeExit:this.onBeforeExit.bind(this),isBorderBox:!1,className:"overlay editor-overlay editor-overlay-ve"},options)),this.SourceEditorOverlay=options.SourceEditorOverlay,this.isNewPage=options.isNewPage,this.fromModified=options.dataPromise&&options.switched,this.gateway=new EditorGateway({api:options.api,title:options.title,sectionId:options.sectionId,oldId:options.oldId,isNewPage:options.isNewPage})}mfExtend(VisualEditorOverlay,EditorOverlayBase,{templatePartials:util.extend({},EditorOverlayBase.prototype.templatePartials,{editHeader:util.template('\n<div class="overlay-header header initial-header hideable hidden">\n\t<div class="toolbar"></div>\n</div>\n\t\t'),content:util.template('\n<div class="surface" lang="{{contentLang}}" dir="{{contentDir}}">\n</div>\n\t\t')}),editor:"visualeditor",destroyTarget:function(){this.target&&(this.target.destroy(),this.target=null)},show:function(){var overlay=this,options=this.options,showAnonWarning=options.isAnon&&!options.switched;EditorOverlayBase.prototype.show.apply(this,arguments),this.options.switched||(this.hideSpinner(),this.$el.addClass("loading")),this.target=ve.init.mw.targetFactory.create("article",this,{$element:this.$el,section:this.options.sectionId}),this.target.once("surfaceReady",function(){this.emit("editor-loaded"),this.$el.removeClass("loading"),this.scrollToLeadParagraph(),overlay.log({action:"ready"}),overlay.log({action:"loaded"})}.bind(this)),this.dataPromise=this.target.load(this.options.dataPromise),showAnonWarning?(this.$anonWarning=this.createAnonWarning(this.options),this.$el.append(this.$anonWarning),this.$el.find(".overlay-content").hide(),this.$el.removeClass("loading")):this.checkForBlocks()},scrollToLeadParagraph:function(){var editLead,readLead,offset,currentPageHTMLParser=this.options.currentPageHTMLParser,fakeScroll=this.options.fakeScroll,$window=$(window),section=this.target.section,surface=this.target.getSurface(),mode=surface.getMode();(null===section||0===section)&&"visual"===mode&&(editLead=identifyLeadParagraph(surface.getView().$attachedRootNode),readLead=identifyLeadParagraph(currentPageHTMLParser.getLeadSectionElement()),editLead&&readLead&&(offset=$(editLead).offset().top-($(readLead).offset().top-fakeScroll),$window.scrollTop($window.scrollTop()+offset)))},onBeforeExit:function(exit){var overlay=this;EditorOverlayBase.prototype.onBeforeExit.call(this,function(){exit(),overlay.destroyTarget()})},onClickBack:function(){EditorOverlayBase.prototype.onClickBack.apply(this,arguments),this.switchToEditor()},onClickAnonymous:function(){var self=this;this.$anonWarning.hide(),this.checkForBlocks().then(function(){self.$el.find(".overlay-content").show()})},checkForBlocks:function(){var self=this;return this.dataPromise.then(function(data){data.visualeditor&&data.visualeditor.blockinfo&&mw.loader.using("moment").then(function(){var block=self.parseBlockInfo(data.visualeditor.blockinfo);blockMessageDrawer(block).toggle(),self.hide()})})},switchToEditor:function(){this.showHidden(".initial-header")},switchToSourceEditor:function(dataPromise){var SourceEditorOverlay=this.SourceEditorOverlay,options=this.getOptionsForSwitch();this.log({action:"abort",type:"switchnochange",mechanism:"navigate"}),this.logFeatureUse({feature:"editor-switch",action:"source-mobile"}),mw.storage.set("preferredEditor","SourceEditor"),this.showSpinner(),this.$el.find(".surface").hide(),this.hideSpinner(),dataPromise&&(options.sectionId=null,router.navigateTo(document.title,{path:"#/editor/all",useReplaceState:!0})),this.switching=!0,this.overlayManager.replaceCurrent(new SourceEditorOverlay(options,dataPromise)),this.switching=!1},onSaveComplete:function(){EditorOverlayBase.prototype.onSaveComplete.apply(this,arguments),this.destroyTarget()},hasChanged:function(){return!this.saved&&(this.fromModified||this.target&&this.target.getSurface()&&this.target.getSurface().getModel().hasBeenModified())}}),module.exports=VisualEditorOverlay},function(module,exports,__webpack_require__){__webpack_require__(9),__webpack_require__(15),__webpack_require__(35),__webpack_require__(318),__webpack_require__(16);var View=__webpack_require__(6),util=__webpack_require__(1),langUtil=__webpack_require__(719);function LanguageSearcher(props){var languages=langUtil.getStructuredLanguages(props.languages,props.variants,langUtil.getFrequentlyUsedLanguages(),props.deviceLanguage);View.call(this,util.extend({className:"language-searcher",events:{"click a":"onLinkClick","input .search":"onSearchInput"},inputPlaceholder:mw.msg("mobile-frontend-languages-structured-overlay-search-input-placeholder"),allLanguagesHeader:mw.msg("mobile-frontend-languages-structured-overlay-all-languages-header").toLocaleUpperCase(),suggestedLanguagesHeader:mw.msg("mobile-frontend-languages-structured-overlay-suggested-languages-header").toLocaleUpperCase(),allLanguages:languages.all,allLanguagesCount:languages.all.length,suggestedLanguages:languages.suggested,suggestedLanguagesCount:languages.suggested.length},props))}__webpack_require__(10)(LanguageSearcher,View,{template:util.template('\n<div class="panel panel--white">\n\t<div class="panel-body search-box">\n\t\t<input type="search" class="search" placeholder="{{inputPlaceholder}}">\n\t</div>\n</div>\n\n<div class="overlay-content-body">\n\t{{#suggestedLanguagesCount}}\n\t<h3 class="list-header">{{suggestedLanguagesHeader}}</h3>\n\t<ol class="site-link-list suggested-languages">\n\t\t{{#suggestedLanguages}}\n\t\t\t<li>\n\t\t\t\t<a href="{{url}}" class="{{lang}}" hreflang="{{lang}}" lang="{{lang}}" dir="{{dir}}">\n\t\t\t\t\t<span class="autonym">{{autonym}}</span>\n\t\t\t\t\t{{#title}}\n\t\t\t\t\t\t<span class="title">{{title}}</span>\n\t\t\t\t\t{{/title}}\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t{{/suggestedLanguages}}\n\t</ol>\n\t{{/suggestedLanguagesCount}}\n\n\t{{#allLanguagesCount}}\n\t<h3 class="list-header">{{allLanguagesHeader}} ({{allLanguagesCount}})</h3>\n\t<ul class="site-link-list all-languages">\n\t\t{{#allLanguages}}\n\t\t\t<li>\n\t\t\t\t<a href="{{url}}" class="{{lang}}" hreflang="{{lang}}" lang="{{lang}}" dir="{{dir}}">\n\t\t\t\t\t<span class="autonym">{{autonym}}</span>\n\t\t\t\t\t{{#title}}\n\t\t\t\t\t\t<span class="title">{{title}}</span>\n\t\t\t\t\t{{/title}}\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t{{/allLanguages}}\n\t</ul>\n\t{{/allLanguagesCount}}\n</div>\n\t'),postRender:function(){this.$siteLinksList=this.$el.find(".site-link-list"),this.$languageItems=this.$siteLinksList.find("a"),this.$subheaders=this.$el.find("h3")},onLinkClick:function(ev){var lang=this.$el.find(ev.currentTarget).attr("lang");langUtil.saveLanguageUsageCount(lang,langUtil.getFrequentlyUsedLanguages())},onSearchInput:function(ev){this.filterLanguages(this.$el.find(ev.target).val().toLowerCase())},filterLanguages:function(val){var filteredList=[];val?(this.options.languages.forEach(function(language){var langname=language.langname;(-1<language.autonym.toLowerCase().indexOf(val)||langname&&-1<langname.toLowerCase().indexOf(val)||-1<language.lang.toLowerCase().indexOf(val))&&filteredList.push(language.lang)}),this.options.variants&&this.options.variants.forEach(function(variant){(-1<variant.autonym.toLowerCase().indexOf(val)||-1<variant.lang.toLowerCase().indexOf(val))&&filteredList.push(variant.lang)}),this.$languageItems.addClass("hidden"),filteredList.length&&this.$siteLinksList.find("."+filteredList.join(",.")).removeClass("hidden"),this.$siteLinksList.addClass("filtered"),this.$subheaders.addClass("hidden")):(this.$languageItems.removeClass("hidden"),this.$siteLinksList.removeClass("filtered"),this.$subheaders.removeClass("hidden"))}}),module.exports=LanguageSearcher},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return languageApiResponse});var languageApiResponse={languages:[{lang:"fr",url:"https://fr.wikipedia.org/wiki/Espagne",langname:"French",autonym:"français",dir:"ltr",title:"Espagne"},{lang:"es",url:"https://es.wikipedia.org/wiki/Espa%C3%B1a",langname:"Spanish",autonym:"español",title:"España"},{lang:"he",url:"https://he.wikipedia.org/wiki/%D7%A1%D7%A4%D7%A8%D7%93",langname:"Hebrew",autonym:"עברית",title:"ספרד"}],variants:[{url:"#",lang:"zh",autonym:"不转换"},{url:"#",lang:"zh-hans",autonym:"简体"}],deviceLanguage:"es"}},function(module,exports,__webpack_require__){var util=__webpack_require__(1),View=__webpack_require__(6),promisedView=__webpack_require__(73);module.exports=function notificationsList(echo,markAllReadButton,onCountChange,onNotificationListRendered){var wrapperWidget,maxNotificationCount=mw.config.get("wgEchoMaxNotificationCount"),echoApi=new echo.api.EchoApi,unreadCounter=new echo.dm.UnreadNotificationCounter(echoApi,"all",maxNotificationCount),modelManager=new echo.dm.ModelManager(unreadCounter,{type:["message","alert"]}),controller=new echo.Controller(echoApi,modelManager,{type:["message","alert"]}),markAsReadHandler=function(){markAllReadButton.toggle(controller.manager.hasLocalUnread())},$moreOptions=util.parseHTML("<div>").addClass("notifications-overlay-overlay position-fixed");return echo.config.maxPrioritizedActions=1,wrapperWidget=new echo.ui.NotificationsWrapper(controller,modelManager,{$overlay:$moreOptions}),unreadCounter.on("countChange",function(count){onCountChange(controller.manager.getUnreadCounter().getCappedNotificationCount(count)),markAsReadHandler()}),markAllReadButton.on("click",function(){var numNotifications=controller.manager.getLocalUnread().length;controller.markLocalNotificationsRead().then(function(){mw.notify(mw.msg("echo-mark-all-as-read-confirmation",numNotifications)),markAllReadButton.toggle(!1)},function(){markAllReadButton.toggle(!1)})}),promisedView(wrapperWidget.populate().then(function(){return controller.updateSeenTime(),onNotificationListRendered(),markAsReadHandler(),modelManager.on("update",markAsReadHandler),View.make({},[wrapperWidget.$element,$moreOptions])}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return fakeEcho});__webpack_require__(7),__webpack_require__(34);var $notificationWrapperElement=$("<div>mw-echo-notificationsWrapper provided and styled by Echo extension.</div>");function FakeEchoController(){}FakeEchoController.prototype={updateSeenTime:function(){},manager:{hasLocalUnread:function(){return!0},markLocalNotificationsRead:function(){return Promise.resolve({})},getLocalUnread:function(){return[]},getUnreadCounter:function(){return{getCappedNotificationCount:function(){return 100}}}}};var fakeEcho={config:{},ui:{NotificationsWrapper:function(){return{$element:$notificationWrapperElement,populate:function(){return Promise.resolve({})}}}},Controller:FakeEchoController,dm:{ModelManager:function(){return{on:function(){}}},UnreadNotificationCounter:function(){return{on:function(){}}}},api:{EchoApi:function(){}}}},function(module,exports,__webpack_require__){__webpack_require__(9),__webpack_require__(35),__webpack_require__(26);var EditorOverlayBase=__webpack_require__(322),util=__webpack_require__(1),Section=__webpack_require__(62),saveFailureMessage=__webpack_require__(323),EditorGateway=__webpack_require__(324),AbuseFilterPanel=__webpack_require__(150),mfExtend=__webpack_require__(10),blockMessageDrawer=__webpack_require__(149),VisualEditorOverlay=__webpack_require__(151);function SourceEditorOverlay(options,dataPromise){this.isFirefox=/firefox/i.test(window.navigator.userAgent),this.visualEditorConfig=options.visualEditorConfig||mw.config.get("wgVisualEditorConfig",{}),this.gateway=new EditorGateway({api:options.api,title:options.title,sectionId:options.sectionId,oldId:options.oldId,isNewPage:options.isNewPage,fromModified:!!dataPromise}),this.readOnly=!!options.oldId,this.dataPromise=dataPromise,this.isVisualEditorEnabled()&&(options.editSwitcher=!0),this.readOnly?(options.readOnly=!0,options.editingMsg=mw.msg("mobile-frontend-editor-viewing-source-page",options.title)):options.editingMsg=mw.msg("mobile-frontend-editor-editing-page",options.title),options.previewingMsg=mw.msg("mobile-frontend-editor-previewing-page",options.title),EditorOverlayBase.call(this,util.extend(!0,{events:{"input .wikitext-editor":"onInputWikitextEditor"}},options))}mfExtend(SourceEditorOverlay,EditorOverlayBase,{templatePartials:util.extend({},EditorOverlayBase.prototype.templatePartials,{content:util.template('\n<div lang="{{contentLang}}" dir="{{contentDir}}" class="editor-container content">\n\t<textarea class="wikitext-editor" id="wikitext-editor" cols="40" rows="10" placeholder="{{placeholder}}"></textarea>\n\t<div class="preview"></div>\n</div>\n\t\t')}),editor:"wikitext",sectionLine:"",isVisualEditorEnabled:function(){var ns=this.visualEditorConfig.namespaces;return ns&&-1<ns.indexOf(mw.config.get("wgNamespaceNumber"))&&"translation"!==mw.config.get("wgTranslatePageTranslation")&&"wikitext"===mw.config.get("wgPageContentModel")},onInputWikitextEditor:function(){this.gateway.setContent(this.$el.find(".wikitext-editor").val()),this.$el.find(".continue, .submit").prop("disabled",!1)},onClickBack:function(){EditorOverlayBase.prototype.onClickBack.apply(this,arguments),this._hidePreview()},postRender:function(){var self=this,config=this.visualEditorConfig,options=this.options,showAnonWarning=options.isAnon&&!options.switched;this.log({action:"ready"}),this.log({action:"loaded"}),this.isVisualEditorEnabled()&&mw.loader.using("ext.visualEditor.switching").then(function(){var switchToolbar,windowManager,switchWindow,toolFactory=new OO.ui.ToolFactory,toolGroupFactory=new OO.ui.ToolGroupFactory;toolFactory.register(mw.libs.ve.MWEditModeVisualTool),toolFactory.register(mw.libs.ve.MWEditModeSourceTool),(switchToolbar=new OO.ui.Toolbar(toolFactory,toolGroupFactory,{classes:["editor-switcher"]})).on("switchEditor",function(mode){var canSwitch=config.fullRestbaseUrl||config.allowLossySwitching;"visual"===mode&&(self.gateway.hasChanged?canSwitch?self._switchToVisualEditor(self.gateway.content):(windowManager=new OO.ui.WindowManager,switchWindow=new mw.libs.ve.SwitchConfirmDialog,windowManager.$element.appendTo(document.body),windowManager.addWindows([switchWindow]),windowManager.openWindow(switchWindow,{mode:"simple"}).closed.then(function(data){data&&"discard"===data.action&&self._switchToVisualEditor(),windowManager.destroy()})):self._switchToVisualEditor())}),switchToolbar.setup([{name:"editMode",type:"list",icon:"edit",title:mw.msg("visualeditor-mweditmode-tooltip"),include:["editModeVisual","editModeSource"]}]),self.$el.find(".switcher-container").html(switchToolbar.$element),switchToolbar.emit("updateState")}),EditorOverlayBase.prototype.postRender.apply(this),this.$preview=this.$el.find(".preview"),this.$content=this.$el.find(".wikitext-editor"),this.$content.addClass("mw-editfont-"+mw.user.options.get("editfont")),showAnonWarning&&(this.$anonWarning=this.createAnonWarning(options),this.$el.find(".editor-container").append(this.$anonWarning),this.$content.hide(),this.$anonHiddenButtons=this.$el.find(".overlay-header .continue, .editor-switcher").hide(),this.hideSpinner()),this.$el.find(".license a").attr("target","_blank"),this.abuseFilterPanel=new AbuseFilterPanel({overlayManager:this.overlayManager}).appendTo(this.$el.find(".panels")),this.readOnly&&this.$content.prop("readonly",!0),this.$content.on("input",this._resizeEditor.bind(this)),showAnonWarning||this._loadContent()},onClickAnonymous:function(){this.showSpinner(),this.$anonWarning.hide(),this.$anonHiddenButtons.show(),this._loadContent()},onStageChanges:function(){function hideSpinnerAndShowPreview(){self.hideSpinner(),self.$preview.show()}var self=this,params={text:this.getContent()};this.scrollTop=util.getDocument().find("body").scrollTop(),this.$content.hide(),this.showSpinner(),mw.config.get("wgIsMainPage")&&(params.mainpage=1),this.gateway.getPreview(params).then(function(result){var parsedText=result.text,parsedSectionLine=result.line;self.sectionId=result.id,self.sectionLine=self.parseHTML("<div>").html(parsedSectionLine).text(),new Section({el:self.$preview,text:parsedText}).$el.find("a").on("click",!1),hideSpinnerAndShowPreview()},function(){self.$preview.addClass("error").text(mw.msg("mobile-frontend-editor-error-preview")),hideSpinnerAndShowPreview()}),EditorOverlayBase.prototype.onStageChanges.apply(this,arguments)},_hidePreview:function(){this.gateway.abortPreview(),this.hideSpinner(),this.$preview.removeClass("error").hide(),this.$content.show(),window.scrollTo(0,this.scrollTop),this.showHidden(".initial-header"),this.abuseFilterPanel.hide()},_resizeEditor:function(){var scrollTop,container,$scrollContainer;this.isFirefox||(this.$scrollContainer?$scrollContainer=this.$scrollContainer:(container=OO.ui.Element.static.getClosestScrollableContainer(this.$content[0]),$scrollContainer=this.$el.find(container).length?this.$el.find(container):util.getDocument(),this.$scrollContainer=$scrollContainer,this.$content.css("padding-bottom",.6*this.$scrollContainer.height())),this.$content.prop("scrollHeight")&&$scrollContainer.length&&(scrollTop=$scrollContainer.scrollTop(),this.$content.css("height","auto").css("height",this.$content.prop("scrollHeight")+2+"px"),$scrollContainer.scrollTop(scrollTop)))},setContent:function(content){this.$content.show().val(content),this._resizeEditor()},getContent:function(){return this.$content.val()},_loadContent:function(){var self=this,$el=this.$el;this.$content.hide(),this.showSpinner(),$el.addClass("overlay-loading"),(this.dataPromise||this.gateway.getContent()).then(function(result){var block,content=result.text;self.setContent(content),self.gateway.fromModified&&self.onInputWikitextEditor(),result.blockinfo?mw.loader.using("moment").then(function(){block=self.parseBlockInfo(result.blockinfo),blockMessageDrawer(block).toggle(),self.hide(),self.hideSpinner(),$el.removeClass("overlay-loading")}):(self.hideSpinner(),$el.removeClass("overlay-loading"))},function(){self.reportError(mw.msg("mobile-frontend-editor-error-loading")),$el.removeClass("overlay-loading")})},_switchToVisualEditor:function(wikitext){var self=this;this.log({action:"abort",type:"switchnochange",mechanism:"navigate"}),this.logFeatureUse({feature:"editor-switch",action:"visual-mobile"}),mw.storage.set("preferredEditor","VisualEditor"),this.showSpinner(),this.$content.hide(),mw.loader.using("ext.visualEditor.targetLoader").then(function(){return mw.libs.ve.targetLoader.addPlugin("mobile.editor.ve"),mw.libs.ve.targetLoader.loadModules("visual")}).then(function(){var options=self.getOptionsForSwitch();options.SourceEditorOverlay=SourceEditorOverlay,self.hideSpinner(),wikitext?options.dataPromise=mw.libs.ve.targetLoader.requestPageData("visual",mw.config.get("wgRelevantPageName"),{section:options.sectionId,oldId:options.oldId||mw.config.get("wgRevisionId"),targetName:"mobile",modified:!0,wikitext:wikitext}):delete options.dataPromise,self.switching=!0,self.overlayManager.replaceCurrent(new VisualEditorOverlay(options)),self.switching=!1},function(){self.hideSpinner(),self.$content.show()})},_showAbuseFilter:function(type,message){this.abuseFilterPanel.show(type,message),this.showHidden(".save-header"),this.$el.find(".continue, .submit").prop("disabled",this.abuseFilterPanel.isDisallowed)},onSaveBegin:function(){var self=this,options={summary:this.$el.find(".summary").val()};""!==self.sectionLine&&(options.summary="/* "+self.sectionLine+" */"+options.summary),EditorOverlayBase.prototype.onSaveBegin.apply(this,arguments),this.confirmAborted||(this.captchaId&&(options.captchaId=this.captchaId,options.captchaWord=this.$el.find(".captcha-word").val()),this.showHidden(".saving-header"),this.gateway.save(options).then(function(newRevId){var title=self.options.title;return mw.config.get("wgIsMainPage")?void(window.location=mw.util.getUrl(title)):void self.onSaveComplete(newRevId)},function(data){self.onSaveFailure(data)}))},onSaveFailure:function(data){var heading,msg;"captcha"===data.type?(this.captchaId=data.details.id,this.handleCaptcha(data.details)):"abusefilter"===data.type?this._showAbuseFilter(data.details.type,data.details.message):(msg=saveFailureMessage(data),"readonly"===data.type&&(heading=mw.msg("apierror-readonly")),(msg||heading)&&(this.reportError(msg,heading),this.showHidden(".save-header, .save-panel"))),EditorOverlayBase.prototype.onSaveFailure.apply(this,arguments)},hasChanged:function(){return this.gateway.hasChanged}}),module.exports=SourceEditorOverlay},function(module,exports,__webpack_require__){__webpack_require__(30),__webpack_require__(31);var mfExtend=__webpack_require__(10),util=__webpack_require__(1),View=__webpack_require__(6);function Thumbnail(options){View.call(this,util.extend({isBorderBox:!1},options))}mfExtend(Thumbnail,View,{defaults:{filename:void 0},postRender:function(){this.options.description=this.$el.siblings(".thumbcaption").text()},getDescription:function(){return this.options.description},getFileName:function(){return this.options.filename}}),module.exports=Thumbnail},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){__webpack_require__(318),__webpack_require__(69),__webpack_require__(45),__webpack_require__(7),__webpack_require__(205),__webpack_require__(59);var browser,util=__webpack_require__(1);function memoize(method){var memoized=function memoized(){var cache=this["__cache"+memoized.cacheId]||(this["__cache"+memoized.cacheId]={}),key=[].join.call(arguments,"|");return Object.prototype.hasOwnProperty.call(cache,key)?cache[key]:cache[key]=method.apply(this,arguments)};return memoized.cacheId=Date.now().toString()+Math.random().toString(),memoized}function Browser(ua,$container){this.userAgent=ua,this.$el=$container}Browser.prototype={isIos:memoize(function(version){var ua=this.userAgent,ios=/ipad|iphone|ipod/i.test(ua);return ios&&version?8===version?/OS 8_/.test(ua)||/Version\/8/.test(ua):4===version?/OS 4_/.test(ua):5==version&&/OS 5_/.test(ua):ios}),isWideScreen:memoize(function(){var val=parseInt(mw.config.get("wgMFDeviceWidthTablet"),10);return window.innerWidth>=val}),supportsAnimations:memoize(function(){function supportsProperty(property){return property in elemStyle||"webkit"+property[0].toUpperCase()+property.slice(1)in elemStyle}var elemStyle=document.createElement("foo").style;return supportsProperty("animationName")&&supportsProperty("transform")&&supportsProperty("transition")}),supportsTouchEvents:memoize(function(){return"ontouchstart"in window}),supportsGeoLocation:memoize(function(){return"geolocation"in window.navigator})},Browser.getSingleton=function(){var $html;return browser||($html=util.getDocument(),browser=new Browser(window.navigator.userAgent,$html)),browser},module.exports=Browser},,function(module,exports,__webpack_require__){var content=__webpack_require__(682);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},,function(module,exports,__webpack_require__){__webpack_require__(105),__webpack_require__(9),__webpack_require__(15),__webpack_require__(53),__webpack_require__(69),__webpack_require__(45),__webpack_require__(68),__webpack_require__(54),__webpack_require__(7),__webpack_require__(205),__webpack_require__(23),__webpack_require__(59),__webpack_require__(58),__webpack_require__(16);var util=__webpack_require__(1),sectionTemplate=__webpack_require__(62).prototype.template,Page=__webpack_require__(147),actionParams=__webpack_require__(85),cache={};function transformSections(sections){var lastSection,existingSectionLevels=sections.map(function(s){return s.level}).filter(function(level){return!!level}),collapseLevel=Math.min.apply(this,existingSectionLevels).toString(),result=[];return sections.forEach(function(section){void 0!==section.line&&(section.line=section.line.replace(/<\/?a\b[^>]*>/g,"")),section.subsections=[],!lastSection||!section.level||section.level===collapseLevel||lastSection.subsections.length&&lastSection.subsections[0].level>section.level||lastSection.level&&lastSection.level>=section.level?(result.push(section),lastSection=section):(function assignToParent(listOfSections,child){var section;0===listOfSections.length?listOfSections.push(child):(section=listOfSections[listOfSections.length-1],parseInt(section.level,10)===parseInt(child.level,10)?listOfSections.push(child):assignToParent(section.subsections,child))}(lastSection.subsections,section),lastSection.text+=sectionTemplate.render(section))}),result}function PageGateway(api){this.api=api}PageGateway.prototype={getSections:function(title){var promise=util.Deferred();return this.getPage(title).then(function(pageData){var page=new Page(pageData);promise.resolve(page.getSections())},function(resp){"missingtitle"===resp?promise.resolve([]):promise.reject()}),promise.promise()},getPage:function(title,endpoint,leadOnly){var timestamp,d=util.Deferred(),params=endpoint?{url:endpoint,dataType:"jsonp"}:{},protection={edit:["*"]};return util.extend(params,actionParams({action:"mobileview",page:title,variant:mw.config.get("wgPageContentLanguage"),redirect:"yes",prop:"id|sections|text|lastmodified|lastmodifiedby|languagecount|hasvariants|protection|displaytitle|revision",noheadings:"yes",sectionprop:"level|line|anchor",sections:leadOnly?0:"all"})),cache[title]||(cache[title]=this.api.get(params).then(function(resp){var sections,lastModified,resolveObj,mv;return resp.error?d.reject(resp.error):resp.mobileview.sections?(sections=transformSections((mv=resp.mobileview).sections),timestamp=new Date(mv.lastmodified).getTime()/1e3,lastModified=mv.lastmodifiedby,protection=Array.isArray(mv.protection)?protection:util.extend(protection,mv.protection),resolveObj={title:title,id:mv.id,revId:mv.revId,protection:protection,lead:sections[0].text,sections:sections.slice(1),isMainPage:void 0!==mv.mainpage,historyUrl:mw.util.getUrl(title,{action:"history"}),lastModifiedTimestamp:timestamp,languageCount:mv.languagecount,hasVariants:void 0!==mv.hasvariants,displayTitle:mv.displaytitle},lastModified&&util.extend(resolveObj,{lastModifiedUserName:lastModified.name,lastModifiedUserGender:lastModified.gender}),resolveObj):d.reject("No sections")},function(msg){return d.reject(msg)})),cache[title]},invalidatePage:function(title){delete cache[title]},_getLanguageVariantsFromApiResponse:function(title,data){var generalData=data.query.general,variantPath=generalData.variantarticlepath,variants=[];return!!generalData.variants&&(Object.keys(generalData.variants).forEach(function(index){var item=generalData.variants[index],variant={autonym:item.name,lang:item.code};variant.url=variantPath?variantPath.replace("$1",title).replace("$2",item.code):mw.util.getUrl(title,{variant:item.code}),variants.push(variant)}),variants)},getPageLanguages:function(title,language){var self=this,args=actionParams({meta:"siteinfo",siprop:"general",prop:"langlinks",lllimit:"max",titles:title});return language?(args.llprop="url|autonym|langname",args.llinlanguagecode=language):args.llprop="url|autonym",this.api.get(args).then(function(resp){return{languages:resp.query.pages[0].langlinks||[],variants:self._getLanguageVariantsFromApiResponse(title,resp)}},function(){return util.Deferred().reject()})},_getAPIResponseFromHTML:function($el){var $headings=$el.find("h1,h2,h3,h4,h5,h6"),sections=[];return $headings.each(function(){var level=this.tagName.substr(1),$span=$el.find(this).find(".mw-headline");$span.length&&sections.push({level:level,line:$span.html(),anchor:$span.attr("id")||"",text:""})}),sections},getSectionsFromHTML:function($el){return transformSections(this._getAPIResponseFromHTML($el))}},module.exports=PageGateway},function(module,exports,__webpack_require__){var content=__webpack_require__(728);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){var Drawer=__webpack_require__(87),util=__webpack_require__(1),Button=__webpack_require__(12),Anchor=__webpack_require__(49);function CtaDrawer(){var options=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},params=redirectParams(options.queryParams,options.returnTo);return new Drawer(util.extend({children:[util.parseHTML("<p>").text(options.content),new Button(util.extend({progressive:!0,href:mw.util.getUrl("Special:UserLogin",params),label:mw.msg("mobile-frontend-watchlist-cta-button-login")},options.progressiveButton)).$el,util.parseHTML("<div>").addClass("cta-drawer__anchors").append(new Anchor(util.extend({href:mw.util.getUrl("Special:UserLogin",signUpParams(params,options.signupQueryParams)),progressive:!0,label:mw.msg("mobile-frontend-watchlist-cta-button-signup")},options.actionAnchor)).$el)]},options))}function redirectParams(params,redirectURL){return util.extend({returnto:redirectURL||mw.config.get("wgPageName")},params)}function signUpParams(){return[].push.call(arguments,{type:"signup"}),util.extend.apply(util,arguments)}CtaDrawer.prototype.test={redirectParams:redirectParams,signUpParams:signUpParams},module.exports=CtaDrawer},function(module,exports,__webpack_require__){__webpack_require__(9);var util=__webpack_require__(1),mfExtend=__webpack_require__(10),View=__webpack_require__(6),browser=__webpack_require__(204).getSingleton();function PageList(){View.apply(this,arguments)}mfExtend(PageList,View,{defaults:{pages:[]},renderPageImages:function(){var self=this;setTimeout(function(){self.$el.find(".list-thumb").each(function(){var style=self.$el.find(this).data("style");self.$el.find(this).attr("style",style)})},browser.isWideScreen()?0:1e3)},postRender:function(){this.renderPageImages()},template:util.template('\n<ul class="page-list thumbs actionable">\n\t{{#pages}}\n\t\t{{>item}}\n\t{{/pages}}\n</ul>\n\t'),templatePartials:{item:util.template('\n<li title="{{title}}" data-id="{{id}}" class="page-summary">\n  <a href="{{url}}" class="title {{#isMissing}}new{{/isMissing}}"\n    {{#anchor}}name="{{anchor}}"{{/anchor}}\n    {{#latitude}}data-latlng="{{latitude}},{{longitude}}"{{/latitude}}\n    data-title="{{title}}">\n    <div class="list-thumb\n      {{^thumbnail}}list-thumb-none list-thumb-x{{/thumbnail}}\n      {{#thumbnail.isLandscape}}list-thumb-y{{/thumbnail.isLandscape}}\n      {{^thumbnail.isLandscape}}list-thumb-x{{/thumbnail.isLandscape}}"\n      {{#thumbnail}}data-style="background-image: url( {{thumbnail.source}} )"{{/thumbnail}}></div>\n    <h3>{{{displayTitle}}}</h3>\n    {{#wikidataDescription}}\n    <div class="wikidata-description">{{wikidataDescription}}</div>\n    {{/wikidataDescription}}\n    {{#lastModified}}\n    <div class="info">{{lastModified}}</div>\n    {{/lastModified}}\n    {{#proximity}}\n    <div class="info proximity">{{proximity}}</div>\n    {{/proximity}}\n  </a>\n</li>\n\t')}}),module.exports=PageList},function(module,exports,__webpack_require__){__webpack_require__(9),__webpack_require__(15),__webpack_require__(26),__webpack_require__(16);var mfExtend=__webpack_require__(10),util=__webpack_require__(1),View=__webpack_require__(6),spinner=__webpack_require__(32).spinner().$el,ScrollEndEventEmitter=__webpack_require__(707),CategoryGateway=__webpack_require__(320);function CategoryTabs(options){this.scrollEndEventEmitter=new ScrollEndEventEmitter(options.eventBus),this.scrollEndEventEmitter.on(ScrollEndEventEmitter.EVENT_SCROLL_END,this._loadCategories.bind(this)),this.gateway=new CategoryGateway(options.api),View.call(this,util.extend(!0,{events:{"click .catlink":"onCatlinkClick"}},options))}mfExtend(CategoryTabs,View,{isTemplateMode:!0,defaults:{normalcatlink:mw.msg("mobile-frontend-categories-normal"),hiddencatlink:mw.msg("mobile-frontend-categories-hidden")},template:util.template('\n<div class="category-list">\n\t<p class="content-header">\n\t\t{{subheading}}\n\t</p>\n\t<ul class="category-header">\n\t\t<li class="selected">\n\t\t\t<a href="#" class="catlink">{{normalcatlink}}</a>\n\t\t</li><li>\n\t\t\t<a href="#" class="catlink">{{hiddencatlink}}</a>\n\t\t</li>\n\t</ul>\n\t<ul class="topic-title-list normal-catlist"></ul>\n\t<ul class="topic-title-list hidden hidden-catlist"></ul>\n</div>\n\t'),templatePartials:{item:util.template('\n<li title="{{title}}">\n    <a href="{{url}}">{{title}}</a>\n</li>\n\t\t')},postRender:function(){View.prototype.postRender.apply(this),this.$el.append(spinner),this._loadCategories()},hideSpinner:function(){this.$el.find(".spinner").hide()},showSpinner:function(){this.$el.find(".spinner").show()},_loadCategories:function(){var apiResult,self=this,$normalCatlist=this.$el.find(".normal-catlist"),$hiddenCatlist=this.$el.find(".hidden-catlist");return this.scrollEndEventEmitter.setElement(this.$el),this.scrollEndEventEmitter.disable(),!1===(apiResult=this.gateway.getCategories(this.options.title))?void self.hideSpinner():void apiResult.then(function(data){data.query&&data.query.pages?(data.query.pages.forEach(function(page){page.categories&&page.categories.forEach(function(category){var title=mw.Title.newFromText(category.title,category.ns);category.hidden?$hiddenCatlist.append(self.templatePartials.item.render({url:title.getUrl(),title:title.getMainText()})):$normalCatlist.append(self.templatePartials.item.render({url:title.getUrl(),title:title.getMainText()}))})}),0===$normalCatlist.length&&0===$normalCatlist.length?self.$el.find(".content-header").text(mw.msg("mobile-frontend-categories-nocat")):0===$normalCatlist.length&&0<$normalCatlist.length&&this._changeView()):self.$el.find(".content-header").text(mw.msg("mobile-frontend-categories-nocat")),self.hideSpinner(),self.scrollEndEventEmitter.enable()})},onCatlinkClick:function(ev){ev.preventDefault(),this.$el.find(ev.target).parent().hasClass("selected")||this._changeView()},_changeView:function(){this.$el.find(".category-header li").toggleClass("selected"),this.$el.find(".topic-title-list").toggleClass("hidden")}}),module.exports=CategoryTabs},function(module,exports,__webpack_require__){__webpack_require__(9);var Button=__webpack_require__(12),util=__webpack_require__(1),mfExtend=__webpack_require__(10),Overlay=__webpack_require__(22);function AbuseFilterOverlay(props){Overlay.call(this,util.extend({className:"overlay abusefilter-overlay"},props))}mfExtend(AbuseFilterOverlay,Overlay,{defaults:util.extend({},Overlay.prototype.defaults,{confirmButton:new Button({additionalClassNames:"cancel",progressive:!0})}),templatePartials:util.extend({},Overlay.prototype.templatePartials,{content:util.template('\n<div class="content">\n\t{{{message}}}\n</div>\n\t\t')}),postRender:function(){Overlay.prototype.postRender.apply(this),this.$el.find("a").attr("target","_blank"),this.$el.find(".content").append(this.options.confirmButton.$el)}}),module.exports=AbuseFilterOverlay},function(module,exports,__webpack_require__){__webpack_require__(9);var util=__webpack_require__(1),mfExtend=__webpack_require__(10),icons=__webpack_require__(32),View=__webpack_require__(6);function LoadErrorMessage(options){if(!options.retryPath)throw new Error("'retryPath' must be set in options param. Received: "+options.retryPath);View.call(this,{events:{"click .load-fail-msg-link a":"onRetry"}},options)}mfExtend(LoadErrorMessage,View,{template:util.template('\n<div class="load-fail-msg">\n  <div class="load-fail-msg-text">{{msgToUser}}</div>\n  <div class="load-fail-msg-link">\n    <a href="#">{{retryTxt}}</a>\n  </div>\n</div>\n\t'),isTemplateMode:!0,defaults:util.extend({},LoadErrorMessage.prototype.defaults,{msgToUser:mw.msg("mobile-frontend-media-load-fail-message"),retryTxt:mw.msg("mobile-frontend-media-load-fail-retry")}),postRender:function(){this.$el.prepend(icons.error().$el),this.$el.find(".load-fail-msg-link a").attr("href","#"+this.options.retryPath)},onRetry:function(){return this.emit("retry"),!1}}),module.exports=LoadErrorMessage},function(module,exports,__webpack_require__){function _typeof2(obj){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return _typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}__webpack_require__(30),__webpack_require__(31),__webpack_require__(44),__webpack_require__(9),__webpack_require__(33),__webpack_require__(8),__webpack_require__(263),__webpack_require__(83),__webpack_require__(84),__webpack_require__(7),__webpack_require__(748),__webpack_require__(46),__webpack_require__(38);var View=__webpack_require__(6),Icon=__webpack_require__(27),Anchor=__webpack_require__(49),icons=__webpack_require__(32),feedbackLink=mw.config.get("wgCirrusSearchFeedbackLink"),spinner=icons.spinner().$el,util=__webpack_require__(1),SearchResultsView=function(_View){"use strict";function SearchResultsView(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SearchResultsView),_possibleConstructorReturn(this,_getPrototypeOf(SearchResultsView).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(SearchResultsView,View),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(SearchResultsView,[{key:"preRender",value:function(){feedbackLink&&(this.options.feedback={prompt:mw.msg("mobile-frontend-search-feedback-prompt")})}},{key:"postRender",value:function(options){_get(_getPrototypeOf(SearchResultsView.prototype),"postRender",this).call(this,options),this.$el.find(".search-content li").append(new Icon({tagName:"a",href:"#",name:"search-content",label:mw.msg("mobile-frontend-search-content")}).$el),this.$el.find(".spinner-container").append(spinner),feedbackLink&&this.$el.find(".search-feedback").append(new Anchor({label:mw.msg("mobile-frontend-search-feedback-link-text"),href:feedbackLink}).$el)}},{key:"isTemplateMode",get:function(){return!0}},{key:"template",get:function(){return util.template('\n<div class="search-results-view">\n\t<div class="search-content overlay-header search-results-view">\n\t\t<ul>\n\t\t\t<li>{{! search content icon goes here }}</li>\n\t\t</ul>\n\t\t<div class="caption">\n\t\t\t<p class="with-results">{{searchContentLabel}}</p>\n\t\t\t<p class="without-results">{{noResultsMsg}}</p>\n\t\t\t<p class="without-results">{{{searchContentNoResultsMsg}}}</p>\n\t\t</div>\n\t</div>\n\t<div class="spinner-container position-fixed"></div>\n\t<div class="results">\n\t\t<div class="results-list-container"></div>\n\t\t{{#feedback}}\n\t\t\t<div class="search-feedback">\n\t\t\t\t{{prompt}}\n\t\t\t</div>\n\t\t{{/feedback}}\n\t</div>\n</div>')}}]),SearchResultsView}();module.exports=SearchResultsView},function(module,exports,__webpack_require__){__webpack_require__(53),__webpack_require__(203);var mfExtend=__webpack_require__(10),View=__webpack_require__(6),util=__webpack_require__(1);function makePanel($child){var panel=new View({className:"panel"});return panel.$el.append($child),panel}function AddTopicForm(options){View.call(this,util.extend(options,{topicTitlePlaceHolder:mw.msg("mobile-frontend-talk-add-overlay-subject-placeholder"),topicContentPlaceHolder:mw.msg("mobile-frontend-talk-add-overlay-content-placeholder"),className:"add-topic-form",events:{"input .wikitext-editor, input":"onTextInput","change .wikitext-editor, input":"onTextInput"}}))}mfExtend(AddTopicForm,View,{postRender:function(){var options=this.options,disabled=options.disabled,$subject=util.parseHTML("<input>").attr({class:"mw-ui-input",type:"text",disabled:disabled,value:options.subject,placeholder:options.topicTitlePlaceHolder}),$body=util.parseHTML("<textarea>").attr({class:"wikitext-editor mw-ui-input",cols:40,rows:10,disabled:disabled,placeholder:options.topicContentPlaceHolder}).val(options.body),panels=[makePanel(util.parseHTML("<p>").addClass("license").html(options.licenseMsg)),makePanel($subject),makePanel($body)];this.$el.append(panels.map(function(panel){return panel.$el})),this.$subject=$subject,this.$messageBody=$body,View.prototype.postRender.apply(this,arguments)},onTextInput:function(){this.options.onTextInput&&this.options.onTextInput(this.$subject.val().trim(),this.$messageBody.val().trim())}}),AddTopicForm.test={makePanel:makePanel},module.exports=AddTopicForm},function(module,exports,__webpack_require__){var references,Drawer=__webpack_require__(87),util=__webpack_require__(1),icons=__webpack_require__(32),ReferencesGateway=__webpack_require__(664),Icon=__webpack_require__(27);function makeOnNestedReferenceClickHandler(onNestedReferenceClick){return function(ev){var target=ev.target;if("A"===target.tagName)return onNestedReferenceClick(target.getAttribute("href"),target.textContent),!1}}function referenceDrawer(props){var containerClassName=props.error?new Icon({name:"error",hasText:!0,isSmall:!0}).getClassName():"";return new Drawer(util.extend({closeOnScroll:!1,className:"drawer position-fixed text references-drawer",events:{"click sup":props.onNestedReferenceClick&&makeOnNestedReferenceClickHandler(props.onNestedReferenceClick)},children:[util.parseHTML("<div>").addClass("references-drawer__header").append([new Icon({isSmall:!0,name:"citation-invert",additionalClassNames:"references-drawer__title",hasText:!0,label:mw.msg("mobile-frontend-references-citation")}).$el,icons.cancel("gray").$el]),util.parseHTML("<div>").addClass(containerClassName).append(util.parseHTML("<sup>").text(props.title),props.text?util.parseHTML("<span>").html(props.text):icons.spinner().$el)]},props))}references={test:{makeOnNestedReferenceClickHandler:makeOnNestedReferenceClickHandler},referenceDrawer:referenceDrawer,showReference:function(id,page,refNumber,pageHTMLParser,gateway){return gateway.getReference(id,page,pageHTMLParser).then(function(reference){var drawer=referenceDrawer({title:refNumber,text:reference.text,onNestedReferenceClick:function(href,text){references.showReference(href,page,text,pageHTMLParser,gateway),drawer.$el.remove()}});drawer.show()},function(err){err!==ReferencesGateway.ERROR_NOT_EXIST&&referenceDrawer({error:!0,title:refNumber,text:mw.msg("mobile-frontend-references-citation-error")}).show()})}},module.exports=references},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){var content=__webpack_require__(662);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){var content=__webpack_require__(666);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},,function(module,exports,__webpack_require__){var content=__webpack_require__(683);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){var prototype,actionParams=__webpack_require__(85),util=__webpack_require__(1),SearchGateway=__webpack_require__(701);function CategoryGateway(){CategoryGateway.parent.apply(this,arguments)}prototype={continueParams:{},canContinue:!0,searchNamespace:14,save:function(title,categories){return this.api.postWithToken("csrf",{action:"edit",title:title,appendtext:categories,summary:mw.msg("mobile-frontend-categories-summary")})},getCategories:function(title){var params,self=this;return!1!==this.canContinue&&(params=util.extend({},{prop:"categories",titles:title,clprop:"hidden",cllimit:50},this.continueParams),this.api.get(actionParams(params)).then(function(data){return void 0===data.continue?self.canContinue=!1:self.continueParams=data.continue,data}))}},OO.inheritClass(CategoryGateway,SearchGateway),util.extend(CategoryGateway.prototype,prototype),module.exports=CategoryGateway},function(module,exports,__webpack_require__){var content=__webpack_require__(711);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){__webpack_require__(9),__webpack_require__(35),__webpack_require__(53),__webpack_require__(26),__webpack_require__(68);var Overlay=__webpack_require__(22),util=__webpack_require__(1),headers=__webpack_require__(28),PageGateway=__webpack_require__(208),icons=__webpack_require__(32),Button=__webpack_require__(12),toast=__webpack_require__(110),saveFailureMessage=__webpack_require__(323),mfExtend=__webpack_require__(10),MessageBox=__webpack_require__(88),mwUser=mw.user;function EditVeTool(toolGroup,config){(config=config||{}).classes=["visual-editor"],EditVeTool.super.call(this,toolGroup,config)}function EditorOverlayBase(params){var options=util.extend(!0,{onBeforeExit:this.onBeforeExit.bind(this),className:"overlay editor-overlay",isBorderBox:!1},params,{events:util.extend({"click .back":"onClickBack","click .continue":"onClickContinue","click .submit":"onClickSubmit","click .anonymous":"onClickAnonymous"},params.events)});options.isNewPage&&(options.placeholder=mw.msg("mobile-frontend-editor-placeholder-new-page",mwUser)),0!==mw.config.get("wgNamespaceNumber")&&(options.summaryRequestMsg=mw.msg("mobile-frontend-editor-summary")),this.pageGateway=new PageGateway(options.api),this.editCount=options.editCount,this.isNewPage=options.isNewPage,this.isNewEditor=0===options.editCount,this.sectionId=options.sectionId,this.config=params.editorOptions||mw.config.get("wgMFEditorOptions"),this.sessionId=options.sessionId,this.overlayManager=options.overlayManager,Overlay.call(this,options)}OO.inheritClass(EditVeTool,OO.ui.Tool),EditVeTool.static.name="editVe",EditVeTool.static.icon="edit",EditVeTool.static.group="editorSwitcher",EditVeTool.static.title=mw.msg("mobile-frontend-editor-switch-visual-editor"),EditVeTool.prototype.onSelect=function(){},EditVeTool.prototype.onUpdateState=function(){},mfExtend(EditorOverlayBase,Overlay,{defaults:util.extend({},Overlay.prototype.defaults,{hasToolbar:!1,continueMsg:mw.msg("mobile-frontend-editor-continue"),closeMsg:mw.msg("mobile-frontend-editor-keep-editing"),summaryRequestMsg:mw.msg("mobile-frontend-editor-summary-request"),summaryMsg:mw.msg("mobile-frontend-editor-summary-placeholder"),placeholder:mw.msg("mobile-frontend-editor-placeholder"),captchaMsg:mw.msg("mobile-frontend-account-create-captcha-placeholder"),captchaTryAgainMsg:mw.msg("mobile-frontend-editor-captcha-try-again"),switchMsg:mw.msg("mobile-frontend-editor-switch-editor"),confirmMsg:mw.msg("mobile-frontend-editor-cancel-confirm"),licenseMsg:void 0}),template:util.template('\n<div class="overlay-header-container header-container position-fixed"></div>\n\n<div class="overlay-content">\n\t<div class="panels">\n\t\t<div class="save-panel panel hideable hidden">\n\t\t\t<div id="error-notice-container"></div>\n\t\t\t<h2 class="summary-request">{{{summaryRequestMsg}}}</h2>\n\t\t\t<textarea rows="2" class="mw-ui-input summary" placeholder="{{summaryMsg}}"></textarea>\n\t\t\t{{#licenseMsg}}<div class="license">{{{licenseMsg}}}</div>{{/licenseMsg}}\n\t\t</div>\n\t\t<div class="captcha-panel panel hideable hidden">\n\t\t\t<div class="captcha-box">\n\t\t\t\t<img id="image" src="">\n\t\t\t\t<div id="question"></div>\n\t\t\t\t<input class="captcha-word mw-ui-input" placeholder="{{captchaMsg}}" />\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t{{>content}}\n</div>\n<div class="overlay-footer-container position-fixed">\n\t{{>footer}}\n</div>\n\t'),sectionId:"",log:function(data){mw.track("mf.schemaEditAttemptStep",util.extend(data,{editor_interface:this.editor,editing_session_id:this.sessionId}))},logFeatureUse:function(data){mw.track("mf.schemaVisualEditorFeatureUse",util.extend(data,{editing_session_id:this.sessionId}))},confirmSave:function(){return!this.isNewPage||window.confirm(mw.msg("mobile-frontend-editor-new-page-confirm",mwUser))},onSaveComplete:function(newRevId){var msg,$window=util.getWindow(),title=this.options.title;this.saved=!0,this.pageGateway.invalidatePage(title),msg=this.isNewPage?mw.msg("mobile-frontend-editor-success-new-page"):this.isNewEditor?mw.msg("mobile-frontend-editor-success-landmark-1"):mw.msg("mobile-frontend-editor-success"),toast.showOnPageReload(msg,{type:"success"}),this.log({action:"saveSuccess",revision_id:newRevId}),window.location.hash=this.sectionId?"#"+this.sectionId:"#",$window.off("beforeunload.mfeditorwarning"),window.location.reload()},onSaveFailure:function(data){var key=data&&data.details&&data.details.code;"captcha"===data.type&&(key="captcha"),this.log({action:"saveFailure",message:saveFailureMessage(data),type:{editconflict:"editConflict",wasdeleted:"editPageDeleted","abusefilter-disallowed":"extensionAbuseFilter",captcha:"extensionCaptcha",spamprotectiontext:"extensionSpamBlacklist","titleblacklist-forbidden-edit":"extensionTitleBlacklist"}[key]||"responseUnknown"})},reportError:function(text,heading){var errorNotice=new MessageBox({className:"errorbox",msg:text,heading:heading});this.$errorNoticeContainer.html(errorNotice.$el)},hideErrorNotice:function(){this.$errorNoticeContainer.empty()},onStageChanges:function(){this.showHidden(".save-header, .save-panel"),this.log({action:"saveIntent"}),window.scrollTo(0,1)},onSaveBegin:function(){return this.confirmAborted=!1,this.hideErrorNotice(),this.confirmSave()?void this.log({action:"saveAttempt"}):void(this.confirmAborted=!0)},preRender:function(){var options=this.options;this.options.headers=[headers.formHeader(util.template('\n{{^hasToolbar}}\n<div class="overlay-title">\n\t<h2>{{{editingMsg}}}</h2>\n</div>\n{{/hasToolbar}}\n{{#hasToolbar}}<div class="toolbar"></div>{{/hasToolbar}}\n{{#editSwitcher}}\n\t<div class="switcher-container">\n\t</div>\n{{/editSwitcher}}\n\t\t\t\t').render({hasToolbar:options.hasToolbar,editSwitcher:options.editSwitcher,editingMsg:options.editingMsg}),options.readOnly?[]:[new Button({tagName:"button",additionalClassNames:"continue",disabled:!0,label:this.config.skipPreview?util.saveButtonMessage():options.continueMsg})],icons.cancel(),"initial-header"),headers.saveHeader(options.previewingMsg,"save-header hidden"),headers.savingHeader(mw.msg("mobile-frontend-editor-wait"))]},postRender:function(){this.nextStep=this.config.skipPreview?"onSaveBegin":"onStageChanges",this.$errorNoticeContainer=this.$el.find("#error-notice-container"),this.$el.find(".overlay-content").append(icons.spinner().$el),Overlay.prototype.postRender.apply(this),this.showHidden(".initial-header")},show:function(){var self=this;this.allowCloseWindow=mw.confirmCloseWindow({test:function(){return self.hasChanged()},message:mw.msg("mobile-frontend-editor-cancel-confirm"),namespace:"editwarning"}),this.saved=!1,Overlay.prototype.show.call(this),mw.hook("mobileFrontend.editorOpened").fire(this.editor)},onClickBack:function(){},onClickSubmit:function(){this.onSaveBegin()},onClickContinue:function(){this[this.nextStep]()},onClickAnonymous:function(){},onBeforeExit:function(exit){var windowManager,self=this;return this.hasChanged()&&!this.switching?((windowManager=OO.ui.getWindowManager()).addWindows([new mw.widgets.AbandonEditDialog]),void windowManager.openWindow("abandonedit").closed.then(function(data){data&&"discard"===data.action&&(self.log({action:"abort",mechanism:"cancel",type:"abandon"}),self.allowCloseWindow.release(),mw.hook("mobileFrontend.editorClosed").fire(),exit())})):(!this.switching&&!this.saved&&this.log({action:"abort",mechanism:"cancel",type:this.target&&this.target.edited?"abandon":"nochange"}),this.allowCloseWindow.release(),mw.hook("mobileFrontend.editorClosed").fire(),void exit())},createAnonWarning:function(options){var $actions=$("<div>").addClass("actions"),$anonWarning=$("<div>").addClass("anonwarning content").append(new MessageBox({className:"warningbox anon-msg",msg:mw.msg("mobile-frontend-editor-anonwarning")}).$el,$actions),params=util.extend({returnto:options.returnTo||mw.config.get("wgPageName"),returntoquery:"action=edit&section="+options.sectionId,warning:"mobile-frontend-edit-login-action"},options.queryParams),signupParams=util.extend({type:"signup",warning:"mobile-frontend-edit-signup-action"},options.signupQueryParams),anonymousEditorActions=[new Button({label:mw.msg("mobile-frontend-editor-anon"),block:!0,additionalClassNames:"anonymous progressive",progressive:!0}),new Button({block:!0,href:mw.util.getUrl("Special:UserLogin",params),label:mw.msg("mobile-frontend-watchlist-cta-button-login")}),new Button({block:!0,href:mw.util.getUrl("Special:UserLogin",util.extend(params,signupParams)),label:mw.msg("mobile-frontend-watchlist-cta-button-signup")})];return $actions.append(anonymousEditorActions.map(function(action){return action.$el})),$anonWarning},parseBlockInfo:function(blockinfo){var blockInfo,expiry,reason,moment=window.moment;return blockInfo={partial:blockinfo.blockpartial||!1,creator:{name:blockinfo.blockedby,url:mw.Title.makeTitle(mw.config.get("wgNamespaceIds").user,blockinfo.blockedby).getUrl()},expiry:null,duration:null,reason:"",blockId:blockinfo.blockid},expiry=blockinfo.blockexpiry,-1===["infinite","indefinite","infinity","never"].indexOf(expiry)&&(blockInfo.expiry=moment(expiry).format("LLL"),blockInfo.duration=moment().to(expiry,!0)),reason=blockinfo.blockreason,blockInfo.reason=reason?function(wikitext){var parser,ast;parser=new mw.jqueryMsg.parser;try{return ast=parser.wikiTextToAst(wikitext),parser.emitter.emit(ast).html()}catch(e){return!1}}(reason)||mw.html.escape(reason):mw.message("mobile-frontend-editor-generic-block-reason").escaped(),blockInfo},getOptionsForSwitch:function(){return{switched:!0,overlayManager:this.options.overlayManager,currentPageHTMLParser:this.options.currentPageHTMLParser,fakeScroll:this.options.fakeScroll,api:this.options.api,licenseMsg:this.options.licenseMsg,title:this.options.title,titleObj:this.options.titleObj,isAnon:this.options.isAnon,isNewPage:this.options.isNewPage,editCount:this.options.editCount,oldId:this.options.oldId,contentLang:this.options.contentLang,contentDir:this.options.contentDir,sessionId:this.options.sessionId,sectionId:this.options.sectionId}},hasChanged:function(){},handleCaptcha:function(details){var self=this,$input=this.$el.find(".captcha-word");this.captchaShown&&($input.val(""),$input.attr("placeholder",this.options.captchaTryAgainMsg),setTimeout(function(){$input.attr("placeholder",self.options.captchaMsg)},2e3)),0===details.mime.indexOf("image/")?(this.$el.find(".captcha-panel#question").detach(),this.$el.find(".captcha-panel img").attr("src",details.url)):(this.$el.find(".captcha-panel #image").detach(),0===details.mime.indexOf("text/html")?this.$el.find(".captcha-panel #question").html(details.question):this.$el.find(".captcha-panel #question").text(details.question)),this.showHidden(".save-header, .captcha-panel"),this.captchaShown=!0}}),module.exports=EditorOverlayBase},function(module,exports,__webpack_require__){__webpack_require__(35),module.exports=function(data){var key=data&&data.details&&data.details.code;return"readonly"===data.type?data.details.readonlyreason:"editconflict"===key?mw.msg("mobile-frontend-editor-error-conflict"):-1<["blocked","autoblocked"].indexOf(key)?data.error.info:mw.msg("mobile-frontend-editor-error")}},function(module,exports,__webpack_require__){__webpack_require__(35),__webpack_require__(714),__webpack_require__(207);var util=__webpack_require__(1),parseSaveError=__webpack_require__(715),actionParams=__webpack_require__(85);function EditorGateway(options){this.api=options.api,this.title=options.title,this.sectionId=options.sectionId,this.oldId=options.oldId,this.content=options.isNewPage?"":void 0,this.fromModified=options.fromModified,this.hasChanged=options.fromModified}EditorGateway.prototype={getBlockInfo:function(pageObj){var blockedError;return pageObj.actions&&pageObj.actions.edit&&Array.isArray(pageObj.actions.edit)&&(pageObj.actions.edit.some(function(error){return-1!==["blocked","autoblocked"].indexOf(error.code)&&(blockedError=error,!0)}),blockedError&&blockedError.data&&blockedError.data.blockinfo)?(mw.loader.load("moment"),blockedError.data.blockinfo):null},getContent:function(){function resolve(){return util.Deferred().resolve({text:self.content||"",blockinfo:self.blockinfo})}var options,self=this;return void 0===this.content?(options=actionParams({prop:["revisions","info"],rvprop:["content","timestamp"],titles:self.title,intestactions:"edit",intestactionsdetail:"full"}),this.oldId&&(options.rvstartid=this.oldId),util.isNumeric(this.sectionId)&&(options.rvsection=this.sectionId),this.api.get(options).then(function(resp){var revision,pageObj;return resp.error?util.Deferred().reject(resp.error.code):(void 0===(pageObj=resp.query.pages[0]).missing?(revision=pageObj.revisions[0],self.content=revision.content,self.timestamp=revision.timestamp):self.content="",self.originalContent=self.content,self.blockinfo=self.getBlockInfo(pageObj),resolve())})):resolve()},setContent:function(content){this.hasChanged=!(this.originalContent===content&&!this.fromModified),this.content=content},setPrependText:function(text){this.prependtext=text,this.hasChanged=!0},save:function(options){var self=this,result=util.Deferred();return options=options||{},function saveContent(){var apiOptions={action:"edit",title:self.title,summary:options.summary,captchaid:options.captchaId,captchaword:options.captchaWord,basetimestamp:self.timestamp,starttimestamp:self.timestamp};return void 0===self.content?self.prependtext&&(apiOptions.prependtext=self.prependtext):apiOptions.text=self.content,util.isNumeric(self.sectionId)&&(apiOptions.section=self.sectionId),self.api.postWithToken("csrf",apiOptions).then(function(data){data&&data.edit&&"Success"===data.edit.result?(self.hasChanged=!1,result.resolve(data.edit.newrevid)):result.reject(parseSaveError(data))},function(code,data){result.reject(parseSaveError(data,code||"unknown"))}),result}()},abortPreview:function(){this._pending&&this._pending.abort()},getPreview:function(options){var sectionLine="",sectionId="",self=this;return util.extend(options,{action:"parse",sectionpreview:!0,disableeditsection:!0,pst:!0,mobileformat:!0,title:this.title,prop:["text","sections"]}),this.abortPreview(),this._pending=this.api.post(options),this._pending.then(function(resp){return resp&&resp.parse&&resp.parse.text?(0!==self.sectionId&&void 0!==resp.parse.sections&&void 0!==resp.parse.sections[0]&&(void 0!==resp.parse.sections[0].anchor&&(sectionId=resp.parse.sections[0].anchor),void 0!==resp.parse.sections[0].line&&(sectionLine=resp.parse.sections[0].line)),{text:resp.parse.text["*"],id:sectionId,line:sectionLine}):util.Deferred().reject()}).promise({abort:function(){self._pending.abort()}})}},module.exports=EditorGateway},function(module,exports,__webpack_require__){var content=__webpack_require__(721);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){var content=__webpack_require__(722);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){var content=__webpack_require__(734);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){__webpack_require__(178);var util=__webpack_require__(1),actionParams=__webpack_require__(85);function WatchstarGateway(api){this.api=api}WatchstarGateway.prototype={getStatuses:function(ids,titles){return util.Promise.all([this.getStatusesByID(ids),this.getStatusesByTitle(titles)]).then(function(){return util.extend.apply(util,arguments)})},getStatusesByID:function(ids){var self=this;return ids.length?this.api.get({formatversion:2,action:"query",prop:"info",inprop:"watched",pageids:ids}).then(function(rsp){return self._unmarshalGetResponse(rsp)}):util.Deferred().resolve({})},getStatusesByTitle:function(titles){var self=this;return titles.length?this.api.get(actionParams({prop:"info",inprop:"watched",titles:titles})).then(function(rsp){return self._unmarshalGetResponse(rsp)}):util.Deferred().resolve({})},postStatusesByTitle:function(titles,watched){var params={action:"watch",titles:titles};return watched||(params.unwatch=!watched),this.api.postWithToken("watch",params)},_unmarshalGetResponse:function(rsp){return(rsp&&rsp.query&&rsp.query.pages||[]).reduce(function(statuses,page){return statuses[page.title]=page.watched,statuses},{})}},module.exports=WatchstarGateway},function(module,exports){module.exports=function autosign(text){return/~{3,5}/.test(text)?text:text+" ~~~~"}},,,,,function(module,exports,__webpack_require__){__webpack_require__(9);var View=__webpack_require__(6),mfExtend=__webpack_require__(10),util=__webpack_require__(1),Icon=__webpack_require__(27);function TableOfContents(props){View.call(this,util.extend({className:"toc-mobile",contentsMsg:mw.msg("toc")},props))}mfExtend(TableOfContents,View,{templatePartials:{tocHeading:util.template('\n<li>\n\t<a href="#{{anchor}}">{{{line}}}</a>\n\t<ul>\n\t\t{{#subsections}}\n\t\t{{>tocHeading}}\n\t\t{{/subsections}}\n\t</ul>\n</li>\n\t\t')},template:util.template('\n<h2><span>{{contentsMsg}}</span></h2>\n<div>\n\t<ul>\n\t{{#sections}}\n\t{{>tocHeading}}\n\t{{/sections}}\n\t</ul>\n</div>\n<div style="clear:both;"></div>\n\t'),postRender:function(){new Icon({name:"toc",additionalClassNames:"toc-button"}).$el.prependTo(this.$el.find("h2"))}}),module.exports=TableOfContents},function(module,exports,__webpack_require__){__webpack_require__(9),__webpack_require__(15),__webpack_require__(35),__webpack_require__(45),__webpack_require__(54),__webpack_require__(23),__webpack_require__(133),__webpack_require__(16);var browser=__webpack_require__(204).getSingleton(),util=__webpack_require__(1),escapeHash=util.escapeHash,arrowOptions={name:"arrow",additionalClassNames:"indicator"},Icon=__webpack_require__(27);function Toggler(options){this.eventBus=options.eventBus,this._enable(options.$container,options.prefix,options.page,options.isClosed)}function getExpandedSections(page){var expandedSections=JSON.parse(mw.storage.get("expandedSections")||"{}");return expandedSections[page.title]=expandedSections[page.title]||{},expandedSections}function saveExpandedSections(expandedSections){mw.storage.set("expandedSections",JSON.stringify(expandedSections))}function expandStoredSections(toggler,$container,page){var $sectionHeading,$headline,expandedSections=getExpandedSections(page);$container.find(".section-heading span").each(function(){$headline=$container.find(this),$sectionHeading=$headline.parents(".section-heading"),expandedSections[page.title][$headline.attr("id")]&&!$sectionHeading.hasClass("open-block")&&toggler.toggle($sectionHeading,page)})}function cleanObsoleteStoredSections(page){var now=(new Date).getTime(),expandedSections=getExpandedSections(page);Object.keys(expandedSections).forEach(function(page){var sections=expandedSections[page];Object.keys(sections).forEach(function(section){var timestamp=sections[section];1<=Math.floor((now-timestamp)/1e3/60/60/24)&&delete expandedSections[page][section]})}),saveExpandedSections(expandedSections)}Toggler.prototype.toggle=function($heading,page){var indicator,wasExpanded=$heading.is(".open-block"),$content=$heading.next();$heading.toggleClass("open-block"),$heading.data("indicator").remove(),arrowOptions.rotation=wasExpanded?0:180,indicator=new Icon(arrowOptions).prependTo($heading),$heading.data("indicator",indicator),$content.toggleClass("open-block").attr({"aria-pressed":!wasExpanded,"aria-expanded":!wasExpanded}),this.eventBus.emit("section-toggled",{expanded:wasExpanded,isReferenceSection:!!$content.attr("data-is-reference-section"),$heading:$heading}),browser.isWideScreen()||function storeSectionToggleState($heading,page){var headline=$heading.find("span").attr("id"),isSectionOpen=$heading.hasClass("open-block"),expandedSections=getExpandedSections(page);headline&&(isSectionOpen?expandedSections[page.title][headline]=(new Date).getTime():delete expandedSections[page.title][headline],saveExpandedSections(expandedSections))}($heading,page)},Toggler.prototype.reveal=function(selector,$container,page){var $target,$heading;try{($heading=($target=$container.find(escapeHash(selector))).parents(".collapsible-heading")).length||($heading=$target.parents(".collapsible-block").prev(".collapsible-heading")),$heading.length&&!$heading.hasClass("open-block")&&this.toggle($heading,page),$heading.length&&window.scrollTo(0,$target.offset().top)}catch(e){}},Toggler.prototype._enable=function($container,prefix,page,isClosed){function checkHash(){var hash=window.location.hash;0===hash.indexOf("#")&&self.reveal(decodeURIComponent(hash),$container,page)}var tagName,expandSections,indicator,$content,$link,internalRedirect,internalRedirectHash,self=this,collapseSectionsByDefault=mw.config.get("wgMFCollapseSectionsByDefault");tagName=$container.find("> h1,> h2,> h3,> h4,> h5,> h6,.section-heading").eq(0).prop("tagName")||"H1",void 0===collapseSectionsByDefault&&(collapseSectionsByDefault=!0),expandSections=!collapseSectionsByDefault||"true"===mw.storage.get("expandSections"),$container.children(tagName).each(function(i){var isReferenceSection,$heading=$container.find(this),$indicator=$heading.find(".indicator"),id=prefix+"collapsible-block-"+i;$heading.next().is("div")&&(isReferenceSection=!!($content=$heading.next("div")).attr("data-is-reference-section"),$heading.addClass("collapsible-heading ").data("section-number",i).attr({tabindex:0,"aria-haspopup":"true","aria-controls":id}).on("click",function(ev){ev.target.href||(ev.preventDefault(),self.toggle($heading,page))}),arrowOptions.rotation=expandSections?180:0,indicator=new Icon(arrowOptions),$indicator.length?$indicator.replaceWith(indicator.$el):indicator.prependTo($heading),$heading.data("indicator",indicator.$el),$content.addClass("collapsible-block").eq(0).attr({id:id,"aria-pressed":"false","aria-expanded":"false"}),function enableKeyboardActions(toggler,$heading,page){$heading.on("keypress",function(ev){(13===ev.which||32===ev.which)&&toggler.toggle($heading,page)}).find("a").on("keypress mouseup",function(ev){ev.stopPropagation()})}(self,$heading,page),!isReferenceSection&&(!isClosed&&browser.isWideScreen()||expandSections)&&self.toggle($heading,page))}),internalRedirect=mw.config.get("wgInternalRedirectTargetUrl"),(internalRedirectHash=!!internalRedirect&&internalRedirect.split("#")[1])&&(window.location.hash=internalRedirectHash,self.reveal(internalRedirectHash,$container,page)),checkHash(),($link=$container.find("a:not(.reference a)")).on("click",function(){void 0!==$link.attr("href")&&-1<$link.attr("href").indexOf("#")&&checkHash()}),util.getWindow().on("hashchange",function(){checkHash()}),!browser.isWideScreen()&&page&&(expandStoredSections(this,$container,page),cleanObsoleteStoredSections(page))},Toggler._getExpandedSections=getExpandedSections,Toggler._expandStoredSections=expandStoredSections,Toggler._cleanObsoleteStoredSections=cleanObsoleteStoredSections,module.exports=Toggler},function(module,exports,__webpack_require__){var Drawer=__webpack_require__(87),Anchor=__webpack_require__(49),Icon=__webpack_require__(27),util=__webpack_require__(1),AmcEnableForm=__webpack_require__(697),AMC_ENABLE_FIELD_NAME="enableAMC",AMC_ENABLE_FIELD_VALUE="1";module.exports=function amcOutreachDrawer(action,promoCampaign,mwMessage,mwUtil,currentPage,toast,editToken){return new Drawer({className:"amc-outreach-drawer",closeOnScroll:!1,children:[new Icon({additionalClassNames:"mw-ui-icon-large",tagName:"span",name:"amc-outreach"}).$el,util.parseHTML("<p>").append(util.parseHTML("<strong>").text(mwMessage("mobile-frontend-amc-outreach-intro").text())),util.parseHTML("<p>").text(mwMessage("mobile-frontend-amc-outreach-description").text()),new AmcEnableForm({postUrl:mwUtil.getUrl("Special:MobileOptions",{returnto:currentPage.title}),fields:[{name:"updateSingleOption",value:AMC_ENABLE_FIELD_NAME},{name:"enableAMC",value:AMC_ENABLE_FIELD_VALUE},{name:"token",value:editToken}],buttonLabel:mwMessage("mobile-frontend-amc-outreach-enable").text(),events:{submit:function(){promoCampaign.makeActionIneligible(action),toast.showOnPageReload(mwMessage("mobile-frontend-amc-outreach-enabled-message").text())}}}).$el,new Anchor({href:"#",additionalClassNames:"cancel",progressive:!0,label:mwMessage("mobile-frontend-amc-outreach-no-thanks").text()}).$el],onBeforeHide:function(){promoCampaign.makeActionIneligible(action),toast.show(mwMessage("mobile-frontend-amc-outreach-dismissed-message").text())}})}},function(module,exports,__webpack_require__){__webpack_require__(9);var Overlay=__webpack_require__(22),mfExtend=__webpack_require__(10),headers=__webpack_require__(28),util=__webpack_require__(1),CategoryGateway=__webpack_require__(320),CategoryLookupInputWidget=__webpack_require__(706),toast=__webpack_require__(110),router=mw.loader.require("mediawiki.router");function CategoryAddOverlay(options){this.eventBus=options.eventBus,Overlay.call(this,util.extend(!0,{headers:[headers.saveHeader(mw.msg("mobile-frontend-categories-add-heading",options.title),"initial-header"),headers.savingHeader(mw.msg("mobile-frontend-categories-add-wait"))],className:"category-overlay overlay",events:{"click .save":"onSaveClick","click .suggestion":"onCategoryClick"}},options))}mfExtend(CategoryAddOverlay,Overlay,{template:util.template('\n<div class="overlay-header-container header-container position-fixed"></div>\n<div class="content-header panel add-panel overlay-content">\n\t<div class="category-add-input"></div>\n</div>\n<p class="overlay-content category-suggestions panel"></p>\n\t'),postRender:function(){var input;Overlay.prototype.postRender.apply(this),this.$suggestions=this.$el.find(".category-suggestions"),this.$saveButton=this.$el.find(".save"),this.wgCategories=this.options.categories,this.title=this.options.title,this.gateway=new CategoryGateway(this.options.api),input=new CategoryLookupInputWidget({gateway:this.gateway,suggestions:this.$suggestions,categories:this.wgCategories,saveButton:this.$saveButton}),this.$el.find(".category-add-input").append(input.$element)},onCategoryClick:function(ev){this.$el.find(ev.target).closest(".suggestion").detach(),0<this.$el.find(".suggestion").length?this.$saveButton.prop("disabled",!1):this.$saveButton.prop("disabled",!0)},onSaveClick:function(){var newCategories="",self=this;this.showHidden(".saving-header"),this.$el.find(".suggestion").each(function(){var data=self.$el.find(this).data("title");data&&(newCategories+="\n[["+data+"]] ")}),0===newCategories.length?toast.show(mw.msg("mobile-frontend-categories-nodata"),{type:"error"}):this.gateway.save(this.title,newCategories).then(function(){router.navigate("#"),mw.notify(mw.msg("mobile-frontend-categories-notification"))},function(){self.showHidden(".initial-header"),self.$safeButton.prop("disabled",!1),toast.show(mw.msg("mobile-frontend-categories-nodata"),{type:"error"})})}}),module.exports=CategoryAddOverlay},function(module,exports,__webpack_require__){__webpack_require__(9);var Overlay=__webpack_require__(22),Anchor=__webpack_require__(49),header=__webpack_require__(28).header,CategoryTabs=__webpack_require__(212);module.exports=function categoryOverlay(options){var overlay,widget;return overlay=new Overlay({className:"category-overlay overlay",headers:[header(mw.msg("mobile-frontend-categories-heading"),options.isAnon?[]:[new Anchor({href:"#/categories/add",label:mw.msg("mobile-frontend-categories-add"),additionalClassNames:"add continue"})])]}),widget=new CategoryTabs({eventBus:options.eventBus,api:options.api,title:options.title,subheading:mw.msg("mobile-frontend-categories-subheading")}),overlay.$el.find(".overlay-content").append(widget.$el),overlay}},function(module,exports,__webpack_require__){var m=__webpack_require__(39),getDeviceLanguage=__webpack_require__(725),Overlay=__webpack_require__(22),promisedView=__webpack_require__(73);function loadLanguageSearcher(gateway){return mw.loader.using("mobile.languages.structured").then(function(){return gateway.getPageLanguages(mw.config.get("wgPageName"),mw.config.get("wgUserLanguage"))}).then(function(data){return new(m.require("mobile.languages.structured/LanguageSearcher"))({languages:data.languages,variants:data.variants,deviceLanguage:getDeviceLanguage(navigator)})})}function languageOverlay(pageGateway){return Overlay.make({heading:mw.msg("mobile-frontend-language-heading"),className:"overlay language-overlay"},promisedView(loadLanguageSearcher(pageGateway)))}languageOverlay.test={loadLanguageSearcher:loadLanguageSearcher},module.exports=languageOverlay},function(module,exports,__webpack_require__){var m=__webpack_require__(39),promisedView=__webpack_require__(73),util=__webpack_require__(1),header=__webpack_require__(28).header,icons=__webpack_require__(32),Overlay=__webpack_require__(22);module.exports=function mediaViewerOverlay(options){return Overlay.make({headers:[header("",[],icons.cancel("gray"))],className:"overlay media-viewer"},promisedView(util.Promise.all([mw.loader.using("mobile.mediaViewer")]).then(function(){return new(0,m.require("mobile.mediaViewer").ImageCarousel)(options)})))}},function(module,exports,__webpack_require__){function _typeof2(obj){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return _typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}__webpack_require__(30),__webpack_require__(31),__webpack_require__(44),__webpack_require__(9),__webpack_require__(33),__webpack_require__(53),__webpack_require__(8),__webpack_require__(83),__webpack_require__(84),__webpack_require__(7),__webpack_require__(46),__webpack_require__(38);var Button=__webpack_require__(12),util=__webpack_require__(1),View=__webpack_require__(6),user=mw.user,BetaOptInPanel=function(_View){"use strict";function BetaOptInPanel(props){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BetaOptInPanel),_possibleConstructorReturn(this,_getPrototypeOf(BetaOptInPanel).call(this,util.extend({isTemplateMode:!0,events:{"click .optin":"_onOptin","click .cancel":props.onCancel}},props)))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(BetaOptInPanel,View),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(BetaOptInPanel,[{key:"postRender",value:function(){this.$el.find(".message").append(this.options.buttons.map(function(button){return button.$el}))}},{key:"_onOptin",value:function(ev){this.$el.find(ev.currentTarget).closest("form").trigger("submit")}},{key:"template",get:function(){return util.template('\n\t<div class="beta-opt-in-panel panel visible">\n\t\t<form class="message content" action="{{postUrl}}" method="POST">\n\t\t\t<p>{{text}}</p>\n\t\t\t<input type="hidden" name="updateSingleOption" value="enableBeta">\n\t\t\t<input type="hidden" name="enableBeta" value="true">\n\t\t\t<input type="hidden" name="token" value="{{editToken}}">\n\t\t</form>\n\t</div>\n\t')}},{key:"defaults",get:function(){return util.extend({},View.prototype.defaults,{postUrl:void 0,editToken:user.tokens.get("editToken"),text:mw.msg("mobile-frontend-panel-betaoptin-msg"),buttons:[new Button({progressive:!0,additionalClassNames:"optin",label:mw.msg("mobile-frontend-panel-ok")}),new Button({additionalClassNames:"cancel",label:mw.msg("mobile-frontend-panel-cancel")})]})}}]),BetaOptInPanel}();module.exports=BetaOptInPanel},function(module,exports,__webpack_require__){var Overlay=__webpack_require__(22),m=__webpack_require__(39),promisedView=__webpack_require__(73),View=__webpack_require__(6),Anchor=__webpack_require__(49);function notificationsOverlay(onCountChange,onNotificationListRendered){var markAllReadButton,echo=2<arguments.length&&void 0!==arguments[2]?arguments[2]:mw.echo,oouiPromise=mw.loader.using("mobile.notifications.overlay").then(function(){return markAllReadButton=new OO.ui.ButtonWidget({icon:"checkAll",title:mw.msg("echo-mark-all-as-read")}),View.make({class:"notifications-overlay-header-markAllRead"},[markAllReadButton.$element])}),markAllReadButtonView=promisedView(oouiPromise);markAllReadButtonView.$el.hide();var overlay=Overlay.make({heading:"<strong>"+mw.message("notifications").escaped()+"</strong>",footerAnchor:new Anchor({href:mw.util.getUrl("Special:Notifications"),progressive:!0,additionalClassNames:"footer-link notifications-archive-link",label:mw.msg("echo-overlay-link")}).options,headerActions:[markAllReadButtonView],isBorderBox:!1,className:"overlay notifications-overlay navigation-drawer",onBeforeExit:function(exit){return _onBeforeExit(overlay,exit)}},promisedView(oouiPromise.then(function(){return(0,m.require("mobile.notifications.overlay").list)(echo,markAllReadButton,onCountChange,onNotificationListRendered)})));return overlay}function _onBeforeExit(overlay,exit){"transition"in overlay.$el[0].style?(overlay.$el[0].addEventListener("transitionend",exit,{once:!0}),overlay.$el[0].classList.remove("visible")):exit()}notificationsOverlay.test={onBeforeExit:_onBeforeExit},module.exports=notificationsOverlay},function(module,exports,__webpack_require__){__webpack_require__(9);var NotificationsFilterOverlay,Overlay=__webpack_require__(22),util=__webpack_require__(1);__webpack_require__(10)(NotificationsFilterOverlay=function(options){var self=this;Overlay.call(this,util.extend({className:"overlay notifications-filter-overlay notifications-overlay navigation-drawer"},options)),this.on("hide",function(){options.mainMenu.closeNavigationDrawers()}),options.$crossWikiUnreadFilter.on("click",function(){self.hide()}),options.$notifReadState.find(".oo-ui-buttonElement").on("click",function(){self.hide()}),this.$el.find(".overlay-content").append(this.parseHTML("<div>").addClass("notifications-filter-overlay-read-state").append(options.$notifReadState),options.$crossWikiUnreadFilter)},Overlay,{defaults:util.extend({},Overlay.prototype.defaults,{heading:mw.msg("mobile-frontend-notifications-filter-title")}),preRender:function(){this.options.heading="<strong>"+mw.message("mobile-frontend-notifications-filter-title").escaped()+"</strong>"}}),module.exports=NotificationsFilterOverlay},function(module,exports,__webpack_require__){__webpack_require__(105),__webpack_require__(9),__webpack_require__(23),__webpack_require__(132);var mfExtend=__webpack_require__(10),Overlay=__webpack_require__(22),util=__webpack_require__(1),icons=__webpack_require__(32),formHeader=__webpack_require__(28).formHeader,Icon=__webpack_require__(27),SearchResultsView=__webpack_require__(215),WatchstarPageList=__webpack_require__(749);function SearchOverlay(params){var options=util.extend(!0,{headerChrome:!0,isBorderBox:!1,className:"overlay search-overlay",headers:[formHeader(util.template('<div class="overlay-title">\n<form method="get" action="{{action}}" class="search-box">\n\t<input class="search" type="search" name="search" autocomplete="off" placeholder="{{placeholderMsg}}" aria-label="{{placeholderMsg}}" value="{{searchTerm}}">\n</form>\n</div>\n\t\t\t\t\t').render({placeholderMsg:params.placeholderMsg,action:params.action||mw.config.get("wgScript")}),[icons.cancel()],!1)],events:{"input input":"onInputInput","click .clear":"onClickClear","click .search-content":"onClickSearchContent","click .overlay-content":"onClickOverlayContent","click .overlay-content > div":"onClickOverlayContentDiv","touchstart .results":"hideKeyboardOnScroll","mousedown .results":"hideKeyboardOnScroll","click .results a":"onClickResult"}},params);Overlay.call(this,options),this.api=options.api,this.gateway=options.gateway?options.gateway:new options.gatewayClass(this.api),this.router=options.router}mfExtend(SearchOverlay,Overlay,{defaults:util.extend({},Overlay.prototype.defaults,{clearIcon:new Icon({tagName:"button",name:"search-clear",isSmall:!0,label:mw.msg("mobile-frontend-clear-search"),additionalClassNames:"clear"}),searchTerm:""}),onInputInput:function(){this.performSearch(),this.$clear.toggle(""!==this.$input.val())},onClickClear:function(){return this.$input.val("").trigger("focus"),this.performSearch(),this.$clear.hide(),!1},onClickSearchContent:function(){var $el=util.getDocument().find("body"),$form=this.$el.find("form");this.parseHTML("<input>").attr({type:"hidden",name:"fulltext",value:"search"}).appendTo($form),setTimeout(function(){$form.appendTo($el),$form.trigger("submit")},0)},onClickOverlayContent:function(){this.$el.find(".cancel").trigger("click")},onClickOverlayContentDiv:function(ev){ev.stopPropagation()},hideKeyboardOnScroll:function(){this.$input.trigger("blur")},onClickResult:function(ev){var $link=this.$el.find(ev.currentTarget),$result=$link.closest("li");this.emit("search-result-click",{result:$result,resultIndex:this.$results.index($result),originalEvent:ev}),ev.preventDefault(),this.router.back().then(function(){window.location.href=$link.attr("href")})},postRender:function(){function clearSearch(){self.$spinner.hide(),clearTimeout(timer)}var timer,self=this,options=this.options,searchResults=new SearchResultsView({searchContentLabel:mw.msg("mobile-frontend-search-content"),noResultsMsg:mw.msg("mobile-frontend-search-no-results"),searchContentNoResultsMsg:mw.message("mobile-frontend-search-content-no-results").parse()});this.$el.find(".overlay-content").append(searchResults.$el),Overlay.prototype.postRender.call(this),this.$el.find(".overlay-title").append(options.clearIcon.$el),this.$input=this.$el.find("input"),this.$clear=this.$el.find(".clear"),this.$searchContent=searchResults.$el.hide(),this.$resultContainer=searchResults.$el.find(".results-list-container"),this.$spinner=searchResults.$el.find(".spinner-container"),this.on("search-start",function(searchData){timer&&clearSearch(),timer=setTimeout(function(){self.$spinner.show()},2e3-searchData.delay)}),this.on("search-results",clearSearch),""===self.$input.val()&&this.$clear.hide()},showKeyboard:function(){var len=this.$input.val().length;this.$input.trigger("focus"),this.$input[0].setSelectionRange&&this.$input[0].setSelectionRange(len,len)},show:function(){Overlay.prototype.show.apply(this,arguments),this.showKeyboard(),this.emit("search-show")},performSearch:function(){var self=this,api=this.api,query=this.$input.val(),delay=this.gateway.isCached(query)?0:300;query!==this.lastQuery&&(self._pendingQuery&&self._pendingQuery.abort(),clearTimeout(this.timer),query.length?this.timer=setTimeout(function(){var xhr;self.emit("search-start",{query:query,delay:delay}),xhr=self.gateway.search(query),self._pendingQuery=xhr.then(function(data){data&&data.query===self.$input.val()&&(self.$el.toggleClass("no-results",0===data.results.length),self.$searchContent.show().find("p").hide().filter(data.results.length?".with-results":".without-results").show(),new WatchstarPageList({api:api,funnel:"search",pages:data.results,el:self.$resultContainer}),self.$results=self.$resultContainer.find("li"),self.emit("search-results",{results:data.results}))}).promise({abort:function(){xhr.abort()}})},delay):self.resetSearch(),this.lastQuery=query)},resetSearch:function(){this.$el.find(".overlay-content").children().hide()}}),module.exports=SearchOverlay},function(module,exports,__webpack_require__){__webpack_require__(9),__webpack_require__(26);var mfExtend=__webpack_require__(10),headers=__webpack_require__(28),Overlay=__webpack_require__(22),PageGateway=__webpack_require__(208),util=__webpack_require__(1),makeAddTopicForm=__webpack_require__(758),toast=__webpack_require__(110);function TalkSectionAddOverlay(options){this.editorApi=options.api,this.pageGateway=new PageGateway(options.api),Overlay.call(this,util.extend(options,{className:"talk-overlay overlay",onBeforeExit:this.onBeforeExit.bind(this),events:{"click .save":"onSaveClick"}})),this.onSaveComplete=options.onSaveComplete,this.title=options.title,this.currentPageTitle=options.currentPageTitle,this.eventBus=options.eventBus,this._saveHit=!1}mfExtend(TalkSectionAddOverlay,Overlay,{preRender:function(){this.options.headers=[headers.saveHeader(mw.msg("mobile-frontend-talk-add-overlay-submit"),"initial-header save-header"),headers.savingHeader(mw.msg("mobile-frontend-talk-topic-wait"))]},postRender:function(){var topicForm;Overlay.prototype.postRender.call(this),topicForm=makeAddTopicForm({subject:"",body:"",disabled:!1,licenseMsg:this.options.licenseMsg,onTextInput:this.onTextInput.bind(this)}),this.showHidden(".initial-header"),this.$confirm=this.$el.find("button.save"),this.$el.find(".overlay-content").append(topicForm.$el),this.$subject=topicForm.$el.find("input"),this.$ta=topicForm.$el.find(".wikitext-editor")},onBeforeExit:function(exit){var empty,confirmMessage=mw.msg("mobile-frontend-editor-cancel-confirm");empty=!this.$subject.val()&&!this.$ta.val(),(this._saveHit||empty||window.confirm(confirmMessage))&&exit()},onTextInput:function(subject,body){this.subject=subject,this.body=body,clearTimeout(this.timer),this.timer=setTimeout(function(){body&&subject?this.$confirm.prop("disabled",!1):this.$confirm.prop("disabled",!0)}.bind(this),250)},onSaveClick:function(){var isOnTalkPage=this.title===this.currentPageTitle;this.showHidden(".saving-header"),this.save().then(function(status){"ok"===status&&(isOnTalkPage?this.eventBus.emit("talk-added-wo-overlay"):this.onSaveComplete())}.bind(this),function(error){var editMsg=mw.msg("mobile-frontend-talk-topic-error");switch(this.$confirm.prop("disabled",!1),error.details){case"protectedpage":editMsg=mw.msg("mobile-frontend-talk-topic-error-protected");break;case"noedit":case"blocked":editMsg=mw.msg("mobile-frontend-talk-topic-error-permission");break;case"spamdetected":editMsg=mw.msg("mobile-frontend-talk-topic-error-spam");break;case"badtoken":editMsg=mw.msg("mobile-frontend-talk-topic-error-badtoken");break;default:editMsg=mw.msg("mobile-frontend-talk-topic-error")}toast.show(editMsg,{type:"error"}),this.showHidden(".save-header, .save-panel")}.bind(this))},save:function(){var heading=this.subject,d=util.Deferred();return this.$ta.removeClass("error"),this.$subject.removeClass("error"),this._saveHit=!0,this.$el.find(".content").empty().addClass("loading"),this.editorApi.postWithToken("csrf",{action:"edit",section:"new",sectiontitle:heading,title:this.title,summary:mw.msg("newsectionsummary",heading),text:this.body}).then(function(){return"ok"},function(msg){return d.reject({type:"error",details:msg})})}}),module.exports=TalkSectionAddOverlay},function(module,exports,__webpack_require__){__webpack_require__(9),__webpack_require__(35),__webpack_require__(26);var user=mw.user,icons=__webpack_require__(32),spinner=icons.spinner().$el,mfExtend=__webpack_require__(10),PageGateway=__webpack_require__(208),Overlay=__webpack_require__(22),header=__webpack_require__(28).header,util=__webpack_require__(1),popup=__webpack_require__(110),autosign=__webpack_require__(329),Page=__webpack_require__(147),Button=__webpack_require__(12);function TalkSectionOverlay(options){var onBeforeExit=this.onBeforeExit.bind(this);this.editorApi=options.api,this.pageGateway=new PageGateway(options.api),this.state={text:""},Overlay.call(this,util.extend(!0,options,{className:"talk-overlay overlay",onBeforeExit:onBeforeExit,events:{click:function(ev){"A"===ev.target.tagName&&-1===ev.target.className.indexOf("save-button")&&onBeforeExit(function(){},function(){ev.preventDefault()})},"input textarea":"onInputTextarea","focus textarea":"onFocusTextarea","click .save-button":"onSaveClick"}}))}mfExtend(TalkSectionOverlay,Overlay,{templatePartials:util.extend({},Overlay.prototype.templatePartials,{content:util.template('\n<div class="content talk-section">\n\t{{{section.text}}}\n\t<div class="comment">\n\t\t<div class="list-header">{{reply}}</div>\n\t\t<div class="comment-content">\n\t\t\t<textarea class="wikitext-editor"></textarea>\n\t\t\t<p class="license">\n\t\t\t\t{{info}}\n\t\t\t\t{{{licenseMsg}}}\n\t\t\t</p>\n\t\t</div>\n\t</div>\n</div>\n\t\t')}),defaults:util.extend({},Overlay.prototype.defaults,{saveButton:new Button({block:!0,additionalClassNames:"save-button",progressive:!0,label:util.saveButtonMessage()}),title:void 0,section:void 0,reply:mw.msg("mobile-frontend-talk-reply"),info:mw.msg("mobile-frontend-talk-reply-info")}),onInputTextarea:function(ev){this.state.text=ev.target.value},onBeforeExit:function(exit,cancel){var confirmMessage=mw.msg("mobile-frontend-editor-cancel-confirm");!this.state.text||window.confirm(confirmMessage)?exit():cancel()},preRender:function(){var options=this.options;this.options.headers=[header(options.section?options.section.line:"",[],icons.back(),"initial-header")]},postRender:function(){Overlay.prototype.postRender.apply(this),this.$el.find(".talk-section").prepend(spinner),this.$saveButton=this.options.saveButton.$el,this.$el.find(".comment-content").append(this.$saveButton),this.options.section?(this.hideSpinner(),this._enableComments()):this.renderFromApi(this.options)},_enableComments:function(){this.$commentBox=this.$el.find(".comment"),user.isAnon()?this.$commentBox.remove():this.$textarea=this.$commentBox.find("textarea")},renderFromApi:function(options){var self=this;this.pageGateway.getPage(options.title).then(function(pageData){var page=new Page(pageData);options.section=page.getSection(options.id),self.render(options),self.hideSpinner()})},onFocusTextarea:function(){this.$textarea.removeClass("error")},onSaveClick:function(){function enableSaveButton(){self.$saveButton.prop("disabled",!1)}var val=this.state.text,self=this;val?(this.showSpinner(),this.$saveButton.prop("disabled",!0),val="\n\n"+autosign(val),this.editorApi.postWithToken("csrf",{action:"edit",title:this.options.title,section:this.options.id,appendtext:val,redirect:!0}).then(function(){popup.show(mw.msg("mobile-frontend-talk-reply-success")),self.pageGateway.invalidatePage(self.options.title),self.renderFromApi(self.options),enableSaveButton()},function(data,response){var msg;msg=response.error&&-1<["readonly","blocked","autoblocked"].indexOf(response.error.code)?response.error.info:mw.msg("mobile-frontend-editor-error"),self.hideSpinner(),popup.show(msg,"toast error"),enableSaveButton()})):this.$textarea.addClass("error")}}),module.exports=TalkSectionOverlay},function(module,exports,__webpack_require__){var m=__webpack_require__(39),promisedView=__webpack_require__(73),Anchor=__webpack_require__(49),util=__webpack_require__(1),header=__webpack_require__(28).header,Overlay=__webpack_require__(22);module.exports=function talkOverlay(title,gateway){var user=mw.user;return Overlay.make({headers:[header("<strong>"+mw.msg("mobile-frontend-talk-overlay-header")+"</strong>",user.isAnon()?[]:[new Anchor({href:"#/talk/new",additionalClassNames:"continue",label:mw.msg("mobile-frontend-talk-add-overlay-submit")})])],footerAnchor:new Anchor({progressive:!0,href:mw.util.getUrl(title),additionalClassNames:"footer-link talk-fullpage",label:mw.msg("mobile-frontend-talk-fullpage")}).options,className:"talk-overlay overlay"},promisedView(util.Promise.all([gateway.getSections(title),mw.loader.using("mobile.talk.overlays")]).then(function(sections){return m.require("mobile.talk.overlays/talkBoard")(sections)})))}},function(module,exports,__webpack_require__){__webpack_require__(349),__webpack_require__(453),module.exports=__webpack_require__(454)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(global,module){__webpack_require__(15),__webpack_require__(33),__webpack_require__(7),__webpack_require__(34),__webpack_require__(23),__webpack_require__(58),__webpack_require__(16),__webpack_require__(38);var _storybook_html__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),oojs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(331),oojs__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(oojs__WEBPACK_IMPORTED_MODULE_9__),jquery__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(332),jquery__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_10__),mustache__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(333),mustache__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(mustache__WEBPACK_IMPORTED_MODULE_11__),_i18n_en_json__WEBPACK_IMPORTED_MODULE_13__=(__webpack_require__(652),__webpack_require__(113));global.OO=oojs__WEBPACK_IMPORTED_MODULE_9___default.a,global.OO.ui={},global.$=jquery__WEBPACK_IMPORTED_MODULE_10___default.a,global.Mustache=mustache__WEBPACK_IMPORTED_MODULE_11___default.a,global.mw=__webpack_require__(655)(),global.mw.Title={newFromText:function(title){return{getMainText:function(){return title},getUrl:function(){return"/wiki/".concat(title)}}},makeTitle:function(ns,title){return{getUrl:function(){return"/wiki/".concat(title)}}}},global.mw.confirmCloseWindow=function(){return{release:function(){}}},global.moment=function(){return{to:function(){return"1 day"},format:function(){return"20th December 2050"}}},global.mw.msg=function(key,arg1){return(_i18n_en_json__WEBPACK_IMPORTED_MODULE_13__[key]||"<".concat(key,">")).replace("$1",arg1)},global.mw.message=function(key){return{escaped:function(){return _i18n_en_json__WEBPACK_IMPORTED_MODULE_13__[key]?_i18n_en_json__WEBPACK_IMPORTED_MODULE_13__[key]:"&lt;".concat(key,"&gt;")},text:function(){return _i18n_en_json__WEBPACK_IMPORTED_MODULE_13__[key]}}},global.mw.loader.using=function(){return Promise.resolve()};var req=__webpack_require__(656);Object(_storybook_html__WEBPACK_IMPORTED_MODULE_8__.configure)(function loadStories(){req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__(24),__webpack_require__(455)(module))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){var content=__webpack_require__(653);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/* GOAL: Upstream all these variables to core */\n/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * System font stack for sans-serif fonts\n *\n * `-apple-system` ('San Francisco') – Support: Safari 9+ macOS and iOS, Firefox macOS\n * `BlinkMacSystemFont` ('San Francisco') – Chrome 48+ macOS and iOS\n * `Segoe UI` – Windows Vista & newer\n * `Roboto` – Android 4.0\n * `Lato` – Wikimedia Design choice, OFL licensed\n * `Helvetica, Arial, sans-serif` – (Generic) Web fallback\n * Note that CSS Fonts Module Level 4's `system-ui` value has resulted in unresolved\n * side-effects in certain OS/language combinations and is therefore not included as of now.\n */\nhtml,\nbody {\n  height: 100%;\n}\nbody {\n  font-family: -apple-system, 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Lato', 'Helvetica', 'Arial', sans-serif;\n}\nh2,\nh3,\nh4,\np,\nul,\nbody {\n  margin: 0;\n}\n.content p {\n  margin: 0.5em 0 1em 0;\n}\nbutton {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font: inherit;\n  font-size: 100%;\n  vertical-align: baseline;\n  background: none;\n}\nul {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  list-style: none;\n}\na {\n  text-decoration: none;\n}\n/**\n * since icons are defined in ResourceLoaderImage modules and we cannot guarantee a working\n * mediawiki instance to access these, nor can we load them, use the remote beta cluster\n * for icon access.\n * in future we may decide to do this using an svg-loader.\n */\n.mw-ui-icon-mf-arrow:before {\n  background-image: url(https://en.m.wikipedia.beta.wmflabs.org/w/load.php?modules=mobile.startup.images.variants&image=arrow&format=rasterized&skin=minerva );\n}\n.mw-ui-icon-mf-arrow-invert:before {\n  background-image: url(https://en.m.wikipedia.beta.wmflabs.org/w/load.php?modules=mobile.startup.images.variants&variant=invert&image=arrow&format=rasterized&skin=minerva );\n}\n.mw-ui-icon-mf-arrow-gray:before {\n  background-image: url(https://en.m.wikipedia.beta.wmflabs.org/w/load.php?modules=mobile.startup.images.variants&variant=gray&image=arrow&format=rasterized&skin=minerva );\n}\n.mw-ui-icon-mf-overlay-close:before {\n  background-image: url(https://en.m.wikipedia.beta.wmflabs.org/w/load.php?modules=mobile.startup.images.variants&image=overlay-close&format=rasterized&skin=minerva );\n}\n.mw-ui-icon-mf-spinner:before {\n  background-image: url(https://en.m.wikipedia.beta.wmflabs.org/w/extensions/MobileFrontend/resources/mobile.startup/images/ajax-loader.gif );\n}\n.mw-ui-icon-mf-error:before {\n  background-image: url(https://en.m.wikipedia.beta.wmflabs.org/w/load.php?modules=mobile.startup.images&image=error&format=rasterized&skin=minerva );\n}\n.mw-ui-icon-mf-back:before {\n  background-image: url(https://en.m.wikipedia.beta.wmflabs.org/w/load.php?modules=mobile.startup.images.variants&image=back&format=rasterized&lang=en&skin=minerva );\n}\n.mw-ui-icon-mf-overlay-close-gray:before {\n  background-image: url(https://en.m.wikipedia.beta.wmflabs.org/w/load.php?modules=mobile.startup.images.variants&image=overlay-close&variant=gray&format=rasterized&skin=minerva );\n}\n.mw-ui-icon-mf-citation-invert:before {\n  background-image: url(https://en.m.wikipedia.beta.wmflabs.org/w/load.php?modules=mobile.startup.images&image=citation&variant=invert&format=rasterized&skin=minerva );\n}\n.mw-ui-icon-mf-search-content:before {\n  background-image: url(https://en.m.wikipedia.beta.wmflabs.org/w/load.php?modules=mobile.startup.images&image=search-content&format=rasterized&skin=minerva&version=0x58lpz );\n}\n.mw-ui-icon-mf-alert-invert:before {\n  background-image: url(https://en.m.wikipedia.beta.wmflabs.org/w/load.php?modules=mobile.startup.images.variants&image=alert&variant=invert&format=rasterized&skin=minerva&version=0x58lpz );\n}\n.mw-ui-icon-mf-amc-outreach:before {\n  background-image: url(https://en.m.wikipedia.beta.wmflabs.org/w/load.php?modules=mobile.startup.images&image=amc-outreach&format=rasterized&skin=minerva&version=17reeae );\n}\n.mw-ui-icon-mf-toc:before {\n  background-image: url(https://en.m.wikipedia.beta.wmflabs.org/w/load.php?modules=mobile.startup.images&image=toc&format=rasterized&skin=minerva&version=11amm60 );\n}\n.mw-ui-icon-mf-profile:before {\n  background-image: url(https://en.m.wikipedia.beta.wmflabs.org/w/load.php?modules=mobile.editor.images&image=profile&format=rasterized&skin=minerva&version=11amm60 );\n}\n.mw-ui-icon-mf-stop-hand:before {\n  background-image: url(https://en.m.wikipedia.beta.wmflabs.org/w/load.php?modules=mobile.editor.images&image=stop-hand&format=rasterized&skin=minerva&version=11amm60 );\n}\n.list-thumb-none {\n  background-image: linear-gradient(transparent, transparent), url(\"data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2220%22 height=%2220%22 viewBox=%220 0 20 20%22%3E%3Ctitle%3Earticle%3C/title%3E%3Cpath d=%22M5 1a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm0 3h5v1H5zm0 2h5v1H5zm0 2h5v1H5zm10 7H5v-1h10zm0-2H5v-1h10zm0-2H5v-1h10zm0-2h-4V4h4z%22/%3E%3C/svg%3E\");\n}\ninput.search,\n.mw-ui-icon-minerva-magnifying-glass:before {\n  background-image: url(https://en.m.wikipedia.beta.wmflabs.org/w/load.php?modules=skins.minerva.content.styles.images&image=input.search%2C.mw-ui-icon-minerva-magnifying-glass%3Abefore&format=rasterized&skin=minerva );\n}\n",""])},,function(module,exports,__webpack_require__){__webpack_require__(45),__webpack_require__(26),__webpack_require__(7),__webpack_require__(23),__webpack_require__(59),__webpack_require__(58);var namespaceIDs={special:-1,talk:1,user_talk:3,project:4,project_talk:5};function Api(){}Api.prototype.get=function(){},Api.prototype.post=function(){},Api.prototype.getToken=function(){},Api.prototype.postWithToken=function(){},module.exports=function(){var config={wgNamespaceIds:namespaceIDs};return{Api:Api,Title:{makeTitle:function(){}},config:{get:function(name,fallback){return config[name]||fallback}},confirmCloseWindow:function(){},hook:function(){return{fire:function(){}}},html:{escape:function(str){return str.replace(/['"<>&]/g,function(_char){return"'"===_char?"&#039;":'"'===_char?"&quot;":"<"===_char?"&lt;":">"===_char?"&gt;":"&"===_char?"&amp;":void 0})}},jqueryMsg:{parser:function(){}},language:{convertNumber:function(){}},log:{deprecate:function(){},warn:function(){}},msg:function(id){return id},message:function(id){return{parse:function(){return id}}},now:Date.now.bind(Date),user:{tokens:{get:function(){}},options:{get:function(){}},isAnon:function(){},generateRandomSessionId:function(){return Math.random().toString()}},track:function(){},util:{getUrl:function(title){return title}},loader:{load:function(){},using:function(){},require:function(){return{}}},requestIdleCallback:function(fn){return fn()},storage:{get:function(){},set:function(){},remove:function(){}},notify:function(){}}}},function(module,exports,__webpack_require__){var map={"./Anchor.stories.js":657,"./Button.stories.js":661,"./Drawer.stories.js":663,"./Icon.stories.js":675,"./Overlay.stories.js":680,"./PageList.stories.js":684,"./Section.stories.js":688,"./TableOfContents.stories.js":691,"./amc/amcOutreachDrawer.stories.js":696,"./categories/overlay.stories.js":763,"./editor/AbuseFilterPanel.stories.js":710,"./editor/overlay.stories.js":762,"./headers.stories.js":717,"./languages/LanguageSearcher.stories.js":718,"./languages/overlay.stories.js":723,"./mediaViewer/ImageCarousel.stories.js":726,"./mediaViewer/LoadErrorMessage.stories.js":729,"./mediaViewer/overlay.stories.js":730,"./messagebox/MessageBox.stories.js":733,"./messagebox/nearbyErrorMessage.stories.js":735,"./mobile/BetaOptInPanel.stories.js":738,"./notifications/list.stories.js":741,"./notifications/overlay.stories.js":744,"./promisedView.stories.js":746,"./search/SearchOverlay.stories.js":747,"./talk/AddTopicForm.stories.js":755,"./talk/TalkSectionAddOverlay.stories.js":757,"./talk/TalkSectionOverlay.stories.js":759,"./talk/overlay.stories.js":760,"./talk/talkBoard.stories.js":761};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=656},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_src_mobile_startup_Anchor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(49),_src_mobile_startup_Anchor__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_src_mobile_startup_Anchor__WEBPACK_IMPORTED_MODULE_1__);__webpack_require__(659);Object(_storybook_html__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("Anchor").add("normal",function(){return new _src_mobile_startup_Anchor__WEBPACK_IMPORTED_MODULE_1___default.a({label:"normal",href:"https://wikipedia.org/wiki/Puppies"}).$el[0]}).add("progressive",function(){return new _src_mobile_startup_Anchor__WEBPACK_IMPORTED_MODULE_1___default.a({label:"progressive",progressive:!0,href:"https://wikipedia.org/wiki/Puppies"}).$el[0]}).add("destructive",function(){return new _src_mobile_startup_Anchor__WEBPACK_IMPORTED_MODULE_1___default.a({label:"destructive",events:{click:function(){return alert("DESTRUCTIVE!")}},destructive:!0,href:"https://wikipedia.org/wiki/Puppies"}).$el[0]})},,function(module,exports,__webpack_require__){var content=__webpack_require__(660);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,'/* stylelint-disable selector-no-vendor-prefix, at-rule-no-unknown */\n/* stylelint-enable selector-no-vendor-prefix, at-rule-no-unknown */\n/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/*\nAnchors\n\nThe anchor base type can be applied to `a` elements when a basic context styling needs to be given to a link, without\nhaving to assign it as a button type. `.mw-ui-anchor` only changes the text color, and should not be used in combination\nwith other base classes, such as `.mw-ui-button`.\n\nMarkup:\n<a href="#" class="mw-ui-anchor mw-ui-progressive">Progressive</a>\n<a href="#" class="mw-ui-anchor mw-ui-destructive">Destructive</a>\n\n.mw-ui-quiet - Quiet until interaction.\n\nStyleguide 6.2.\n*/\n.mw-ui-anchor.mw-ui-progressive {\n  color: #36c;\n}\n.mw-ui-anchor.mw-ui-progressive:hover {\n  color: #6a8fda;\n}\n.mw-ui-anchor.mw-ui-progressive:focus,\n.mw-ui-anchor.mw-ui-progressive:active {\n  color: #254a95;\n  outline: 0;\n}\n.mw-ui-anchor.mw-ui-progressive.mw-ui-quiet {\n  color: #54595d;\n  text-decoration: none;\n}\n.mw-ui-anchor.mw-ui-progressive.mw-ui-quiet:hover {\n  color: #36c;\n}\n.mw-ui-anchor.mw-ui-progressive.mw-ui-quiet:focus,\n.mw-ui-anchor.mw-ui-progressive.mw-ui-quiet:active {\n  color: #254a95;\n}\n.mw-ui-anchor.mw-ui-destructive {\n  color: #d33;\n}\n.mw-ui-anchor.mw-ui-destructive:hover {\n  color: #e76e6e;\n}\n.mw-ui-anchor.mw-ui-destructive:focus,\n.mw-ui-anchor.mw-ui-destructive:active {\n  color: #ae1d1d;\n  outline: 0;\n}\n.mw-ui-anchor.mw-ui-destructive.mw-ui-quiet {\n  color: #54595d;\n  text-decoration: none;\n}\n.mw-ui-anchor.mw-ui-destructive.mw-ui-quiet:hover {\n  color: #d33;\n}\n.mw-ui-anchor.mw-ui-destructive.mw-ui-quiet:focus,\n.mw-ui-anchor.mw-ui-destructive.mw-ui-quiet:active {\n  color: #ae1d1d;\n}\n/*\nQuiet anchors\n\nUse quiet anchors when they are less important and alongside other progressive/destructive\nanchors. Use of quiet anchors is not recommended on mobile/tablet due to lack of hover state.\n\nMarkup:\n<a href="#" class="mw-ui-anchor mw-ui-progressive mw-ui-quiet">Progressive</a>\n<a href="#" class="mw-ui-anchor mw-ui-destructive mw-ui-quiet">Destructive</a>\n\nStyleguide 6.2.1.\n*/\n',""])},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(15),__webpack_require__(16);var _storybook_html__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_src_mobile_startup_Button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12),_src_mobile_startup_Button__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_src_mobile_startup_Button__WEBPACK_IMPORTED_MODULE_3__);__webpack_require__(316);Object(_storybook_html__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("Button").add("normal",function(){return new _src_mobile_startup_Button__WEBPACK_IMPORTED_MODULE_3___default.a({label:"normal"}).$el[0]}).add("progressive",function(){return new _src_mobile_startup_Button__WEBPACK_IMPORTED_MODULE_3___default.a({progressive:!0,label:"progressive",href:"https://wikipedia.org"}).$el[0]}).add("destructive (no href)",function(){return new _src_mobile_startup_Button__WEBPACK_IMPORTED_MODULE_3___default.a({destructive:!0,label:"destructive"}).$el[0]}).add("destructive (no href)",function(){return new _src_mobile_startup_Button__WEBPACK_IMPORTED_MODULE_3___default.a({destructive:!0,events:{click:function(){alert("DESTROY ALL!")}},label:"destructive"}).$el[0]}).add("stacked buttons",function(){var container=document.createElement("div");return[new _src_mobile_startup_Button__WEBPACK_IMPORTED_MODULE_3___default.a({label:"1"}).$el[0],new _src_mobile_startup_Button__WEBPACK_IMPORTED_MODULE_3___default.a({label:"2"}).$el[0],new _src_mobile_startup_Button__WEBPACK_IMPORTED_MODULE_3___default.a({label:"3"}).$el[0]].forEach(function(node){return container.appendChild(node)}),container}).add("stacked block buttons",function(){var container=document.createElement("div");return[new _src_mobile_startup_Button__WEBPACK_IMPORTED_MODULE_3___default.a({block:!0,label:"1"}).$el[0],new _src_mobile_startup_Button__WEBPACK_IMPORTED_MODULE_3___default.a({block:!0,label:"2"}).$el[0],new _src_mobile_startup_Button__WEBPACK_IMPORTED_MODULE_3___default.a({block:!0,label:"3"}).$el[0]].forEach(function(node){return container.appendChild(node)}),container})},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/* stylelint-disable selector-no-vendor-prefix, at-rule-no-unknown */\n/* stylelint-enable selector-no-vendor-prefix, at-rule-no-unknown */\n/* stylelint-disable selector-class-pattern */\n/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/* stylelint-disable selector-class-pattern */\n.mw-ui-button {\n  background-color: #f8f9fa;\n  color: #222;\n  display: inline-block;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  min-width: 4em;\n  max-width: 28.75em;\n  margin: 0;\n  padding: 0.57142857em 0.9375em;\n  border: 1px solid #a2a9b1;\n  border-radius: 2px;\n  cursor: pointer;\n  vertical-align: middle;\n  font-family: inherit;\n  font-size: 1em;\n  font-weight: bold;\n  line-height: 1;\n  text-align: center;\n  -webkit-appearance: none;\n  *display: inline;\n  /* stylelint-disable-line declaration-block-no-duplicate-properties */\n  zoom: 1;\n}\n.mw-ui-button:visited {\n  color: #222;\n}\n.mw-ui-button:hover {\n  background-color: #fff;\n  color: #444;\n  border-color: #a2a9b1;\n}\n.mw-ui-button:focus {\n  background-color: #fff;\n  color: #222;\n  border-color: #36c;\n  box-shadow: inset 0 0 0 1px #36c, inset 0 0 0 2px #fff;\n  outline-width: 0;\n}\n.mw-ui-button:focus::-moz-focus-inner {\n  border-color: transparent;\n  padding: 0;\n}\n.mw-ui-button:active,\n.mw-ui-button.is-on {\n  background-color: #c8ccd1;\n  color: #000;\n  border-color: #72777d;\n  box-shadow: none;\n}\n.mw-ui-button:disabled {\n  background-color: #c8ccd1;\n  color: #fff;\n  border-color: #c8ccd1;\n  cursor: default;\n}\n.mw-ui-button:disabled:hover,\n.mw-ui-button:disabled:active {\n  background-color: #c8ccd1;\n  color: #fff;\n  box-shadow: none;\n  border-color: #c8ccd1;\n}\n.mw-ui-button:not( :disabled ) {\n  -webkit-transition: background-color 100ms, color 100ms, border-color 100ms, box-shadow 100ms;\n  -moz-transition: background-color 100ms, color 100ms, border-color 100ms, box-shadow 100ms;\n  transition: background-color 100ms, color 100ms, border-color 100ms, box-shadow 100ms;\n}\n.mw-ui-button.mw-ui-quiet,\n.mw-ui-button.mw-ui-quiet.mw-ui-progressive,\n.mw-ui-button.mw-ui-quiet.mw-ui-destructive {\n  background-color: transparent;\n  color: #222;\n  border-color: transparent;\n}\n.mw-ui-button.mw-ui-quiet:hover,\n.mw-ui-button.mw-ui-quiet.mw-ui-progressive:hover,\n.mw-ui-button.mw-ui-quiet.mw-ui-destructive:hover {\n  background-color: transparent;\n  color: #444;\n  border-color: transparent;\n  box-shadow: none;\n}\n.mw-ui-button.mw-ui-quiet:active,\n.mw-ui-button.mw-ui-quiet.mw-ui-progressive:active,\n.mw-ui-button.mw-ui-quiet.mw-ui-destructive:active {\n  background-color: transparent;\n  color: #000;\n  border-color: transparent;\n}\n.mw-ui-button.mw-ui-quiet:focus,\n.mw-ui-button.mw-ui-quiet.mw-ui-progressive:focus,\n.mw-ui-button.mw-ui-quiet.mw-ui-destructive:focus {\n  background-color: transparent;\n  color: #222;\n  border-color: transparent;\n  box-shadow: none;\n}\n.mw-ui-button.mw-ui-quiet:disabled,\n.mw-ui-button.mw-ui-quiet.mw-ui-progressive:disabled,\n.mw-ui-button.mw-ui-quiet.mw-ui-destructive:disabled,\n.mw-ui-button.mw-ui-quiet:disabled:hover,\n.mw-ui-button.mw-ui-quiet.mw-ui-progressive:disabled:hover,\n.mw-ui-button.mw-ui-quiet.mw-ui-destructive:disabled:hover,\n.mw-ui-button.mw-ui-quiet:disabled:active,\n.mw-ui-button.mw-ui-quiet.mw-ui-progressive:disabled:active,\n.mw-ui-button.mw-ui-quiet.mw-ui-destructive:disabled:active {\n  background-color: transparent;\n  color: #72777d;\n  border-color: transparent;\n}\n.mw-ui-button.mw-ui-progressive {\n  background-color: #36c;\n  color: #fff;\n  border: 1px solid #36c;\n}\n.mw-ui-button.mw-ui-progressive:hover {\n  background-color: #447ff5;\n  border-color: #447ff5;\n}\n.mw-ui-button.mw-ui-progressive:focus {\n  box-shadow: inset 0 0 0 1px #36c, inset 0 0 0 2px #fff;\n}\n.mw-ui-button.mw-ui-progressive:active,\n.mw-ui-button.mw-ui-progressive.is-on {\n  background-color: #2a4b8d;\n  border-color: #2a4b8d;\n  box-shadow: none;\n}\n.mw-ui-button.mw-ui-progressive:disabled {\n  background-color: #c8ccd1;\n  color: #fff;\n  border-color: #c8ccd1;\n}\n.mw-ui-button.mw-ui-progressive:disabled:hover,\n.mw-ui-button.mw-ui-progressive:disabled:active {\n  background-color: #c8ccd1;\n  color: #fff;\n  border-color: #c8ccd1;\n  box-shadow: none;\n}\n.mw-ui-button.mw-ui-progressive.mw-ui-quiet {\n  color: #36c;\n}\n.mw-ui-button.mw-ui-progressive.mw-ui-quiet:hover {\n  background-color: transparent;\n  color: #447ff5;\n}\n.mw-ui-button.mw-ui-progressive.mw-ui-quiet:active {\n  color: #2a4b8d;\n}\n.mw-ui-button.mw-ui-progressive.mw-ui-quiet:focus {\n  background-color: transparent;\n  color: #36c;\n}\n.mw-ui-button.mw-ui-destructive {\n  background-color: #d33;\n  color: #fff;\n  border: 1px solid #d33;\n}\n.mw-ui-button.mw-ui-destructive:hover {\n  background-color: #ff4242;\n  border-color: #ff4242;\n}\n.mw-ui-button.mw-ui-destructive:focus {\n  box-shadow: inset 0 0 0 1px #d33, inset 0 0 0 2px #fff;\n}\n.mw-ui-button.mw-ui-destructive:active,\n.mw-ui-button.mw-ui-destructive.is-on {\n  background-color: #b32424;\n  border-color: #b32424;\n  box-shadow: none;\n}\n.mw-ui-button.mw-ui-destructive:disabled {\n  background-color: #c8ccd1;\n  color: #fff;\n  border-color: #c8ccd1;\n}\n.mw-ui-button.mw-ui-destructive:disabled:hover,\n.mw-ui-button.mw-ui-destructive:disabled:active {\n  background-color: #c8ccd1;\n  color: #fff;\n  border-color: #c8ccd1;\n  box-shadow: none;\n}\n.mw-ui-button.mw-ui-destructive.mw-ui-quiet {\n  color: #d33;\n}\n.mw-ui-button.mw-ui-destructive.mw-ui-quiet:hover {\n  background-color: transparent;\n  color: #ff4242;\n}\n.mw-ui-button.mw-ui-destructive.mw-ui-quiet:active {\n  color: #b32424;\n}\n.mw-ui-button.mw-ui-destructive.mw-ui-quiet:focus {\n  background-color: transparent;\n  color: #d33;\n}\n.mw-ui-button.mw-ui-big {\n  font-size: 1.3em;\n}\n.mw-ui-button.mw-ui-block {\n  display: block;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n}\ninput.mw-ui-button::-moz-focus-inner,\nbutton.mw-ui-button::-moz-focus-inner {\n  margin-top: -1px;\n  margin-bottom: -1px;\n}\na.mw-ui-button {\n  text-decoration: none;\n}\na.mw-ui-button:hover,\na.mw-ui-button:focus {\n  text-decoration: none;\n}\n.mw-ui-button-group > * {\n  min-width: 48px;\n  border-radius: 0;\n  float: left;\n}\n.mw-ui-button-group > *:first-child {\n  border-top-left-radius: 2px;\n  border-bottom-left-radius: 2px;\n}\n.mw-ui-button-group > *:not( :first-child ) {\n  border-left: 0;\n}\n.mw-ui-button-group > *:last-child {\n  border-top-right-radius: 2px;\n  border-bottom-right-radius: 2px;\n}\n.mw-ui-button-group .is-on .button {\n  cursor: default;\n}\n",""])},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(40);var _storybook_html__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_src_mobile_startup_Drawer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(87),_src_mobile_startup_Drawer__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_src_mobile_startup_Drawer__WEBPACK_IMPORTED_MODULE_2__),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3),_src_mobile_startup_CtaDrawer__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(210),_src_mobile_startup_CtaDrawer__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_src_mobile_startup_CtaDrawer__WEBPACK_IMPORTED_MODULE_4__),_src_mobile_startup_references_references__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(217),_src_mobile_startup_references_references__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_src_mobile_startup_references_references__WEBPACK_IMPORTED_MODULE_5__),_src_mobile_editor_overlay_blockMessageDrawer__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(149),_src_mobile_editor_overlay_blockMessageDrawer__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_src_mobile_editor_overlay_blockMessageDrawer__WEBPACK_IMPORTED_MODULE_6__);__webpack_require__(317),__webpack_require__(667),__webpack_require__(669),__webpack_require__(671),__webpack_require__(673);Object(_storybook_html__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Drawer").add("default",function(){var drawer=new _src_mobile_startup_Drawer__WEBPACK_IMPORTED_MODULE_2___default.a({children:[$("<div>").text("Text of drawer")]});return drawer.show(),Object(_utils__WEBPACK_IMPORTED_MODULE_3__.a)(drawer)}).add("CtaDrawer",function(){var drawer=_src_mobile_startup_CtaDrawer__WEBPACK_IMPORTED_MODULE_4___default()({content:"This is the call to action. Will you take it?"});return drawer.show(),Object(_utils__WEBPACK_IMPORTED_MODULE_3__.a)(drawer)}).add("referenceDrawer",function(){var drawer=_src_mobile_startup_references_references__WEBPACK_IMPORTED_MODULE_5___default.a.referenceDrawer({title:"[1]",onNestedReferenceClick:function(href,text){alert("".concat(href," - ").concat(text))},text:'<a href="#">Wikipedia</a> is a reference <sup><a href="#/ref">[1]</a></sup>.'});return drawer.show(),Object(_utils__WEBPACK_IMPORTED_MODULE_3__.a)(drawer)}).add("referenceDrawer with error",function(){var drawer=_src_mobile_startup_references_references__WEBPACK_IMPORTED_MODULE_5___default.a.referenceDrawer({title:"[1]",text:"<span>error occurred</span>",error:!0});return drawer.show(),Object(_utils__WEBPACK_IMPORTED_MODULE_3__.a)(drawer)}).add("blockMessageDrawer",function(){var drawer=_src_mobile_editor_overlay_blockMessageDrawer__WEBPACK_IMPORTED_MODULE_6___default()({blockId:1,partial:!0,creator:{name:"Jon",url:"https://jdlrobson.com"},reason:"Constant vandalism",duration:"10 days",expiry:"Sept 1st"});return drawer.show(),Object(_utils__WEBPACK_IMPORTED_MODULE_3__.a)(drawer)})},function(module,exports){function ReferencesGateway(api){this.api=api}ReferencesGateway.prototype.getReference=null,ReferencesGateway.ERROR_NOT_EXIST="NOT_EXIST_ERROR",ReferencesGateway.ERROR_OTHER="OTHER_ERROR",module.exports=ReferencesGateway},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return _typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}__webpack_require__(30),__webpack_require__(31),__webpack_require__(44),__webpack_require__(9),__webpack_require__(33),__webpack_require__(8),__webpack_require__(83),__webpack_require__(84),__webpack_require__(7),__webpack_require__(46),__webpack_require__(38);var Button=__webpack_require__(12),View=__webpack_require__(6),userIcon=new(__webpack_require__(27))({tagName:"span",name:"profile"}),okButton=new Button({label:mw.msg("ok"),tagName:"button",progressive:!0,additionalClassNames:"cancel"}),util=__webpack_require__(1),BlockMessageDetails=function(_View){function BlockMessageDetails(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BlockMessageDetails),_possibleConstructorReturn(this,_getPrototypeOf(BlockMessageDetails).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(BlockMessageDetails,View),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(BlockMessageDetails,[{key:"postRender",value:function(){this.$el.find(".block-message-creator a").prepend(userIcon.$el),this.$el.find(".block-message-buttons").prepend(okButton.$el)}},{key:"isTemplateMode",get:function(){return!0}},{key:"defaults",get:function(){return{createDetailsAnchorHref:function(){return mw.util.getUrl("Special:BlockList",{wpTarget:"#"+this.blockId})},createDetailsAnchorLabel:function(){return mw.msg("mobile-frontend-editor-blocked-drawer-help")},createTitle:function(){return this.partial?mw.msg("mobile-frontend-editor-blocked-drawer-title-partial"):mw.msg("mobile-frontend-editor-blocked-drawer-title")},reasonHeader:mw.msg("mobile-frontend-editor-blocked-drawer-reason-header"),creatorHeader:function(){return mw.msg("mobile-frontend-editor-blocked-drawer-creator-header",mw.user.options.get("gender"))},expiryHeader:mw.msg("mobile-frontend-editor-blocked-drawer-expiry-header")}}},{key:"template",get:function(){return util.template('\n<div class="block-message">\n  <div class="block-message-icon"></div>\n  <div class="block-message-info">\n    <div class="block-message-item block-message-title">\n      <h5>{{ createTitle }}</h5>\n    </div>\n    <div class="block-message-data">\n      {{#reason}}\n        <div class="block-message-item">\n          <h6>{{ reasonHeader }}</h6>\n          <div><strong>{{{ reason }}}</strong></div>\n        </div>\n      {{/reason}}\n      <div class="block-message-item block-message-creator">\n        <h6>{{ creatorHeader }}</h6>\n        <div><strong><a href="{{ creator.url }}">{{ creator.name }}</a></strong></div>\n      </div>\n      {{#expiry}}\n        <div class="block-message-item">\n          <h6>{{ expiryHeader }}</h6>\n          <div><strong>{{#duration}}{{ duration }} / {{/duration}}{{ expiry }}</strong></div>\n        </div>\n      {{/expiry}}\n    </div>\n    <div class="block-message-item block-message-buttons">\n      <a href="{{ createDetailsAnchorHref }}">{{ createDetailsAnchorLabel }}</a>\n    </div>\n  </div>')}}]),BlockMessageDetails}();module.exports=BlockMessageDetails},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n.block-message h5 {\n  font-weight: bold;\n}\n.block-message h6 {\n  margin-bottom: 0.187em;\n}\n.block-message-icon {\n  float: left;\n  width: 20%;\n  margin-top: 0.3em;\n}\n.block-message-info {\n  float: left;\n  width: 80%;\n  text-align: left;\n}\n.block-message-item {\n  margin-bottom: 1em;\n}\n.block-message-data {\n  margin-bottom: 1.875em;\n}\n.block-message-buttons button.cancel {\n  margin: 0 0.5em 0 0;\n  display: inline-block;\n}\n.block-message-creator a {\n  color: inherit;\n}\n.block-message-creator a:hover {\n  text-decoration: none;\n}\n.block-message-creator .mw-ui-icon {\n  display: inline-block;\n  vertical-align: top;\n  margin: 0 -1em;\n}\n.block-message-title {\n  color: #d33;\n}\n",""])},function(module,exports,__webpack_require__){var content=__webpack_require__(668);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/* GOAL: Upstream all these variables to core */\n/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * System font stack for sans-serif fonts\n *\n * `-apple-system` ('San Francisco') – Support: Safari 9+ macOS and iOS, Firefox macOS\n * `BlinkMacSystemFont` ('San Francisco') – Chrome 48+ macOS and iOS\n * `Segoe UI` – Windows Vista & newer\n * `Roboto` – Android 4.0\n * `Lato` – Wikimedia Design choice, OFL licensed\n * `Helvetica, Arial, sans-serif` – (Generic) Web fallback\n * Note that CSS Fonts Module Level 4's `system-ui` value has resulted in unresolved\n * side-effects in certain OS/language combinations and is therefore not included as of now.\n */\n/* stylelint-disable selector-no-vendor-prefix, at-rule-no-unknown */\n/* stylelint-enable selector-no-vendor-prefix, at-rule-no-unknown */\n.drawer {\n  text-align: center;\n  padding-top: 0;\n  padding-bottom: 1em;\n  max-width: 500px;\n  margin: 0 auto;\n}\n.drawer.text {\n  line-height: 1;\n  font-size: 0.9em;\n  text-align: left;\n  padding-top: 0.5em;\n}\n.drawer p {\n  line-height: 1.4;\n  margin-top: 0.5em;\n}\n.drawer p,\n.drawer a:not( :last-child ),\n.drawer .mw-ui-button {\n  margin-bottom: 1em;\n}\n.drawer .mw-ui-icon.cancel {\n  display: block;\n  margin: 0.5em auto 0.625em auto;\n}\n.has-drawer--with-scroll-locked {\n  overflow: hidden;\n}\n.has-drawer.drawer-visible .transparent-shield {\n  visibility: visible;\n  opacity: 0.5;\n}\n.overlay-enabled .drawer {\n  display: none !important;\n}\n",""])},function(module,exports,__webpack_require__){var content=__webpack_require__(670);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/* GOAL: Upstream all these variables to core */\n/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * System font stack for sans-serif fonts\n *\n * `-apple-system` ('San Francisco') – Support: Safari 9+ macOS and iOS, Firefox macOS\n * `BlinkMacSystemFont` ('San Francisco') – Chrome 48+ macOS and iOS\n * `Segoe UI` – Windows Vista & newer\n * `Roboto` – Android 4.0\n * `Lato` – Wikimedia Design choice, OFL licensed\n * `Helvetica, Arial, sans-serif` – (Generic) Web fallback\n * Note that CSS Fonts Module Level 4's `system-ui` value has resulted in unresolved\n * side-effects in certain OS/language combinations and is therefore not included as of now.\n */\n.drawer.references-drawer {\n  background-color: #000;\n  color: #c8ccd1;\n  max-height: 50%;\n  overflow-y: auto;\n  padding: 20px;\n}\n.drawer.references-drawer .mw-ui-icon:before {\n  opacity: 0.5;\n}\n.drawer.references-drawer a {\n  color: #69f;\n}\n.drawer.references-drawer .references-drawer__header {\n  padding-bottom: 20px;\n}\n.drawer.references-drawer .references-drawer__header:after {\n  content: '';\n  display: table;\n  clear: both;\n}\n.drawer.references-drawer .references-drawer__title {\n  color: #72777d;\n  cursor: default;\n  letter-spacing: 0.2em;\n  font-size: 0.75em;\n  padding-top: 0.25em;\n  text-transform: uppercase;\n}\n.drawer.references-drawer .cancel {\n  cursor: pointer;\n  font-size: 0.8em;\n  margin: -1em -1em -1em 0;\n  /* stylelint-disable-line value-keyword-case */\n  padding: 1em 0;\n  position: absolute;\n  right: 20px;\n  top: 20px;\n}\n.drawer.references-drawer .mw-cite-backlink {\n  display: none;\n}\n.drawer.references-drawer .reference-text {\n  line-height: 1.4;\n}\n@media all and (min-width: 720px) {\n  .drawer.references-drawer {\n    max-height: 400px;\n  }\n}\n",""])},function(module,exports,__webpack_require__){var content=__webpack_require__(672);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * System font stack for sans-serif fonts\n *\n * `-apple-system` ('San Francisco') – Support: Safari 9+ macOS and iOS, Firefox macOS\n * `BlinkMacSystemFont` ('San Francisco') – Chrome 48+ macOS and iOS\n * `Segoe UI` – Windows Vista & newer\n * `Roboto` – Android 4.0\n * `Lato` – Wikimedia Design choice, OFL licensed\n * `Helvetica, Arial, sans-serif` – (Generic) Web fallback\n * Note that CSS Fonts Module Level 4's `system-ui` value has resulted in unresolved\n * side-effects in certain OS/language combinations and is therefore not included as of now.\n */\n/*\n* FIXME: Use these variables directly from mediawiki-ui-base when available.\n*/\n/**\n * System font stack for monospace fonts, see T221043.\n *\n * `Menlo` – macOS 10.6+\n * `Consolas` – Windows Vista & newer\n * `Liberation Mono` – Fedora, Ubuntu, … OFL licensed\n * `Courier New` – (Generic) web font fallback\n */\n/* stylelint-disable selector-no-vendor-prefix, at-rule-no-unknown */\n/* stylelint-enable selector-no-vendor-prefix, at-rule-no-unknown */\n/* stylelint-disable no-descending-specificity */\nhtml,\nbody {\n  height: 100%;\n}\nhtml {\n  font-size: 100%;\n  -webkit-text-size-adjust: none;\n}\nbody {\n  background-color: #fff;\n  color: #222;\n  margin: 0;\n  line-height: 1;\n}\nmain {\n  display: block;\n}\n#content {\n  border-top: 1px solid transparent;\n  padding-bottom: 32px;\n}\n.overlay-enabled,\n#content {\n  background-color: #fff;\n}\n.header-container {\n  border-bottom: 1px solid #c8ccd1;\n}\n.header-container.header-chrome {\n  background-color: #eaecf0;\n  border: 0;\n  box-shadow: inset 0 -1px 3px rgba(0, 0, 0, 0.08);\n}\n#footer-info-lastmod {\n  display: none;\n}\n.last-modified-bar a,\n.last-modified-bar a:visited {\n  color: #54595d;\n}\n.last-modified-bar a:nth-child( 2 ),\n.last-modified-bar a:visited:nth-child( 2 ) {\n  font-weight: bold;\n}\n.header {\n  display: table;\n  width: 100%;\n  border-spacing: 0;\n  border-collapse: collapse;\n  height: 3.375em;\n  white-space: nowrap;\n  border-top: 1px solid #c8ccd1;\n  margin-top: -1px;\n}\n.header > div {\n  width: 3.375em;\n  position: relative;\n  vertical-align: middle;\n  display: table-cell;\n}\n.header > div a {\n  display: block;\n}\n.header .branding-box {\n  width: auto;\n}\n.header .branding-box h1,\n.header .branding-box a {\n  margin-left: 5px;\n  font-size: 1em;\n  text-decoration: none;\n  color: #222;\n}\n.header .branding-box h1 span,\n.header .branding-box a span {\n  line-height: 1;\n  font-size: inherit;\n}\n.header .branding-box h1 img,\n.header .branding-box a img {\n  vertical-align: middle;\n}\n.header .branding-box h1 > *,\n.header .branding-box a > * {\n  float: left;\n}\n.header .branding-box h1 sup,\n.header .branding-box a sup {\n  color: #54595d;\n  display: none;\n}\n.beta .header .branding-box h1 sup,\n.beta .header .branding-box a sup {\n  display: initial;\n}\n.header > .header-title {\n  vertical-align: middle;\n}\n#searchInput {\n  cursor: text;\n}\n.search-box,\n.header .search-box {\n  display: none;\n  width: auto;\n}\n/* Search */\n.search-box .search {\n  background-color: #fff;\n  background-position: left 6px center;\n  background-repeat: no-repeat;\n  background-size: 18px;\n  -webkit-appearance: none;\n  width: 100%;\n  margin-top: 0;\n  border: 1px solid #fff;\n  border-radius: 2px;\n  padding: 7px 0 7px 29px;\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);\n  outline: 0;\n  -webkit-transition: border-color 250ms, box-shadow 250ms;\n  -moz-transition: border-color 250ms, box-shadow 250ms;\n  transition: border-color 250ms, box-shadow 250ms;\n}\n.client-nojs .search-box .search:focus,\n.search-overlay .search-box .search:focus {\n  border-color: #36c;\n  box-shadow: inset 0 0 0 1px #36c, 0 1px 1px rgba(0, 0, 0, 0.05);\n}\ninput.search::-webkit-search-decoration,\ninput.search::-webkit-search-cancel-button,\ninput.search::-webkit-search-results-button,\ninput.search::-webkit-search-results-decoration {\n  display: none;\n}\n.content h1 .edit-page {\n  font-size: 0.58823529em;\n}\n.content h2 {\n  clear: left;\n}\n.content h2 .edit-page {\n  font-size: 0.66666667em;\n}\n.content h3 .edit-page {\n  font-size: 0.83333333em;\n}\n.content .edit-page {\n  display: block;\n}\n.content .collapsible-heading .edit-page {\n  visibility: hidden;\n}\n.content .collapsible-heading.open-block .edit-page {\n  visibility: visible;\n}\n.content .mw-parser-output > h2,\n.content .section-heading {\n  border-bottom: 1px solid #eaecf0;\n  margin-bottom: 0.5em;\n}\n.content .mw-parser-output > h2 .indicator,\n.content .section-heading .indicator {\n  font-size: 0.4em;\n  margin-left: -1em;\n}\n.content .mw-parser-output > h1,\n.content .mw-parser-output > h2,\n.content .mw-parser-output > h3,\n.content .mw-parser-output > h4,\n.content .mw-parser-output > h5,\n.content .section-heading,\n.content .in-block {\n  display: table;\n}\n.content .mw-parser-output > h1 .mw-headline,\n.content .mw-parser-output > h2 .mw-headline,\n.content .mw-parser-output > h3 .mw-headline,\n.content .mw-parser-output > h4 .mw-headline,\n.content .mw-parser-output > h5 .mw-headline,\n.content .section-heading .mw-headline,\n.content .in-block .mw-headline {\n  width: 100%;\n}\n.content .mw-parser-output > h1 > span,\n.content .mw-parser-output > h2 > span,\n.content .mw-parser-output > h3 > span,\n.content .mw-parser-output > h4 > span,\n.content .mw-parser-output > h5 > span,\n.content .section-heading > span,\n.content .in-block > span {\n  display: table-cell;\n  vertical-align: middle;\n}\n.client-nojs .section-heading .indicator {\n  display: none;\n}\n#page-secondary-actions {\n  clear: both;\n}\n#page-secondary-actions a {\n  margin: 10px 2px 2px 0;\n}\n.transparent-shield {\n  position: absolute;\n  background: rgba(0, 0, 0, 0.8);\n  z-index: 1;\n  visibility: hidden;\n  -webkit-transition: opacity 0.25s ease-in-out;\n  -moz-transition: opacity 0.25s ease-in-out;\n  transition: opacity 0.25s ease-in-out;\n}\n#bodyContent .panel .content,\n.overlay .content-header,\n.overlay .panel,\n.page-list.side-list .list-thumb,\n.page-list li,\n.topic-title-list li,\n.site-link-list li,\n.previewnote p,\n.pointer-overlay,\n.drawer,\n.successbox,\n.errorbox,\n.list-header,\n.warningbox,\n.mw-revision {\n  padding-left: 16px;\n  padding-right: 16px;\n}\n.talk-overlay .comment .comment-content,\n.backtotop,\n.image-list,\n.pre-content,\n#mw-content-text > form > .oo-ui-fieldLayout > .oo-ui-fieldLayout-body,\n#mw-content-text > form > .oo-ui-widget,\n.content,\n.post-content {\n  margin: 0 16px;\n}\n.minerva__subtitle {\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n.minerva__subtitle:empty {\n  margin: 0;\n}\n@media all and (min-width: 720px) {\n  /* FIXME: this should be one generic class name */\n  /* SpecialMobileEditWatchlist */\n  .page-summary-list,\n  .topic-title-list,\n  .site-link-list,\n  .overlay .panel,\n  .list-header {\n    padding-left: 3.35em;\n    padding-right: 3.35em;\n  }\n}\n",""])},function(module,exports,__webpack_require__){var content=__webpack_require__(674);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * System font stack for sans-serif fonts\n *\n * `-apple-system` ('San Francisco') – Support: Safari 9+ macOS and iOS, Firefox macOS\n * `BlinkMacSystemFont` ('San Francisco') – Chrome 48+ macOS and iOS\n * `Segoe UI` – Windows Vista & newer\n * `Roboto` – Android 4.0\n * `Lato` – Wikimedia Design choice, OFL licensed\n * `Helvetica, Arial, sans-serif` – (Generic) Web fallback\n * Note that CSS Fonts Module Level 4's `system-ui` value has resulted in unresolved\n * side-effects in certain OS/language combinations and is therefore not included as of now.\n */\n/*\n* FIXME: Use these variables directly from mediawiki-ui-base when available.\n*/\n/**\n * System font stack for monospace fonts, see T221043.\n *\n * `Menlo` – macOS 10.6+\n * `Consolas` – Windows Vista & newer\n * `Liberation Mono` – Fedora, Ubuntu, … OFL licensed\n * `Courier New` – (Generic) web font fallback\n */\n/* stylelint-disable selector-no-vendor-prefix, at-rule-no-unknown */\n/* stylelint-enable selector-no-vendor-prefix, at-rule-no-unknown */\n.drawer {\n  background-color: #f8f9fa;\n  position: absolute;\n  width: 100%;\n}\n.mw-notification,\n.toast,\n.drawer {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  box-shadow: 0 -1px 8px 0 rgba(0, 0, 0, 0.35);\n  word-wrap: break-word;\n  z-index: 4;\n  display: none;\n}\n.mw-notification.visible,\n.toast.visible,\n.drawer.visible,\n.mw-notification.mw-notification-visible,\n.toast.mw-notification-visible,\n.drawer.mw-notification-visible {\n  display: block;\n}\n",""])},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_src_mobile_startup_Icon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27),_src_mobile_startup_Icon__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_src_mobile_startup_Icon__WEBPACK_IMPORTED_MODULE_1__);__webpack_require__(676),__webpack_require__(678);Object(_storybook_html__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("Icon").add("arrow",function(){return new _src_mobile_startup_Icon__WEBPACK_IMPORTED_MODULE_1___default.a({name:"arrow",label:"I Arrow",events:{click:function(){return alert("do arrow thing!")}}}).$el[0]}).add("arrow rotated 180 degrees",function(){return new _src_mobile_startup_Icon__WEBPACK_IMPORTED_MODULE_1___default.a({name:"arrow",rotation:180,label:"I also Arrow",events:{click:function(){return alert("do arrow thing!")}}}).$el[0]}).add("arrow with label",function(){return new _src_mobile_startup_Icon__WEBPACK_IMPORTED_MODULE_1___default.a({name:"arrow",label:"I arrow",hasText:!0,events:{click:function(){return alert("do arrow thing!")}}}).$el[0]})},function(module,exports,__webpack_require__){var content=__webpack_require__(677);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/* stylelint-disable selector-no-vendor-prefix, at-rule-no-unknown */\n/* stylelint-enable selector-no-vendor-prefix, at-rule-no-unknown */\n/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n.mw-ui-icon {\n  position: relative;\n  line-height: 1.5em;\n  min-height: 1.5em;\n  min-width: 1.5em;\n}\nspan.mw-ui-icon {\n  display: inline-block;\n}\n.mw-ui-icon.mw-ui-icon-element {\n  text-indent: -999px;\n  overflow: hidden;\n  width: 3.5em;\n  min-width: 3.5em;\n  max-width: 3.5em;\n}\n.mw-ui-icon.mw-ui-icon-element:before {\n  left: 0;\n  right: 0;\n  position: absolute;\n  margin: 0 1em;\n}\n.mw-ui-icon.mw-ui-icon-element.mw-ui-icon-large {\n  width: 4.625em;\n  min-width: 4.625em;\n  max-width: 4.625em;\n  line-height: 4.625em;\n  min-height: 4.625em;\n}\n.mw-ui-icon.mw-ui-icon-element.mw-ui-icon-large:before {\n  min-height: 4.625em;\n}\n.mw-ui-icon.mw-ui-icon-before:before,\n.mw-ui-icon.mw-ui-icon-element:before {\n  background-position: 50% 50%;\n  background-repeat: no-repeat;\n  background-size: 100% auto;\n  float: left;\n  display: block;\n  min-height: 1.5em;\n  content: '';\n}\n.mw-ui-icon.mw-ui-icon-before:before {\n  position: relative;\n  width: 1.5em;\n  margin-right: 1em;\n}\n.mw-ui-icon.mw-ui-icon-small:before {\n  background-size: 66.67% auto;\n}\n",""])},function(module,exports,__webpack_require__){var content=__webpack_require__(679);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/* stylelint-disable selector-no-vendor-prefix, at-rule-no-unknown */\n/* stylelint-enable selector-no-vendor-prefix, at-rule-no-unknown */\n.mf-mw-ui-icon-rotate-anti-clockwise:before {\n  -webkit-transform: rotate(-90deg);\n  -moz-transform: rotate(-90deg);\n  transform: rotate(-90deg);\n}\n.mf-mw-ui-icon-rotate-clockwise:before {\n  -webkit-transform: rotate(90deg);\n  -moz-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n.mf-mw-ui-icon-rotate-flip:before {\n  -webkit-transform: scaleY(-1);\n  -moz-transform: scaleY(-1);\n  transform: scaleY(-1);\n}\n.rtl .mf-mw-ui-icon-rotate-anti-clockwise:before {\n  -webkit-transform: rotate(90deg);\n  -moz-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n.rtl .mf-mw-ui-icon-rotate-clockwise:before {\n  -webkit-transform: rotate(-90deg);\n  -moz-transform: rotate(-90deg);\n  transform: rotate(-90deg);\n}\n",""])},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_src_mobile_startup_Overlay__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(22),_src_mobile_startup_Overlay__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_src_mobile_startup_Overlay__WEBPACK_IMPORTED_MODULE_2__),_src_mobile_startup_Button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12),_src_mobile_startup_Button__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_src_mobile_startup_Button__WEBPACK_IMPORTED_MODULE_3__),_src_mobile_startup_View__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_src_mobile_startup_View__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_src_mobile_startup_View__WEBPACK_IMPORTED_MODULE_4__);__webpack_require__(206),__webpack_require__(319);Object(_storybook_html__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("Overlay").add("Overlay with View as child",function(){return Object(_utils__WEBPACK_IMPORTED_MODULE_1__.a)(_src_mobile_startup_Overlay__WEBPACK_IMPORTED_MODULE_2___default.a.make({className:"overlay visible",heading:"Simple overlay"},new _src_mobile_startup_Button__WEBPACK_IMPORTED_MODULE_3___default.a({progressive:!0,block:!0,events:{click:function(){return alert("Click the overlay close button to make it hide!")}},label:"Click me!"})),"overlay-enabled")}).add("Overlay with jQuery element as child",function(){return Object(_utils__WEBPACK_IMPORTED_MODULE_1__.a)(_src_mobile_startup_Overlay__WEBPACK_IMPORTED_MODULE_2___default.a.make({className:"overlay visible",heading:"Simple overlay"},new _src_mobile_startup_View__WEBPACK_IMPORTED_MODULE_4___default.a({el:$("<p>").text("\n\t\t\t\t\tYou can use the View class to add simple jQuery elements to the overlay body.\n Clicking the close icon will currently hide the overlay.\n\t\t\t\t\t")})),"overlay-enabled")}).add("Overlay without header",function(){return Object(_utils__WEBPACK_IMPORTED_MODULE_1__.a)(_src_mobile_startup_Overlay__WEBPACK_IMPORTED_MODULE_2___default.a.make({className:"overlay visible",noHeader:!0},new _src_mobile_startup_View__WEBPACK_IMPORTED_MODULE_4___default.a({el:$("<div>").text("Overlay without header. Note there is a bug that leaves a padding-top on such overlays.")})),"overlay-enabled")}).add("Overlay that controls exiting",function(){return Object(_utils__WEBPACK_IMPORTED_MODULE_1__.a)(_src_mobile_startup_Overlay__WEBPACK_IMPORTED_MODULE_2___default.a.make({className:"overlay visible",heading:"Overlay that controls exiting",onBeforeExit:function(exit,cancel){window.confirm("Are you sure you want to exit?")?exit():cancel()}},new _src_mobile_startup_View__WEBPACK_IMPORTED_MODULE_4___default.a({el:$("<textarea>").text("If you click the close button it will ask you to confirm. Use onBeforeExit for this magic.")})),"overlay-enabled")})},,function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/* GOAL: Upstream all these variables to core */\n/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * System font stack for sans-serif fonts\n *\n * `-apple-system` ('San Francisco') – Support: Safari 9+ macOS and iOS, Firefox macOS\n * `BlinkMacSystemFont` ('San Francisco') – Chrome 48+ macOS and iOS\n * `Segoe UI` – Windows Vista & newer\n * `Roboto` – Android 4.0\n * `Lato` – Wikimedia Design choice, OFL licensed\n * `Helvetica, Arial, sans-serif` – (Generic) Web fallback\n * Note that CSS Fonts Module Level 4's `system-ui` value has resulted in unresolved\n * side-effects in certain OS/language combinations and is therefore not included as of now.\n */\n/* stylelint-disable no-descending-specificity */\n.overlay-enabled #mw-mf-page-center {\n  overflow: hidden;\n  display: block;\n}\n.overlay-enabled .overlay,\n.overlay-enabled #mw-mf-page-center {\n  height: 100%;\n}\n.hidden {\n  display: none !important;\n}\n.overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  background: #fff;\n  z-index: 1;\n  display: none;\n}\n.overlay.visible {\n  display: block;\n}\n.overlay input,\n.overlay textarea {\n  font-size: 16px;\n}\n.overlay .captcha-word,\n.overlay .summary {\n  margin: 0 0 0.7em;\n  width: 100%;\n}\n.overlay .wikitext-editor {\n  min-height: 50%;\n  line-height: 1.5;\n  border: 0;\n}\n.overlay .content .cancel {\n  display: block;\n  margin: 1em auto;\n}\n.overlay .content-header {\n  background-color: #f8f9fa;\n  border-bottom: 1px solid #eaecf0;\n  padding-top: 20px;\n  padding-bottom: 20px;\n  line-height: inherit;\n}\n.overlay-header .overlay-title {\n  width: 100%;\n}\n.overlay-header .header-action a,\n.overlay-header .header-action button {\n  display: table-cell;\n  vertical-align: middle;\n  width: auto;\n  padding: 0 1.2em;\n  font-weight: bold;\n  white-space: nowrap;\n  text-decoration: none;\n  border-radius: 0;\n  cursor: pointer;\n  position: relative;\n}\n.overlay-header .header-action a:before,\n.overlay-header .header-action button:before {\n  top: 0;\n}\n.overlay-header .header-action a[disabled],\n.overlay-header .header-action button[disabled] {\n  opacity: 0.5;\n}\n.overlay-header .header-action a:focus,\n.overlay-header .header-action button:focus {\n  outline: 0;\n}\n.overlay-header .header-action .continue,\n.overlay-header .header-action .submit,\n.overlay-header .header-action .progressive {\n  background-color: #36c;\n  color: #fff;\n}\n.overlay-header .header-action .continue[disabled],\n.overlay-header .header-action .submit[disabled],\n.overlay-header .header-action .progressive[disabled] {\n  background-color: #c8ccd1;\n  opacity: 1;\n}\n.overlay-header .header-action .oo-ui-widget {\n  margin-right: 1em;\n}\n.overlay-header button {\n  cursor: pointer;\n}\n.overlay-header .submit {\n  background-color: #36c;\n  color: #fff;\n}\n.overlay-header h2 {\n  display: table;\n  width: 100%;\n  font-size: 1em;\n}\n.overlay-header h2 > * {\n  width: 1em;\n  display: table-cell;\n  padding-right: 0.4em;\n}\n.overlay-header h2 span {\n  width: auto;\n  max-width: 1em;\n}\n.overlay-header > ul,\n.overlay-header > div {\n  display: table-cell;\n  vertical-align: middle;\n}\n.overlay-header > ul li {\n  display: block;\n}\n.overlay-header-container,\n.overlay-footer-container {\n  width: 100%;\n  background: #fff;\n  z-index: 2;\n}\n.overlay-header-container.position-fixed,\n.overlay-footer-container.position-fixed {\n  left: 0;\n  right: 0;\n}\n.overlay-header-container {\n  top: 0;\n}\n.overlay-footer-container {\n  background-color: #fff;\n  bottom: 0;\n  border-top: 1px solid #c8ccd1;\n}\n.overlay-footer-container a {\n  display: block;\n  padding: 1em 1em 1em 10px;\n  text-align: center;\n}\n.overlay-bottom {\n  border-top: 1px solid #c8ccd1;\n  top: auto;\n  bottom: 0;\n  height: auto !important;\n  background: #f8f9fa;\n}\n.overlay-bottom .overlay-header-container {\n  background: #f8f9fa;\n}\n",""])},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * System font stack for sans-serif fonts\n *\n * `-apple-system` ('San Francisco') – Support: Safari 9+ macOS and iOS, Firefox macOS\n * `BlinkMacSystemFont` ('San Francisco') – Chrome 48+ macOS and iOS\n * `Segoe UI` – Windows Vista & newer\n * `Roboto` – Android 4.0\n * `Lato` – Wikimedia Design choice, OFL licensed\n * `Helvetica, Arial, sans-serif` – (Generic) Web fallback\n * Note that CSS Fonts Module Level 4's `system-ui` value has resulted in unresolved\n * side-effects in certain OS/language combinations and is therefore not included as of now.\n */\n/*\n* FIXME: Use these variables directly from mediawiki-ui-base when available.\n*/\n/**\n * System font stack for monospace fonts, see T221043.\n *\n * `Menlo` – macOS 10.6+\n * `Consolas` – Windows Vista & newer\n * `Liberation Mono` – Fedora, Ubuntu, … OFL licensed\n * `Courier New` – (Generic) web font fallback\n */\n/* stylelint-disable selector-no-vendor-prefix, at-rule-no-unknown */\n/* stylelint-enable selector-no-vendor-prefix, at-rule-no-unknown */\n.overlay {\n  padding-top: 3.375em;\n}\n.overlay textarea {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  width: 100%;\n  padding: 10px 16px 10px 16px;\n  resize: none;\n}\n.overlay > ul,\n.overlay button {\n  width: 3.375em;\n}\n.overlay .license {\n  font-size: 0.875em;\n  color: #72777d;\n  margin-top: 0.5em;\n  line-height: 1.4;\n}\n.overlay-header .header-action > a,\n.overlay-header .header-action > button {\n  height: 3.375em;\n}\n.overlay-header .overlay-title {\n  padding: 0.15em 0;\n}\n.overlay-header .overlay-title:last-child {\n  padding-right: 1em;\n}\n@media all and (min-width: 1000px) {\n  .overlay-header {\n    max-width: 995.3px;\n  }\n}\n",""])},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_src_mobile_startup_PageList__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(211),_src_mobile_startup_PageList__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_src_mobile_startup_PageList__WEBPACK_IMPORTED_MODULE_1__);__webpack_require__(145),__webpack_require__(686);Object(_storybook_html__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("PageList").add("default",function(){return new _src_mobile_startup_PageList__WEBPACK_IMPORTED_MODULE_1___default.a({pages:[{title:"London",id:1,isMissing:!0,url:"https://en.wikipedia.org/wiki/London",latitude:1,longitude:1,thumbnail:{isLandscape:!1,source:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cd/London_Montage_L.jpg/53px-London_Montage_L.jpg"},displayTitle:"LoNdOn",wikidataDescription:"A city",lastModified:"Information about London",proximity:"10km"},{title:"Paris",displayTitle:"Paris",id:2,isMissing:!0,url:"https://en.wikipedia.org/wiki/Paris",latitude:1,longitude:1,wikidataDescription:"Another city"},{title:"Singapore",displayTitle:"Singapore",id:2,isMissing:!0,url:"https://en.wikipedia.org/wiki/Barcelona",latitude:1,longitude:1,thumbnail:{isLandscape:!0,source:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/48/Flag_of_Singapore.svg/80px-Flag_of_Singapore.svg.png"},wikidataDescription:"And another city"}]}).$el[0]})},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/* GOAL: Upstream all these variables to core */\n/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * System font stack for sans-serif fonts\n *\n * `-apple-system` ('San Francisco') – Support: Safari 9+ macOS and iOS, Firefox macOS\n * `BlinkMacSystemFont` ('San Francisco') – Chrome 48+ macOS and iOS\n * `Segoe UI` – Windows Vista & newer\n * `Roboto` – Android 4.0\n * `Lato` – Wikimedia Design choice, OFL licensed\n * `Helvetica, Arial, sans-serif` – (Generic) Web fallback\n * Note that CSS Fonts Module Level 4's `system-ui` value has resulted in unresolved\n * side-effects in certain OS/language combinations and is therefore not included as of now.\n */\n.page-list,\n.topic-title-list,\n.site-link-list {\n  overflow: hidden;\n}\n.page-list li,\n.topic-title-list li,\n.site-link-list li {\n  color: #54595d;\n  position: relative;\n  border-bottom: 1px solid #eaecf0;\n  padding-top: 0.8em;\n  padding-bottom: 0.8em;\n  margin: -1px 0 0;\n  line-height: 1;\n}\n.page-list li .watch-this-article,\n.topic-title-list li .watch-this-article,\n.site-link-list li .watch-this-article {\n  position: absolute;\n  right: 0;\n  top: 0.8em;\n  margin-top: 1px;\n}\n.page-list li .watch-this-article button,\n.topic-title-list li .watch-this-article button,\n.site-link-list li .watch-this-article button {\n  position: absolute;\n  text-indent: inherit;\n  outline: 0;\n}\n.page-list li > a,\n.topic-title-list li > a,\n.site-link-list li > a {\n  display: block;\n  color: #54595d;\n}\n.page-list li > a:active,\n.topic-title-list li > a:active,\n.site-link-list li > a:active,\n.page-list li > a:hover,\n.topic-title-list li > a:hover,\n.site-link-list li > a:hover,\n.page-list li > a:visited,\n.topic-title-list li > a:visited,\n.site-link-list li > a:visited {\n  text-decoration: none;\n  color: #54595d;\n}\n.page-list.thumbs li,\n.topic-title-list.thumbs li,\n.site-link-list.thumbs li,\n.page-list.side-list li,\n.topic-title-list.side-list li,\n.site-link-list.side-list li {\n  padding-left: 85px;\n}\n.page-list .info,\n.topic-title-list .info,\n.site-link-list .info {\n  font-size: 0.7em;\n  text-transform: uppercase;\n}\n.page-list .info,\n.topic-title-list .info,\n.site-link-list .info,\n.page-list .component,\n.topic-title-list .component,\n.site-link-list .component {\n  color: #72777d;\n  line-height: 1.2;\n}\n.page-list .title h3,\n.topic-title-list .title h3,\n.site-link-list .title h3,\n.page-list .title .mw-mf-user,\n.topic-title-list .title .mw-mf-user,\n.site-link-list .title .mw-mf-user,\n.page-list .title .component,\n.topic-title-list .title .component,\n.site-link-list .title .component,\n.page-list .title .info,\n.topic-title-list .title .info,\n.site-link-list .title .info {\n  margin: 0.5em 0;\n}\n.page-list.thumbs .title,\n.topic-title-list.thumbs .title,\n.site-link-list.thumbs .title {\n  padding-right: 24px;\n}\n.page-list .list-thumb,\n.topic-title-list .list-thumb,\n.site-link-list .list-thumb {\n  position: absolute;\n  width: 70px;\n  height: 100%;\n  top: 0;\n  left: 0;\n}\n.page-list p,\n.topic-title-list p,\n.site-link-list p {\n  font-size: 0.9em;\n  line-height: normal;\n}\n.page-list.side-list .list-thumb,\n.topic-title-list.side-list .list-thumb,\n.site-link-list.side-list .list-thumb {\n  padding-top: 0.8em;\n  padding-bottom: 0.8em;\n  color: #222;\n}\n.page-list.side-list .list-thumb p,\n.topic-title-list.side-list .list-thumb p,\n.site-link-list.side-list .list-thumb p {\n  line-height: 1.2;\n  margin: 0.5em 0;\n}\n.page-list.side-list .list-thumb .timestamp,\n.topic-title-list.side-list .list-thumb .timestamp,\n.site-link-list.side-list .list-thumb .timestamp {\n  margin-bottom: 0.65em;\n}\n@media all and (min-width: 720px) {\n  .page-summary-list,\n  .topic-title-list,\n  .site-link-list {\n    padding-top: 0;\n    padding-bottom: 0;\n  }\n}\n",""])},function(module,exports,__webpack_require__){var content=__webpack_require__(687);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/* GOAL: Upstream all these variables to core */\n/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * System font stack for sans-serif fonts\n *\n * `-apple-system` ('San Francisco') – Support: Safari 9+ macOS and iOS, Firefox macOS\n * `BlinkMacSystemFont` ('San Francisco') – Chrome 48+ macOS and iOS\n * `Segoe UI` – Windows Vista & newer\n * `Roboto` – Android 4.0\n * `Lato` – Wikimedia Design choice, OFL licensed\n * `Helvetica, Arial, sans-serif` – (Generic) Web fallback\n * Note that CSS Fonts Module Level 4's `system-ui` value has resulted in unresolved\n * side-effects in certain OS/language combinations and is therefore not included as of now.\n */\n/* stylelint-disable selector-no-vendor-prefix, at-rule-no-unknown */\n/* stylelint-enable selector-no-vendor-prefix, at-rule-no-unknown */\n.page-summary h2,\n.page-summary h3 {\n  font: inherit;\n  font-weight: bold;\n  color: #54595d;\n}\n.page-summary h2 a,\n.page-summary h3 a {\n  color: inherit;\n}\n.page-summary h2 strong,\n.page-summary h3 strong {\n  text-decoration: underline;\n}\n.list-header {\n  font-weight: bold;\n  font-size: 0.85em;\n  padding-top: 0.5em;\n  padding-bottom: 0.4em;\n  background-color: #eaecf0;\n  color: #72777d;\n}\n.list-thumb {\n  background-repeat: no-repeat;\n  background-position: center center;\n}\n.list-thumb.list-thumb-x {\n  background-size: 100% auto;\n}\n.list-thumb.list-thumb-y {\n  background-size: auto 100%;\n}\n.list-thumb.list-thumb-none {\n  background-color: #eaecf0;\n  background-size: 40px 40px;\n  opacity: 0.51;\n}\n",""])},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_src_mobile_startup_Section__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(62),_src_mobile_startup_Section__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_src_mobile_startup_Section__WEBPACK_IMPORTED_MODULE_1__);Object(_storybook_html__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("Section").add("default",function(){return new _src_mobile_startup_Section__WEBPACK_IMPORTED_MODULE_1___default.a({level:1,anchor:"section_1",line:"Section 1",text:"<p>Section text.</p>"}).$el[0]})},,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_src_mobile_startup_toc_TableOfContents__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(334),_src_mobile_startup_toc_TableOfContents__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_src_mobile_startup_toc_TableOfContents__WEBPACK_IMPORTED_MODULE_1__),_src_mobile_startup_Toggler__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(335),_src_mobile_startup_Toggler__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_src_mobile_startup_Toggler__WEBPACK_IMPORTED_MODULE_2__),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3);__webpack_require__(692),__webpack_require__(694);Object(_storybook_html__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("TableOfContents").add("default",function(){var toc=new _src_mobile_startup_toc_TableOfContents__WEBPACK_IMPORTED_MODULE_1___default.a({sections:[{line:"1",anchor:"#1",subsections:[{line:"1.1",anchor:"#1_1",subsections:[{line:"1.1.1",anchor:"#1_1_1",subsections:[]},{line:"1.1.2",anchor:"#1_1_2",subsections:[]}]},{line:"1.2",anchor:"#1_2",subsections:[]}]},{line:"2",anchor:"#2",subsections:[]},{line:"3",anchor:"#3",subsections:[]}]}),container=Object(_utils__WEBPACK_IMPORTED_MODULE_3__.a)(toc,"client-js");return new _src_mobile_startup_Toggler__WEBPACK_IMPORTED_MODULE_2___default.a({$container:toc.$el,prefix:"toc-",page:{},isClosed:!0,eventBus:{}}),container})},function(module,exports,__webpack_require__){var content=__webpack_require__(693);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/* GOAL: Upstream all these variables to core */\n/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * System font stack for sans-serif fonts\n *\n * `-apple-system` ('San Francisco') – Support: Safari 9+ macOS and iOS, Firefox macOS\n * `BlinkMacSystemFont` ('San Francisco') – Chrome 48+ macOS and iOS\n * `Segoe UI` – Windows Vista & newer\n * `Roboto` – Android 4.0\n * `Lato` – Wikimedia Design choice, OFL licensed\n * `Helvetica, Arial, sans-serif` – (Generic) Web fallback\n * Note that CSS Fonts Module Level 4's `system-ui` value has resulted in unresolved\n * side-effects in certain OS/language combinations and is therefore not included as of now.\n */\n.client-js .toc-mobile {\n  background-color: #f8f9fa;\n  border: solid 1px #eaecf0;\n}\n.client-js .toc-mobile .toc-button {\n  float: left;\n  display: block;\n  font-size: 0.8em;\n}\n.client-js .toc-mobile .collapsible-heading {\n  visibility: visible;\n  background-position: right center;\n}\n.client-js .toc-mobile .collapsible-heading .indicator {\n  margin: 0.2em 0.4em 0 0;\n  float: right;\n  font-size: 0.6em;\n}\n.client-js .toc-mobile .collapsible-block {\n  border-bottom: 0;\n  margin-left: 52px;\n  margin-right: 24px;\n  font-size: 0.7em;\n  width: auto;\n}\n.client-js .toc-mobile .collapsible-block > ul {\n  padding-bottom: 1.3em;\n}\n.client-js .toc-mobile .collapsible-block ul {\n  list-style: none;\n  margin-bottom: 1px;\n}\n.client-js .toc-mobile .collapsible-block ul li {\n  padding-top: 0.8em;\n  line-height: 1.2;\n}\n.client-js .toc-mobile .collapsible-block ul li a {\n  white-space: pre-wrap;\n  word-break: break-word;\n}\n",""])},function(module,exports,__webpack_require__){var content=__webpack_require__(695);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/*\nA file for css that optimises the Minerva skin on larger devices.\n*/\n/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * System font stack for sans-serif fonts\n *\n * `-apple-system` ('San Francisco') – Support: Safari 9+ macOS and iOS, Firefox macOS\n * `BlinkMacSystemFont` ('San Francisco') – Chrome 48+ macOS and iOS\n * `Segoe UI` – Windows Vista & newer\n * `Roboto` – Android 4.0\n * `Lato` – Wikimedia Design choice, OFL licensed\n * `Helvetica, Arial, sans-serif` – (Generic) Web fallback\n * Note that CSS Fonts Module Level 4's `system-ui` value has resulted in unresolved\n * side-effects in certain OS/language combinations and is therefore not included as of now.\n */\n/*\n* FIXME: Use these variables directly from mediawiki-ui-base when available.\n*/\n/**\n * System font stack for monospace fonts, see T221043.\n *\n * `Menlo` – macOS 10.6+\n * `Consolas` – Windows Vista & newer\n * `Liberation Mono` – Fedora, Ubuntu, … OFL licensed\n * `Courier New` – (Generic) web font fallback\n */\n/* stylelint-disable selector-no-vendor-prefix, at-rule-no-unknown */\n/* stylelint-enable selector-no-vendor-prefix, at-rule-no-unknown */\n@media screen and (min-width: 720px) {\n  .client-js #searchIcon {\n    display: none;\n  }\n  .header .branding-box {\n    width: 10.0625em;\n  }\n  .header .search-box {\n    display: table-cell;\n    width: auto;\n  }\n  .header .search-box .search {\n    width: 23.4375em;\n  }\n  .toc-mobile {\n    display: table;\n    visibility: visible;\n    position: relative;\n    font-size: 1.3em;\n    margin: 1em 0;\n    border: solid 1px transparent;\n  }\n  .toc-mobile > h2 {\n    visibility: hidden;\n    font-family: -apple-system, 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Lato', 'Helvetica', 'Arial', sans-serif;\n    font-size: 0.875em;\n    font-weight: bold;\n    border-bottom: 0;\n    padding: 0.7em 0;\n  }\n  .pre-content,\n  #mw-content-text > form,\n  .content,\n  .post-content {\n    max-width: 993.3px;\n    margin: 0 3.35em;\n  }\n  .content figure,\n  .content .thumb {\n    max-width: 704px;\n  }\n  .content figure.mw-halign-left,\n  .content .thumb.mw-halign-left,\n  .content figure.tleft,\n  .content .thumb.tleft {\n    /* @noflip */\n    float: left;\n    /* @noflip */\n    clear: left;\n    /* @noflip */\n    margin-right: 1.4em;\n  }\n  .content figure.mw-default-size,\n  .content .thumb.mw-default-size,\n  .content figure.mw-halign-right,\n  .content .thumb.mw-halign-right,\n  .content figure.tright,\n  .content .thumb.tright {\n    /* @noflip */\n    float: right;\n    /* @noflip */\n    clear: right;\n    /* @noflip */\n    margin-left: 1.4em;\n  }\n  .content table caption {\n    background: inherit;\n  }\n  .content table tbody {\n    display: table-row-group;\n  }\n  .last-modified-bar {\n    background-color: transparent;\n    padding-left: 0;\n    padding-right: 0;\n    font-size: 1em;\n  }\n}\n@media screen and (min-width: 1000px) {\n  .banner-container,\n  .header,\n  .page-header-bar,\n  .overlay-header,\n  .content,\n  .overlay-content,\n  .content-unstyled,\n  .pre-content,\n  .post-content,\n  #mw-content-text > form,\n  #mw-mf-page-center .pointer-overlay {\n    margin-left: auto;\n    margin-right: auto;\n    width: 90%;\n    max-width: 993.3px;\n  }\n  .header {\n    max-width: 995.3px;\n  }\n}\n",""])},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_src_mobile_amcOutreachDrawer_amcOutreachDrawer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(336),_src_mobile_amcOutreachDrawer_amcOutreachDrawer__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_src_mobile_amcOutreachDrawer_amcOutreachDrawer__WEBPACK_IMPORTED_MODULE_1__);__webpack_require__(698);Object(_storybook_html__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("amc").add("outreachDrawer",function(){var drawer=_src_mobile_amcOutreachDrawer_amcOutreachDrawer__WEBPACK_IMPORTED_MODULE_1___default()("action",{showIfEligible:function(){},makeActionIneligible:function(){},makeAllActionsIneligible:function(){},isCampaignActive:function(){}},mw.message,mw.util,{},{showOnPageReload:function(msg){alert(msg)},show:function(msg){alert(msg)}},"blah");return drawer.show(),drawer.$el[0]})},function(module,exports,__webpack_require__){function _typeof2(obj){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return _typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}__webpack_require__(30),__webpack_require__(31),__webpack_require__(44),__webpack_require__(33),__webpack_require__(8),__webpack_require__(83),__webpack_require__(84),__webpack_require__(7),__webpack_require__(46),__webpack_require__(38);var Button=__webpack_require__(12),util=__webpack_require__(1),View=__webpack_require__(6),AmcEnableForm=function(_View){"use strict";function AmcEnableForm(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AmcEnableForm),_possibleConstructorReturn(this,_getPrototypeOf(AmcEnableForm).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(AmcEnableForm,View),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AmcEnableForm,[{key:"postRender",value:function(){this.$el.append(new Button({tagName:"button",progressive:!0,label:this.options.buttonLabel}).$el)}},{key:"isTemplateMode",get:function(){return!0}},{key:"template",get:function(){return util.template('\n<form class="amc-enable-form" action="{{postUrl}}" method="POST">\n\t{{#fields}}\n\t\t<input type="hidden" name="{{name}}" value="{{value}}">\n\t{{/fields}}\n</form>\n\t\t')}}]),AmcEnableForm}();module.exports=AmcEnableForm},function(module,exports,__webpack_require__){var content=__webpack_require__(699);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,".amc-outreach-drawer .mw-ui-icon-large:before {\n  margin: 0 0.2em;\n}\n",""])},function(module,exports){
/*!
 * OOUI v0.33.4
 * https://www.mediawiki.org/wiki/OOUI
 *
 * Copyright 2011–2019 OOUI Team and other contributors.
 * Released under the MIT license
 * http://oojs.mit-license.org
 *
 * Date: 2019-07-23T03:23:32Z
 */
!function(OO){"use strict";OO.ui.mixin.DraggableElement=function OoUiMixinDraggableElement(config){config=config||{},this.index=null,this.$handle=config.$handle||this.$element,this.wasHandleUsed=null,this.$element.addClass("oo-ui-draggableElement").on({mousedown:this.onDragMouseDown.bind(this),dragstart:this.onDragStart.bind(this),dragover:this.onDragOver.bind(this),dragend:this.onDragEnd.bind(this),drop:this.onDrop.bind(this)}),this.$handle.addClass("oo-ui-draggableElement-handle"),this.toggleDraggable(void 0===config.draggable||!!config.draggable)},OO.initClass(OO.ui.mixin.DraggableElement),OO.ui.mixin.DraggableElement.static.cancelButtonMouseDownEvents=!1,OO.ui.mixin.DraggableElement.prototype.toggleDraggable=function(isDraggable){isDraggable=void 0!==isDraggable?!!isDraggable:!this.draggable,this.draggable!==isDraggable&&(this.draggable=isDraggable,this.$handle.toggleClass("oo-ui-draggableElement-undraggable",!this.draggable),this.$element.prop("draggable",this.draggable))},OO.ui.mixin.DraggableElement.prototype.isDraggable=function(){return this.draggable},OO.ui.mixin.DraggableElement.prototype.onDragMouseDown=function(e){this.isDraggable()&&(this.wasHandleUsed=this.$handle[0]===this.$element[0]||OO.ui.contains(this.$handle[0],e.target,!0))},OO.ui.mixin.DraggableElement.prototype.onDragStart=function(e){var element=this,dataTransfer=e.originalEvent.dataTransfer;if(!this.wasHandleUsed||!this.isDraggable())return!1;dataTransfer.dropEffect="none",dataTransfer.effectAllowed="move";try{dataTransfer.setData("application-x/OOUI-draggable",this.getIndex())}catch(err){}return this.$element.addClass("oo-ui-draggableElement-clone"),setTimeout(function(){element.$element.removeClass("oo-ui-draggableElement-clone").addClass("oo-ui-draggableElement-placeholder")}),this.emit("dragstart",this),!0},OO.ui.mixin.DraggableElement.prototype.onDragEnd=function(){this.$element.removeClass("oo-ui-draggableElement-placeholder"),this.emit("dragend")},OO.ui.mixin.DraggableElement.prototype.onDrop=function(e){e.preventDefault(),this.emit("drop",e)},OO.ui.mixin.DraggableElement.prototype.onDragOver=function(e){e.preventDefault()},OO.ui.mixin.DraggableElement.prototype.setIndex=function(index){this.index!==index&&(this.index=index,this.$element.data("index",index))},OO.ui.mixin.DraggableElement.prototype.getIndex=function(){return this.index},OO.ui.mixin.DraggableGroupElement=function OoUiMixinDraggableGroupElement(config){config=config||{},OO.ui.mixin.GroupElement.call(this,config),this.orientation=config.orientation||"vertical",this.dragItem=null,this.itemKeys={},this.dir=null,this.itemsOrder=null,this.draggable=void 0===config.draggable||!!config.draggable,this.aggregate({dragstart:"itemDragStart",dragend:"itemDragEnd",drop:"itemDrop"}),this.connect(this,{itemDragStart:"onItemDragStart",itemDrop:"onItemDropOrDragEnd",itemDragEnd:"onItemDropOrDragEnd"}),Array.isArray(config.items)&&this.addItems(config.items),this.$element.addClass("oo-ui-draggableGroupElement").toggleClass("oo-ui-draggableGroupElement-horizontal","horizontal"===this.orientation)},OO.mixinClass(OO.ui.mixin.DraggableGroupElement,OO.ui.mixin.GroupElement),OO.ui.mixin.DraggableGroupElement.prototype.toggleDraggable=function(isDraggable){isDraggable=void 0!==isDraggable?!!isDraggable:!this.draggable,this.draggable!==isDraggable&&(this.draggable=isDraggable,this.getItems().forEach(function(item){item.toggleDraggable(this.draggable)}.bind(this)),this.emit("draggable",this.draggable))},OO.ui.mixin.DraggableGroupElement.prototype.isDraggable=function(){return this.draggable},OO.ui.mixin.DraggableGroupElement.prototype.onItemDragStart=function(item){this.isDraggable()&&(this.itemsOrder=this.items.slice(),this.updateIndexes(),"horizontal"===this.orientation&&(this.dir=this.$element.css("direction")),this.setDragItem(item))},OO.ui.mixin.DraggableGroupElement.prototype.updateIndexes=function(){var i,len;for(i=0,len=this.itemsOrder.length;i<len;i++)this.itemsOrder[i].setIndex(i)},OO.ui.mixin.DraggableGroupElement.prototype.onItemDropOrDragEnd=function(){var targetIndex,originalIndex,item=this.getDragItem();return item&&(originalIndex=this.items.indexOf(item),(targetIndex=item.getIndex()+(item.getIndex()>originalIndex?1:0))!==originalIndex&&(this.reorder(this.getDragItem(),targetIndex),this.emit("reorder",this.getDragItem(),targetIndex)),this.updateIndexes()),this.unsetDragItem(),!1},OO.ui.mixin.DraggableGroupElement.prototype.onDragOver=function(e){var overIndex,targetIndex,item=this.getDragItem(),dragItemIndex=item.getIndex();void 0!==(overIndex=$(e.target).closest(".oo-ui-draggableElement").data("index"))&&overIndex!==dragItemIndex&&((targetIndex=overIndex+(overIndex>dragItemIndex?1:0))>0?this.$group.children().eq(targetIndex-1).after(item.$element):this.$group.prepend(item.$element),this.itemsOrder.splice(overIndex,0,this.itemsOrder.splice(dragItemIndex,1)[0]),this.updateIndexes(),this.emit("drag",item,targetIndex)),e.preventDefault()},OO.ui.mixin.DraggableGroupElement.prototype.reorder=function(item,newIndex){this.addItems([item],newIndex)},OO.ui.mixin.DraggableGroupElement.prototype.setDragItem=function(item){this.dragItem!==item&&(this.dragItem=item,this.$element.on("dragover",this.onDragOver.bind(this)),this.$element.addClass("oo-ui-draggableGroupElement-dragging"))},OO.ui.mixin.DraggableGroupElement.prototype.unsetDragItem=function(){this.dragItem&&(this.dragItem=null,this.$element.off("dragover"),this.$element.removeClass("oo-ui-draggableGroupElement-dragging"))},OO.ui.mixin.DraggableGroupElement.prototype.getDragItem=function(){return this.dragItem},OO.ui.mixin.RequestManager=function OoUiMixinRequestManager(config){this.requestCache={},this.requestQuery=null,this.requestRequest=null,this.showPendingRequest=!!this.pushPending&&!1!==config.showPendingRequest},OO.initClass(OO.ui.mixin.RequestManager),OO.ui.mixin.RequestManager.prototype.getRequestData=function(){var ourRequest,widget=this,value=this.getRequestQuery(),deferred=$.Deferred();return this.abortRequest(),Object.prototype.hasOwnProperty.call(this.requestCache,value)?deferred.resolve(this.requestCache[value]):(this.showPendingRequest&&this.pushPending(),this.requestQuery=value,(ourRequest=this.requestRequest=this.getRequest()).always(function(){widget.showPendingRequest&&widget.popPending()}).done(function(response){ourRequest===widget.requestRequest&&(widget.requestQuery=null,widget.requestRequest=null,widget.requestCache[value]=widget.getRequestCacheDataFromResponse(response),deferred.resolve(widget.requestCache[value]))}).fail(function(){ourRequest===widget.requestRequest&&(widget.requestQuery=null,widget.requestRequest=null,deferred.reject())})),deferred.promise()},OO.ui.mixin.RequestManager.prototype.abortRequest=function(){var oldRequest=this.requestRequest;oldRequest&&(this.requestRequest=null,this.requestQuery=null,oldRequest.abort())},OO.ui.mixin.RequestManager.prototype.getRequestQuery=null,OO.ui.mixin.RequestManager.prototype.getRequest=null,OO.ui.mixin.RequestManager.prototype.getRequestCacheDataFromResponse=null,OO.ui.mixin.LookupElement=function OoUiMixinLookupElement(config){config=$.extend({highlightFirst:!0},config),OO.ui.mixin.RequestManager.call(this,config),this.$overlay=(!0===config.$overlay?OO.ui.getDefaultOverlay():config.$overlay)||this.$element,this.lookupMenu=new OO.ui.MenuSelectWidget($.extend({widget:this,input:this,$floatableContainer:config.$container||this.$element},config.menu)),this.allowSuggestionsWhenEmpty=config.allowSuggestionsWhenEmpty||!1,this.lookupsDisabled=!1,this.lookupInputFocused=!1,this.lookupHighlightFirstItem=config.highlightFirst,this.showSuggestionsOnFocus=!1!==config.showSuggestionsOnFocus,this.$input.on({focus:this.onLookupInputFocus.bind(this),blur:this.onLookupInputBlur.bind(this),mousedown:this.onLookupInputMouseDown.bind(this)}),this.connect(this,{change:"onLookupInputChange"}),this.lookupMenu.connect(this,{toggle:"onLookupMenuToggle",choose:"onLookupMenuItemChoose"}),this.$input.attr({role:"combobox","aria-owns":this.lookupMenu.getElementId(),"aria-autocomplete":"list"}),this.$element.addClass("oo-ui-lookupElement"),this.lookupMenu.$element.addClass("oo-ui-lookupElement-menu"),this.$overlay.append(this.lookupMenu.$element)},OO.mixinClass(OO.ui.mixin.LookupElement,OO.ui.mixin.RequestManager),OO.ui.mixin.LookupElement.prototype.onLookupInputFocus=function(){this.lookupInputFocused=!0,this.showSuggestionsOnFocus&&this.populateLookupMenu()},OO.ui.mixin.LookupElement.prototype.onLookupInputBlur=function(){this.closeLookupMenu(),this.lookupInputFocused=!1},OO.ui.mixin.LookupElement.prototype.onLookupInputMouseDown=function(){this.lookupMenu.isVisible()||!this.lookupInputFocused&&this.showSuggestionsOnFocus||this.populateLookupMenu()},OO.ui.mixin.LookupElement.prototype.onLookupInputChange=function(){this.lookupInputFocused&&this.populateLookupMenu()},OO.ui.mixin.LookupElement.prototype.onLookupMenuToggle=function(visible){visible||(this.abortLookupRequest(),this.lookupMenu.clearItems())},OO.ui.mixin.LookupElement.prototype.onLookupMenuItemChoose=function(item){this.setValue(item.getData())},OO.ui.mixin.LookupElement.prototype.getLookupMenu=function(){return this.lookupMenu},OO.ui.mixin.LookupElement.prototype.setLookupsDisabled=function(disabled){this.lookupsDisabled=!!disabled},OO.ui.mixin.LookupElement.prototype.openLookupMenu=function(){return this.lookupMenu.isEmpty()||this.lookupMenu.toggle(!0),this},OO.ui.mixin.LookupElement.prototype.closeLookupMenu=function(){return this.lookupMenu.toggle(!1),this.abortLookupRequest(),this.lookupMenu.clearItems(),this},OO.ui.mixin.LookupElement.prototype.populateLookupMenu=function(){var widget=this,value=this.getValue();if(!this.lookupsDisabled&&!this.isReadOnly())return this.allowSuggestionsWhenEmpty||""!==value?value!==this.lookupQuery&&this.getLookupMenuItems().done(function(items){widget.lookupMenu.clearItems(),items.length?(widget.lookupMenu.addItems(items).toggle(!0),widget.initializeLookupMenuSelection()):widget.lookupMenu.toggle(!1)}).fail(function(){widget.lookupMenu.clearItems(),widget.lookupMenu.toggle(!1)}):this.closeLookupMenu(),this},OO.ui.mixin.LookupElement.prototype.initializeLookupMenuSelection=function(){this.lookupHighlightFirstItem&&!this.lookupMenu.findSelectedItem()&&this.lookupMenu.highlightItem(this.lookupMenu.findFirstSelectableItem())},OO.ui.mixin.LookupElement.prototype.getLookupMenuItems=function(){return this.getRequestData().then(function(data){return this.getLookupMenuOptionsFromData(data)}.bind(this))},OO.ui.mixin.LookupElement.prototype.abortLookupRequest=function(){this.abortRequest()},OO.ui.mixin.LookupElement.prototype.getLookupRequest=null,OO.ui.mixin.LookupElement.prototype.getLookupCacheDataFromResponse=null,OO.ui.mixin.LookupElement.prototype.getLookupMenuOptionsFromData=null,OO.ui.mixin.LookupElement.prototype.setReadOnly=function(readOnly){return OO.ui.TextInputWidget.prototype.setReadOnly.call(this,readOnly),this.isReadOnly()&&this.lookupMenu&&this.closeLookupMenu(),this},OO.ui.mixin.LookupElement.prototype.getRequestQuery=function(){return this.getValue()},OO.ui.mixin.LookupElement.prototype.getRequest=function(){return this.getLookupRequest()},OO.ui.mixin.LookupElement.prototype.getRequestCacheDataFromResponse=function(response){return this.getLookupCacheDataFromResponse(response)},OO.ui.TabPanelLayout=function OoUiTabPanelLayout(name,config){OO.isPlainObject(name)&&void 0===config&&(name=(config=name).name),config=$.extend({scrollable:!0},config),OO.ui.TabPanelLayout.parent.call(this,config),this.name=name,this.label=config.label,this.tabItem=null,this.active=!1,this.$element.addClass("oo-ui-tabPanelLayout").attr("role","tabpanel")},OO.inheritClass(OO.ui.TabPanelLayout,OO.ui.PanelLayout),OO.ui.TabPanelLayout.prototype.getName=function(){return this.name},OO.ui.TabPanelLayout.prototype.isActive=function(){return this.active},OO.ui.TabPanelLayout.prototype.getTabItem=function(){return this.tabItem},OO.ui.TabPanelLayout.prototype.setTabItem=function(tabItem){return this.tabItem=tabItem||null,tabItem&&this.setupTabItem(),this},OO.ui.TabPanelLayout.prototype.setupTabItem=function(){return this.$element.attr("aria-labelledby",this.tabItem.getElementId()),this.tabItem.$element.attr("aria-controls",this.getElementId()),this.label&&this.tabItem.setLabel(this.label),this},OO.ui.TabPanelLayout.prototype.setActive=function(active){(active=!!active)!==this.active&&(this.active=active,this.$element.toggleClass("oo-ui-tabPanelLayout-active",this.active),this.emit("active",this.active))},OO.ui.PageLayout=function OoUiPageLayout(name,config){OO.isPlainObject(name)&&void 0===config&&(name=(config=name).name),config=$.extend({scrollable:!0},config),OO.ui.PageLayout.parent.call(this,config),this.name=name,this.outlineItem=null,this.active=!1,this.$element.addClass("oo-ui-pageLayout")},OO.inheritClass(OO.ui.PageLayout,OO.ui.PanelLayout),OO.ui.PageLayout.prototype.getName=function(){return this.name},OO.ui.PageLayout.prototype.isActive=function(){return this.active},OO.ui.PageLayout.prototype.getOutlineItem=function(){return this.outlineItem},OO.ui.PageLayout.prototype.setOutlineItem=function(outlineItem){return this.outlineItem=outlineItem||null,outlineItem&&this.setupOutlineItem(),this},OO.ui.PageLayout.prototype.setupOutlineItem=function(){return this},OO.ui.PageLayout.prototype.setActive=function(active){(active=!!active)!==this.active&&(this.active=active,this.$element.toggleClass("oo-ui-pageLayout-active",active),this.emit("active",this.active))},OO.ui.StackLayout=function OoUiStackLayout(config){config=$.extend({scrollable:!(!config||!config.continuous)},config),OO.ui.StackLayout.parent.call(this,config),OO.ui.mixin.GroupElement.call(this,$.extend({$group:this.$element},config)),this.currentItem=null,this.continuous=!!config.continuous,this.$element.addClass("oo-ui-stackLayout"),this.continuous&&(this.$element.addClass("oo-ui-stackLayout-continuous"),this.$element.on("scroll",OO.ui.debounce(this.onScroll.bind(this),250))),Array.isArray(config.items)&&this.addItems(config.items)},OO.inheritClass(OO.ui.StackLayout,OO.ui.PanelLayout),OO.mixinClass(OO.ui.StackLayout,OO.ui.mixin.GroupElement),OO.ui.StackLayout.prototype.onScroll=function(){var currentRect,len=this.items.length,currentIndex=this.items.indexOf(this.currentItem),newIndex=currentIndex,containerRect=this.$element[0].getBoundingClientRect();if(containerRect&&(containerRect.top||containerRect.bottom)){if((currentRect=getRect(this.currentItem)).bottom<containerRect.top)for(;++newIndex<len&&!isVisible(this.items[newIndex]););else if(currentRect.top>containerRect.bottom)for(;--newIndex>=0&&!isVisible(this.items[newIndex]););newIndex!==currentIndex&&this.emit("visibleItemChange",this.items[newIndex])}function getRect(item){return item.$element[0].getBoundingClientRect()}function isVisible(item){var rect=getRect(item);return rect.bottom>containerRect.top&&rect.top<containerRect.bottom}},OO.ui.StackLayout.prototype.getCurrentItem=function(){return this.currentItem},OO.ui.StackLayout.prototype.unsetCurrentItem=function(){null!==this.currentItem&&(this.currentItem=null,this.emit("set",null))},OO.ui.StackLayout.prototype.addItems=function(items,index){return this.updateHiddenState(items,this.currentItem),OO.ui.mixin.GroupElement.prototype.addItems.call(this,items,index),!this.currentItem&&items.length&&this.setItem(items[0]),this},OO.ui.StackLayout.prototype.removeItems=function(items){return OO.ui.mixin.GroupElement.prototype.removeItems.call(this,items),-1!==items.indexOf(this.currentItem)&&(this.items.length?this.setItem(this.items[0]):this.unsetCurrentItem()),this},OO.ui.StackLayout.prototype.clearItems=function(){return this.unsetCurrentItem(),OO.ui.mixin.GroupElement.prototype.clearItems.call(this),this},OO.ui.StackLayout.prototype.setItem=function(item){return item!==this.currentItem&&(this.updateHiddenState(this.items,item),-1!==this.items.indexOf(item)?(this.currentItem=item,this.emit("set",item)):this.unsetCurrentItem()),this},OO.ui.StackLayout.prototype.resetScroll=function(){return this.continuous?OO.ui.StackLayout.parent.prototype.resetScroll.call(this):(this.getItems().forEach(function(panel){var hidden=panel.$element.hasClass("oo-ui-element-hidden");panel.$element.removeClass("oo-ui-element-hidden"),panel.resetScroll(),hidden&&panel.$element.addClass("oo-ui-element-hidden")}),this)},OO.ui.StackLayout.prototype.updateHiddenState=function(items,selectedItem){var i,len;if(!this.continuous){for(i=0,len=items.length;i<len;i++)selectedItem&&selectedItem===items[i]||(items[i].$element.addClass("oo-ui-element-hidden"),items[i].$element.attr("aria-hidden","true"));selectedItem&&(selectedItem.$element.removeClass("oo-ui-element-hidden"),selectedItem.$element.removeAttr("aria-hidden"))}},OO.ui.MenuLayout=function OoUiMenuLayout(config){config=$.extend({expanded:!0,showMenu:!0,menuPosition:"before"},config),OO.ui.MenuLayout.parent.call(this,config),this.menuPanel=null,this.contentPanel=null,this.expanded=!!config.expanded,this.$menu=$("<div>"),this.$content=$("<div>"),this.$menu.addClass("oo-ui-menuLayout-menu"),this.$content.addClass("oo-ui-menuLayout-content"),this.$element.addClass("oo-ui-menuLayout"),config.expanded?this.$element.addClass("oo-ui-menuLayout-expanded"):this.$element.addClass("oo-ui-menuLayout-static"),config.menuPanel&&this.setMenuPanel(config.menuPanel),config.contentPanel&&this.setContentPanel(config.contentPanel),this.setMenuPosition(config.menuPosition),this.toggleMenu(config.showMenu)},OO.inheritClass(OO.ui.MenuLayout,OO.ui.Layout),OO.ui.MenuLayout.prototype.toggleMenu=function(showMenu){return showMenu=void 0===showMenu?!this.showMenu:!!showMenu,this.showMenu!==showMenu&&(this.showMenu=showMenu,this.$element.toggleClass("oo-ui-menuLayout-showMenu",this.showMenu).toggleClass("oo-ui-menuLayout-hideMenu",!this.showMenu),this.$menu.attr("aria-hidden",this.showMenu?"false":"true")),this},OO.ui.MenuLayout.prototype.isMenuVisible=function(){return this.showMenu},OO.ui.MenuLayout.prototype.setMenuPosition=function(position){return-1===["top","bottom","before","after"].indexOf(position)&&(position="before"),this.$element.removeClass("oo-ui-menuLayout-"+this.menuPosition),this.menuPosition=position,"top"===this.menuPosition||"before"===this.menuPosition?this.$element.append(this.$menu,this.$content):this.$element.append(this.$content,this.$menu),this.$element.addClass("oo-ui-menuLayout-"+position),this},OO.ui.MenuLayout.prototype.getMenuPosition=function(){return this.menuPosition},OO.ui.MenuLayout.prototype.setMenuPanel=function(menuPanel){this.menuPanel=menuPanel,this.$menu.append(this.menuPanel.$element)},OO.ui.MenuLayout.prototype.setContentPanel=function(contentPanel){this.contentPanel=contentPanel,this.$content.append(this.contentPanel.$element)},OO.ui.MenuLayout.prototype.clearMenuPanel=function(){this.menuPanel=null,this.$menu.empty()},OO.ui.MenuLayout.prototype.clearContentPanel=function(){this.contentPanel=null,this.$content.empty()},OO.ui.MenuLayout.prototype.resetScroll=function(){return this.menuPanel&&this.menuPanel.resetScroll(),this.contentPanel&&this.contentPanel.resetScroll(),this},OO.ui.BookletLayout=function OoUiBookletLayout(config){config=config||{},OO.ui.BookletLayout.parent.call(this,config),this.currentPageName=null,this.pages={},this.ignoreFocus=!1,this.stackLayout=new OO.ui.StackLayout({continuous:!!config.continuous,expanded:this.expanded}),this.setContentPanel(this.stackLayout),this.autoFocus=void 0===config.autoFocus||!!config.autoFocus,this.outlineVisible=!1,this.outlined=!!config.outlined,this.outlined&&(this.editable=!!config.editable,this.outlineControlsWidget=null,this.outlineSelectWidget=new OO.ui.OutlineSelectWidget,this.outlinePanel=new OO.ui.PanelLayout({expanded:this.expanded,scrollable:!0}),this.setMenuPanel(this.outlinePanel),this.outlineVisible=!0,this.editable&&(this.outlineControlsWidget=new OO.ui.OutlineControlsWidget(this.outlineSelectWidget))),this.toggleMenu(this.outlined),this.stackLayout.connect(this,{set:"onStackLayoutSet"}),this.outlined&&(this.outlineSelectWidget.connect(this,{select:"onOutlineSelectWidgetSelect"}),this.scrolling=!1,this.stackLayout.connect(this,{visibleItemChange:"onStackLayoutVisibleItemChange"})),this.autoFocus&&this.stackLayout.$element.on("focusin",this.onStackLayoutFocus.bind(this)),this.$element.addClass("oo-ui-bookletLayout"),this.stackLayout.$element.addClass("oo-ui-bookletLayout-stackLayout"),this.outlined&&(this.outlinePanel.$element.addClass("oo-ui-bookletLayout-outlinePanel").append(this.outlineSelectWidget.$element),this.editable&&this.outlinePanel.$element.addClass("oo-ui-bookletLayout-outlinePanel-editable").append(this.outlineControlsWidget.$element))},OO.inheritClass(OO.ui.BookletLayout,OO.ui.MenuLayout),OO.ui.BookletLayout.prototype.onStackLayoutFocus=function(e){var name,$target;for(name in $target=$(e.target).closest(".oo-ui-pageLayout"),this.pages)if(this.pages[name].$element[0]===$target[0]&&name!==this.currentPageName){this.setPage(name);break}},OO.ui.BookletLayout.prototype.onStackLayoutVisibleItemChange=function(page){this.scrolling=!0,this.outlineSelectWidget.selectItemByData(page.getName()),this.scrolling=!1},OO.ui.BookletLayout.prototype.onStackLayoutSet=function(page){var promise,layout=this;page&&(promise=this.stackLayout.continuous&&!this.scrolling?page.scrollElementIntoView():$.Deferred().resolve(),!this.autoFocus||OO.ui.isMobile()||this.scrolling||promise.done(function(){layout.focus()}))},OO.ui.BookletLayout.prototype.focus=function(itemIndex){var page,items=this.stackLayout.getItems();!(page=void 0!==itemIndex&&items[itemIndex]?items[itemIndex]:this.stackLayout.getCurrentItem())&&this.outlined&&(this.selectFirstSelectablePage(),page=this.stackLayout.getCurrentItem()),page&&(OO.ui.contains(page.$element[0],this.getElementDocument().activeElement,!0)||page.focus())},OO.ui.BookletLayout.prototype.focusFirstFocusable=function(){OO.ui.findFocusable(this.stackLayout.$element).focus()},OO.ui.BookletLayout.prototype.onOutlineSelectWidgetSelect=function(item){item&&this.setPage(item.getData())},OO.ui.BookletLayout.prototype.isOutlined=function(){return this.outlined},OO.ui.BookletLayout.prototype.isEditable=function(){return this.editable},OO.ui.BookletLayout.prototype.isOutlineVisible=function(){return this.outlined&&this.outlineVisible},OO.ui.BookletLayout.prototype.toggleOutline=function(show){var booklet=this;return this.outlined&&(show=void 0===show?!this.outlineVisible:!!show,this.outlineVisible=show,this.toggleMenu(show),show&&this.editable&&setTimeout(function(){OO.ui.Element.static.reconsiderScrollbars(booklet.outlinePanel.$element[0])},OO.ui.theme.getDialogTransitionDuration())),this},OO.ui.BookletLayout.prototype.findClosestPage=function(page){var next,prev,level,pages=this.stackLayout.getItems(),index=pages.indexOf(page);if(-1!==index&&(next=pages[index+1],prev=pages[index-1],this.outlined)){if(level=this.outlineSelectWidget.findItemFromData(page.getName()).getLevel(),prev&&level===this.outlineSelectWidget.findItemFromData(prev.getName()).getLevel())return prev;if(next&&level===this.outlineSelectWidget.findItemFromData(next.getName()).getLevel())return next}return prev||next||null},OO.ui.BookletLayout.prototype.getOutline=function(){return this.outlineSelectWidget},OO.ui.BookletLayout.prototype.getOutlineControls=function(){return this.outlineControlsWidget},OO.ui.BookletLayout.prototype.getPage=function(name){return this.pages[name]},OO.ui.BookletLayout.prototype.getCurrentPage=function(){var name=this.getCurrentPageName();return name?this.getPage(name):void 0},OO.ui.BookletLayout.prototype.getCurrentPageName=function(){return this.currentPageName},OO.ui.BookletLayout.prototype.addPages=function(pages,index){var i,len,name,page,item,currentIndex,stackLayoutPages=this.stackLayout.getItems(),remove=[],items=[];for(i=0,len=pages.length;i<len;i++)name=(page=pages[i]).getName(),Object.prototype.hasOwnProperty.call(this.pages,name)&&(-1!==(currentIndex=stackLayoutPages.indexOf(this.pages[name]))&&currentIndex+1<index&&index--,remove.push(this.pages[name]));for(remove.length&&this.removePages(remove),i=0,len=pages.length;i<len;i++)name=(page=pages[i]).getName(),this.pages[page.getName()]=page,this.outlined&&(item=new OO.ui.OutlineOptionWidget({data:name}),page.setOutlineItem(item),items.push(item));return this.outlined&&items.length&&(this.outlineSelectWidget.addItems(items,index),this.selectFirstSelectablePage()),this.stackLayout.addItems(pages,index),this.emit("add",pages,index),this},OO.ui.BookletLayout.prototype.removePages=function(pages){var i,len,name,page,items=[];for(i=0,len=pages.length;i<len;i++)name=(page=pages[i]).getName(),delete this.pages[name],this.outlined&&(items.push(this.outlineSelectWidget.findItemFromData(name)),page.setOutlineItem(null));return this.outlined&&items.length&&(this.outlineSelectWidget.removeItems(items),this.selectFirstSelectablePage()),this.stackLayout.removeItems(pages),this.emit("remove",pages),this},OO.ui.BookletLayout.prototype.clearPages=function(){var i,len,pages=this.stackLayout.getItems();if(this.pages={},this.currentPageName=null,this.outlined)for(this.outlineSelectWidget.clearItems(),i=0,len=pages.length;i<len;i++)pages[i].setOutlineItem(null);return this.stackLayout.clearItems(),this.emit("remove",pages),this},OO.ui.BookletLayout.prototype.setPage=function(name){var selectedItem,$focused,page=this.pages[name],previousPage=this.currentPageName&&this.pages[this.currentPageName];name!==this.currentPageName&&(this.outlined&&(selectedItem=this.outlineSelectWidget.findSelectedItem())&&selectedItem.getData()!==name&&this.outlineSelectWidget.selectItemByData(name),page&&(previousPage&&(previousPage.setActive(!1),this.autoFocus&&!OO.ui.isMobile()&&this.stackLayout.continuous&&0!==OO.ui.findFocusable(page.$element).length&&($focused=previousPage.$element.find(":focus")).length&&$focused[0].blur()),this.currentPageName=name,page.setActive(!0),this.stackLayout.setItem(page),!this.stackLayout.continuous&&previousPage&&($focused=previousPage.$element.find(":focus")).length&&$focused[0].blur(),this.emit("set",page)))},OO.ui.BookletLayout.prototype.resetScroll=function(){return OO.ui.BookletLayout.parent.prototype.resetScroll.call(this),this.outlined&&this.stackLayout.continuous&&this.outlineSelectWidget.findFirstSelectableItem()&&(this.scrolling=!0,this.outlineSelectWidget.selectItem(this.outlineSelectWidget.findFirstSelectableItem()),this.scrolling=!1),this},OO.ui.BookletLayout.prototype.selectFirstSelectablePage=function(){return this.outlineSelectWidget.findSelectedItem()||this.outlineSelectWidget.selectItem(this.outlineSelectWidget.findFirstSelectableItem()),this},OO.ui.IndexLayout=function OoUiIndexLayout(config){config=$.extend({},config,{menuPosition:"top"}),OO.ui.IndexLayout.parent.call(this,config),this.currentTabPanelName=null,this.tabPanels=config.tabPanels||{},this.ignoreFocus=!1,this.stackLayout=this.contentPanel||new OO.ui.StackLayout({continuous:!!config.continuous,expanded:this.expanded}),this.setContentPanel(this.stackLayout),this.autoFocus=void 0===config.autoFocus||!!config.autoFocus,this.tabSelectWidget=config.tabSelectWidget||new OO.ui.TabSelectWidget({framed:void 0===config.framed||config.framed}),this.tabPanel=this.menuPanel||new OO.ui.PanelLayout({expanded:this.expanded}),this.setMenuPanel(this.tabPanel),this.toggleMenu(!0),this.stackLayout.connect(this,{set:"onStackLayoutSet"}),this.tabSelectWidget.connect(this,{select:"onTabSelectWidgetSelect"}),this.autoFocus&&this.stackLayout.$element.on("focusin",this.onStackLayoutFocus.bind(this)),this.$element.addClass("oo-ui-indexLayout"),this.stackLayout.$element.addClass("oo-ui-indexLayout-stackLayout"),this.tabPanel.$element.addClass("oo-ui-indexLayout-tabPanel").append(this.tabSelectWidget.$element),this.selectFirstSelectableTabPanel()},OO.inheritClass(OO.ui.IndexLayout,OO.ui.MenuLayout),OO.ui.IndexLayout.prototype.onStackLayoutFocus=function(e){var name,$target;for(name in $target=$(e.target).closest(".oo-ui-tabPanelLayout"),this.tabPanels)if(this.tabPanels[name].$element[0]===$target[0]&&name!==this.currentTabPanelName){this.setTabPanel(name);break}},OO.ui.IndexLayout.prototype.onStackLayoutSet=function(tabPanel){tabPanel&&this.autoFocus&&!OO.ui.isMobile()&&this.focus()},OO.ui.IndexLayout.prototype.focus=function(itemIndex){var tabPanel,items=this.stackLayout.getItems();(tabPanel=void 0!==itemIndex&&items[itemIndex]?items[itemIndex]:this.stackLayout.getCurrentItem())||(this.selectFirstSelectableTabPanel(),tabPanel=this.stackLayout.getCurrentItem()),tabPanel&&(OO.ui.contains(tabPanel.$element[0],this.getElementDocument().activeElement,!0)||tabPanel.focus())},OO.ui.IndexLayout.prototype.focusFirstFocusable=function(){OO.ui.findFocusable(this.stackLayout.$element).focus()},OO.ui.IndexLayout.prototype.onTabSelectWidgetSelect=function(item){item&&this.setTabPanel(item.getData())},OO.ui.IndexLayout.prototype.getClosestTabPanel=function(tabPanel){var next,prev,level,tabPanels=this.stackLayout.getItems(),index=tabPanels.indexOf(tabPanel);if(-1!==index){if(next=tabPanels[index+1],prev=tabPanels[index-1],level=this.tabSelectWidget.findItemFromData(tabPanel.getName()).getLevel(),prev&&level===this.tabSelectWidget.findItemFromData(prev.getName()).getLevel())return prev;if(next&&level===this.tabSelectWidget.findItemFromData(next.getName()).getLevel())return next}return prev||next||null},OO.ui.IndexLayout.prototype.getTabs=function(){return this.tabSelectWidget},OO.ui.IndexLayout.prototype.getTabPanel=function(name){return this.tabPanels[name]},OO.ui.IndexLayout.prototype.getCurrentTabPanel=function(){var name=this.getCurrentTabPanelName();return name?this.getTabPanel(name):void 0},OO.ui.IndexLayout.prototype.getCurrentTabPanelName=function(){return this.currentTabPanelName},OO.ui.IndexLayout.prototype.addTabPanels=function(tabPanels,index){var i,len,name,tabPanel,item,currentIndex,stackLayoutTabPanels=this.stackLayout.getItems(),remove=[],items=[];for(i=0,len=tabPanels.length;i<len;i++)name=(tabPanel=tabPanels[i]).getName(),Object.prototype.hasOwnProperty.call(this.tabPanels,name)&&(-1!==(currentIndex=stackLayoutTabPanels.indexOf(this.tabPanels[name]))&&currentIndex+1<index&&index--,remove.push(this.tabPanels[name]));for(remove.length&&this.removeTabPanels(remove),i=0,len=tabPanels.length;i<len;i++)name=(tabPanel=tabPanels[i]).getName(),this.tabPanels[tabPanel.getName()]=tabPanel,item=new OO.ui.TabOptionWidget({data:name}),tabPanel.setTabItem(item),items.push(item);return items.length&&(this.tabSelectWidget.addItems(items,index),this.selectFirstSelectableTabPanel()),this.stackLayout.addItems(tabPanels,index),this.emit("add",tabPanels,index),this},OO.ui.IndexLayout.prototype.removeTabPanels=function(tabPanels){var i,len,name,tabPanel,items=[];for(i=0,len=tabPanels.length;i<len;i++)name=(tabPanel=tabPanels[i]).getName(),delete this.tabPanels[name],items.push(this.tabSelectWidget.findItemFromData(name)),tabPanel.setTabItem(null);return items.length&&(this.tabSelectWidget.removeItems(items),this.selectFirstSelectableTabPanel()),this.stackLayout.removeItems(tabPanels),this.emit("remove",tabPanels),this},OO.ui.IndexLayout.prototype.clearTabPanels=function(){var i,len,tabPanels=this.stackLayout.getItems();for(this.tabPanels={},this.currentTabPanelName=null,this.tabSelectWidget.clearItems(),i=0,len=tabPanels.length;i<len;i++)tabPanels[i].setTabItem(null);return this.stackLayout.clearItems(),this.emit("remove",tabPanels),this},OO.ui.IndexLayout.prototype.setTabPanel=function(name){var selectedItem,$focused,previousTabPanel,tabPanel=this.tabPanels[name];name!==this.currentTabPanelName&&(previousTabPanel=this.getCurrentTabPanel(),(selectedItem=this.tabSelectWidget.findSelectedItem())&&selectedItem.getData()!==name&&this.tabSelectWidget.selectItemByData(name),tabPanel&&(previousTabPanel&&(previousTabPanel.setActive(!1),this.autoFocus&&!OO.ui.isMobile()&&this.stackLayout.continuous&&0!==OO.ui.findFocusable(tabPanel.$element).length&&($focused=previousTabPanel.$element.find(":focus")).length&&$focused[0].blur()),this.currentTabPanelName=name,tabPanel.setActive(!0),this.stackLayout.setItem(tabPanel),!this.stackLayout.continuous&&previousTabPanel&&($focused=previousTabPanel.$element.find(":focus")).length&&$focused[0].blur(),this.emit("set",tabPanel)))},OO.ui.IndexLayout.prototype.selectFirstSelectableTabPanel=function(){return this.tabSelectWidget.findSelectedItem()||this.tabSelectWidget.selectItem(this.tabSelectWidget.findFirstSelectableItem()),this},OO.ui.ToggleWidget=function OoUiToggleWidget(config){config=config||{},OO.ui.ToggleWidget.parent.call(this,config),OO.ui.mixin.TitledElement.call(this,config),this.value=null,this.$element.addClass("oo-ui-toggleWidget"),this.setValue(!!config.value)},OO.inheritClass(OO.ui.ToggleWidget,OO.ui.Widget),OO.mixinClass(OO.ui.ToggleWidget,OO.ui.mixin.TitledElement),OO.ui.ToggleWidget.prototype.getValue=function(){return this.value},OO.ui.ToggleWidget.prototype.setValue=function(value){return value=!!value,this.value!==value&&(this.value=value,this.emit("change",value),this.$element.toggleClass("oo-ui-toggleWidget-on",value),this.$element.toggleClass("oo-ui-toggleWidget-off",!value)),this},OO.ui.ToggleButtonWidget=function OoUiToggleButtonWidget(config){config=config||{},OO.ui.ToggleButtonWidget.parent.call(this,config),OO.ui.mixin.ButtonElement.call(this,$.extend({active:this.active},config)),OO.ui.mixin.IconElement.call(this,config),OO.ui.mixin.IndicatorElement.call(this,config),OO.ui.mixin.LabelElement.call(this,config),OO.ui.mixin.FlaggedElement.call(this,config),OO.ui.mixin.TabIndexedElement.call(this,$.extend({$tabIndexed:this.$button},config)),this.connect(this,{click:"onAction"}),this.$button.append(this.$icon,this.$label,this.$indicator),this.$element.addClass("oo-ui-toggleButtonWidget").append(this.$button),this.setTitledElement(this.$button)},OO.inheritClass(OO.ui.ToggleButtonWidget,OO.ui.ToggleWidget),OO.mixinClass(OO.ui.ToggleButtonWidget,OO.ui.mixin.ButtonElement),OO.mixinClass(OO.ui.ToggleButtonWidget,OO.ui.mixin.IconElement),OO.mixinClass(OO.ui.ToggleButtonWidget,OO.ui.mixin.IndicatorElement),OO.mixinClass(OO.ui.ToggleButtonWidget,OO.ui.mixin.LabelElement),OO.mixinClass(OO.ui.ToggleButtonWidget,OO.ui.mixin.FlaggedElement),OO.mixinClass(OO.ui.ToggleButtonWidget,OO.ui.mixin.TabIndexedElement),OO.ui.ToggleButtonWidget.static.tagName="span",OO.ui.ToggleButtonWidget.prototype.onAction=function(){this.setValue(!this.value)},OO.ui.ToggleButtonWidget.prototype.setValue=function(value){return(value=!!value)!==this.value&&(this.$button&&this.$button.attr("aria-pressed",value.toString()),this.setActive(value)),OO.ui.ToggleButtonWidget.parent.prototype.setValue.call(this,value),this},OO.ui.ToggleButtonWidget.prototype.setButtonElement=function($button){this.$button&&this.$button.removeAttr("aria-pressed"),OO.ui.mixin.ButtonElement.prototype.setButtonElement.call(this,$button),this.$button.attr("aria-pressed",this.value.toString())},OO.ui.ToggleSwitchWidget=function OoUiToggleSwitchWidget(config){OO.ui.ToggleSwitchWidget.parent.call(this,config),OO.ui.mixin.TabIndexedElement.call(this,config),this.dragging=!1,this.dragStart=null,this.sliding=!1,this.$glow=$("<span>"),this.$grip=$("<span>"),this.$element.on({click:this.onClick.bind(this),keypress:this.onKeyPress.bind(this)}),this.$glow.addClass("oo-ui-toggleSwitchWidget-glow"),this.$grip.addClass("oo-ui-toggleSwitchWidget-grip"),this.$element.addClass("oo-ui-toggleSwitchWidget").attr("role","checkbox").append(this.$glow,this.$grip)},OO.inheritClass(OO.ui.ToggleSwitchWidget,OO.ui.ToggleWidget),OO.mixinClass(OO.ui.ToggleSwitchWidget,OO.ui.mixin.TabIndexedElement),OO.ui.ToggleSwitchWidget.prototype.onClick=function(e){return this.isDisabled()||e.which!==OO.ui.MouseButtons.LEFT||this.setValue(!this.value),!1},OO.ui.ToggleSwitchWidget.prototype.onKeyPress=function(e){if(!this.isDisabled()&&(e.which===OO.ui.Keys.SPACE||e.which===OO.ui.Keys.ENTER))return this.setValue(!this.value),!1},OO.ui.ToggleSwitchWidget.prototype.setValue=function(value){return OO.ui.ToggleSwitchWidget.parent.prototype.setValue.call(this,value),this.$element.attr("aria-checked",this.value.toString()),this},OO.ui.ToggleSwitchWidget.prototype.simulateLabelClick=function(){this.isDisabled()||this.setValue(!this.value),this.focus()},OO.ui.OutlineControlsWidget=function OoUiOutlineControlsWidget(outline,config){OO.isPlainObject(outline)&&void 0===config&&(outline=(config=outline).outline),config=config||{},OO.ui.OutlineControlsWidget.parent.call(this,config),OO.ui.mixin.GroupElement.call(this,config),this.outline=outline,this.$movers=$("<div>"),this.upButton=new OO.ui.ButtonWidget({framed:!1,icon:"collapse",title:OO.ui.msg("ooui-outline-control-move-up")}),this.downButton=new OO.ui.ButtonWidget({framed:!1,icon:"expand",title:OO.ui.msg("ooui-outline-control-move-down")}),this.removeButton=new OO.ui.ButtonWidget({framed:!1,icon:"trash",title:OO.ui.msg("ooui-outline-control-remove")}),this.abilities={move:!0,remove:!0},outline.connect(this,{select:"onOutlineChange",add:"onOutlineChange",remove:"onOutlineChange"}),this.upButton.connect(this,{click:["emit","move",-1]}),this.downButton.connect(this,{click:["emit","move",1]}),this.removeButton.connect(this,{click:["emit","remove"]}),this.$element.addClass("oo-ui-outlineControlsWidget"),this.$group.addClass("oo-ui-outlineControlsWidget-items"),this.$movers.addClass("oo-ui-outlineControlsWidget-movers").append(this.removeButton.$element,this.upButton.$element,this.downButton.$element),this.$element.append(this.$icon,this.$group,this.$movers),this.setAbilities(config.abilities||{})},OO.inheritClass(OO.ui.OutlineControlsWidget,OO.ui.Widget),OO.mixinClass(OO.ui.OutlineControlsWidget,OO.ui.mixin.GroupElement),OO.ui.OutlineControlsWidget.prototype.setAbilities=function(abilities){var ability;for(ability in this.abilities)void 0!==abilities[ability]&&(this.abilities[ability]=!!abilities[ability]);this.onOutlineChange()},OO.ui.OutlineControlsWidget.prototype.onOutlineChange=function(){var i,len,firstMovable,lastMovable,items=this.outline.getItems(),selectedItem=this.outline.findSelectedItem(),movable=this.abilities.move&&selectedItem&&selectedItem.isMovable(),removable=this.abilities.remove&&selectedItem&&selectedItem.isRemovable();if(movable){for(i=-1,len=items.length;++i<len;)if(items[i].isMovable()){firstMovable=items[i];break}for(i=len;i--;)if(items[i].isMovable()){lastMovable=items[i];break}}this.upButton.setDisabled(!movable||selectedItem===firstMovable),this.downButton.setDisabled(!movable||selectedItem===lastMovable),this.removeButton.setDisabled(!removable)},OO.ui.OutlineOptionWidget=function OoUiOutlineOptionWidget(config){config=config||{},OO.ui.OutlineOptionWidget.parent.call(this,config),this.level=0,this.movable=!!config.movable,this.removable=!!config.removable,this.$element.addClass("oo-ui-outlineOptionWidget"),this.setLevel(config.level)},OO.inheritClass(OO.ui.OutlineOptionWidget,OO.ui.DecoratedOptionWidget),OO.ui.OutlineOptionWidget.static.highlightable=!0,OO.ui.OutlineOptionWidget.static.scrollIntoViewOnSelect=!0,OO.ui.OutlineOptionWidget.static.levelClass="oo-ui-outlineOptionWidget-level-",OO.ui.OutlineOptionWidget.static.levels=3,OO.ui.OutlineOptionWidget.prototype.isMovable=function(){return this.movable},OO.ui.OutlineOptionWidget.prototype.isRemovable=function(){return this.removable},OO.ui.OutlineOptionWidget.prototype.getLevel=function(){return this.level},OO.ui.OutlineOptionWidget.prototype.setPressed=function(state){return OO.ui.OutlineOptionWidget.parent.prototype.setPressed.call(this,state),this},OO.ui.OutlineOptionWidget.prototype.setMovable=function(movable){return this.movable=!!movable,this.updateThemeClasses(),this},OO.ui.OutlineOptionWidget.prototype.setRemovable=function(removable){return this.removable=!!removable,this.updateThemeClasses(),this},OO.ui.OutlineOptionWidget.prototype.setSelected=function(state){return OO.ui.OutlineOptionWidget.parent.prototype.setSelected.call(this,state),this},OO.ui.OutlineOptionWidget.prototype.setLevel=function(level){var levels=this.constructor.static.levels,levelClass=this.constructor.static.levelClass,i=levels;for(this.level=level?Math.max(0,Math.min(levels-1,level)):0;i--;)this.level===i?this.$element.addClass(levelClass+i):this.$element.removeClass(levelClass+i);return this.updateThemeClasses(),this},OO.ui.OutlineSelectWidget=function OoUiOutlineSelectWidget(config){OO.ui.OutlineSelectWidget.parent.call(this,config),OO.ui.mixin.TabIndexedElement.call(this,config),this.$element.on({focus:this.bindDocumentKeyDownListener.bind(this),blur:this.unbindDocumentKeyDownListener.bind(this)}),this.$element.addClass("oo-ui-outlineSelectWidget")},OO.inheritClass(OO.ui.OutlineSelectWidget,OO.ui.SelectWidget),OO.mixinClass(OO.ui.OutlineSelectWidget,OO.ui.mixin.TabIndexedElement),OO.ui.ButtonOptionWidget=function OoUiButtonOptionWidget(config){config=config||{},OO.ui.ButtonOptionWidget.parent.call(this,config),OO.ui.mixin.ButtonElement.call(this,config),OO.ui.mixin.IconElement.call(this,config),OO.ui.mixin.IndicatorElement.call(this,config),this.$element.addClass("oo-ui-buttonOptionWidget"),this.$button.append(this.$icon,this.$label,this.$indicator),this.$element.append(this.$button),this.setTitledElement(this.$button)},OO.inheritClass(OO.ui.ButtonOptionWidget,OO.ui.OptionWidget),OO.mixinClass(OO.ui.ButtonOptionWidget,OO.ui.mixin.ButtonElement),OO.mixinClass(OO.ui.ButtonOptionWidget,OO.ui.mixin.IconElement),OO.mixinClass(OO.ui.ButtonOptionWidget,OO.ui.mixin.IndicatorElement),OO.ui.ButtonOptionWidget.static.cancelButtonMouseDownEvents=!1,OO.ui.ButtonOptionWidget.static.highlightable=!1,OO.ui.ButtonOptionWidget.prototype.setSelected=function(state){return OO.ui.ButtonOptionWidget.parent.prototype.setSelected.call(this,state),this.constructor.static.selectable&&this.setActive(state),this},OO.ui.ButtonSelectWidget=function OoUiButtonSelectWidget(config){OO.ui.ButtonSelectWidget.parent.call(this,config),OO.ui.mixin.TabIndexedElement.call(this,config),this.$element.on({focus:this.bindDocumentKeyDownListener.bind(this),blur:this.unbindDocumentKeyDownListener.bind(this)}),this.$element.addClass("oo-ui-buttonSelectWidget")},OO.inheritClass(OO.ui.ButtonSelectWidget,OO.ui.SelectWidget),OO.mixinClass(OO.ui.ButtonSelectWidget,OO.ui.mixin.TabIndexedElement),OO.ui.TabOptionWidget=function OoUiTabOptionWidget(config){config=config||{},OO.ui.TabOptionWidget.parent.call(this,config),this.$element.addClass("oo-ui-tabOptionWidget").attr("role","tab")},OO.inheritClass(OO.ui.TabOptionWidget,OO.ui.OptionWidget),OO.ui.TabOptionWidget.static.highlightable=!1,OO.ui.TabOptionWidget.static.scrollIntoViewOnSelect=!0,OO.ui.TabOptionWidget.prototype.scrollElementIntoView=function(config){var padding;return OO.ui.isMobile()&&this.getElementGroup()?(padding=Math.max((this.getElementGroup().$element[0].clientWidth-this.$element[0].clientWidth)/2,0),OO.ui.TabOptionWidget.super.prototype.scrollElementIntoView.call(this,$.extend({padding:{left:padding,right:padding}},config))):OO.ui.TabOptionWidget.super.prototype.scrollElementIntoView.call(this)},OO.ui.TabSelectWidget=function OoUiTabSelectWidget(config){OO.ui.TabSelectWidget.parent.call(this,config),OO.ui.mixin.TabIndexedElement.call(this,config),this.$element.on({focus:this.bindDocumentKeyDownListener.bind(this),blur:this.unbindDocumentKeyDownListener.bind(this)}),this.$element.addClass("oo-ui-tabSelectWidget").attr("role","tablist"),this.toggleFramed(void 0===config.framed||config.framed),OO.ui.isMobile()&&this.$element.addClass("oo-ui-tabSelectWidget-mobile")},OO.inheritClass(OO.ui.TabSelectWidget,OO.ui.SelectWidget),OO.mixinClass(OO.ui.TabSelectWidget,OO.ui.mixin.TabIndexedElement),OO.ui.TabSelectWidget.prototype.isFramed=function(){return this.framed},OO.ui.TabSelectWidget.prototype.toggleFramed=function(framed){return(framed=void 0===framed?!this.framed:!!framed)!==this.framed&&(this.framed=framed,this.$element.toggleClass("oo-ui-tabSelectWidget-frameless",!framed).toggleClass("oo-ui-tabSelectWidget-framed",framed)),this},OO.ui.TagItemWidget=function OoUiTagItemWidget(config){config=config||{},OO.ui.TagItemWidget.parent.call(this,config),OO.ui.mixin.ItemWidget.call(this),OO.ui.mixin.LabelElement.call(this,config),OO.ui.mixin.FlaggedElement.call(this,config),OO.ui.mixin.TabIndexedElement.call(this,config),OO.ui.mixin.DraggableElement.call(this,config),this.valid=void 0===config.valid||!!config.valid,this.fixed=!!config.fixed,this.closeButton=new OO.ui.ButtonWidget({framed:!1,icon:"close",tabIndex:-1,title:OO.ui.msg("ooui-item-remove")}),this.closeButton.setDisabled(this.isDisabled()),this.closeButton.connect(this,{click:"remove"}),this.$element.on("click",this.select.bind(this)).on("keydown",this.onKeyDown.bind(this)).on("mousedown",function(e){e.stopPropagation()}),this.$element.addClass("oo-ui-tagItemWidget").append(this.$label,this.closeButton.$element)},OO.inheritClass(OO.ui.TagItemWidget,OO.ui.Widget),OO.mixinClass(OO.ui.TagItemWidget,OO.ui.mixin.ItemWidget),OO.mixinClass(OO.ui.TagItemWidget,OO.ui.mixin.LabelElement),OO.mixinClass(OO.ui.TagItemWidget,OO.ui.mixin.FlaggedElement),OO.mixinClass(OO.ui.TagItemWidget,OO.ui.mixin.TabIndexedElement),OO.mixinClass(OO.ui.TagItemWidget,OO.ui.mixin.DraggableElement),OO.ui.TagItemWidget.prototype.setFixed=function(state){return state=void 0===state?!this.fixed:!!state,this.fixed!==state&&(this.fixed=state,this.closeButton&&this.closeButton.toggle(!this.fixed),this.fixed||!this.elementGroup||this.elementGroup.isDraggable()||this.toggleDraggable(!this.fixed),this.$element.toggleClass("oo-ui-tagItemWidget-fixed",this.fixed),this.emit("fixed",this.isFixed())),this},OO.ui.TagItemWidget.prototype.isFixed=function(){return this.fixed},OO.ui.TagItemWidget.prototype.setDisabled=function(state){return state&&this.elementGroup&&!this.elementGroup.isDisabled()&&OO.ui.warnDeprecation("TagItemWidget#setDisabled: Disabling individual items is deprecated and will result in inconsistent behavior. Use #setFixed instead. See T193571."),OO.ui.TagItemWidget.parent.prototype.setDisabled.call(this,state),state||!this.toggleDraggable||!this.elementGroup||this.isFixed()||this.elementGroup.isDraggable()||this.toggleDraggable(!state),this.closeButton&&this.closeButton.setDisabled(state),this},OO.ui.TagItemWidget.prototype.remove=function(){this.isDisabled()||this.isFixed()||this.emit("remove")},OO.ui.TagItemWidget.prototype.onKeyDown=function(e){var movement;return this.isDisabled()||this.isFixed()||e.keyCode!==OO.ui.Keys.BACKSPACE&&e.keyCode!==OO.ui.Keys.DELETE?e.keyCode===OO.ui.Keys.ENTER?(this.select(),!1):e.keyCode===OO.ui.Keys.LEFT||e.keyCode===OO.ui.Keys.RIGHT?(movement="rtl"===OO.ui.Element.static.getDir(this.$element)?{left:"forwards",right:"backwards"}:{left:"backwards",right:"forwards"},this.emit("navigate",e.keyCode===OO.ui.Keys.LEFT?movement.left:movement.right),!1):void 0:(this.remove(),!1)},OO.ui.TagItemWidget.prototype.select=function(){this.isDisabled()||this.emit("select")},OO.ui.TagItemWidget.prototype.toggleValid=function(valid){valid=void 0===valid?!this.valid:!!valid,this.valid!==valid&&(this.valid=valid,this.setFlags({invalid:!this.valid}),this.emit("valid",this.valid))},OO.ui.TagItemWidget.prototype.isValid=function(){return this.valid},OO.ui.TagMultiselectWidget=function OoUiTagMultiselectWidget(config){var inputEvents,rAF=window.requestAnimationFrame||setTimeout,widget=this,$tabFocus=$("<span>").addClass("oo-ui-tagMultiselectWidget-focusTrap");config=config||{},OO.ui.TagMultiselectWidget.parent.call(this,config),OO.ui.mixin.GroupWidget.call(this,config),OO.ui.mixin.IndicatorElement.call(this,config),OO.ui.mixin.IconElement.call(this,config),OO.ui.mixin.TabIndexedElement.call(this,config),OO.ui.mixin.FlaggedElement.call(this,config),OO.ui.mixin.DraggableGroupElement.call(this,config),OO.ui.mixin.TitledElement.call(this,config),this.toggleDraggable(void 0===config.allowReordering||!!config.allowReordering),this.inputPosition=this.constructor.static.allowedInputPositions.indexOf(config.inputPosition)>-1?config.inputPosition:"inline",this.allowEditTags=void 0===config.allowEditTags||!!config.allowEditTags,this.allowArbitrary=!!config.allowArbitrary,this.allowDuplicates=!!config.allowDuplicates,this.allowedValues=config.allowedValues||[],this.allowDisplayInvalidTags=config.allowDisplayInvalidTags,this.hasInput="none"!==this.inputPosition,this.tagLimit=config.tagLimit,this.height=null,this.valid=!0,this.$content=$("<div>").addClass("oo-ui-tagMultiselectWidget-content"),this.$handle=$("<div>").addClass("oo-ui-tagMultiselectWidget-handle").append(this.$indicator,this.$icon,this.$content.append(this.$group.addClass("oo-ui-tagMultiselectWidget-group"))),this.aggregate({remove:"itemRemove",navigate:"itemNavigate",select:"itemSelect",fixed:"itemFixed"}),this.connect(this,{itemRemove:"onTagRemove",itemSelect:"onTagSelect",itemFixed:"onTagFixed",itemNavigate:"onTagNavigate",change:"onChangeTags"}),this.$handle.on({mousedown:this.onMouseDown.bind(this)}),this.$element.addClass("oo-ui-tagMultiselectWidget").append(this.$handle),this.hasInput?(config.inputWidget?this.input=config.inputWidget:this.input=new OO.ui.TextInputWidget($.extend({placeholder:config.placeholder,classes:["oo-ui-tagMultiselectWidget-input"]},config.input)),this.input.setDisabled(this.isDisabled()),inputEvents={focus:this.onInputFocus.bind(this),blur:this.onInputBlur.bind(this),"propertychange change click mouseup keydown keyup input cut paste select focus":OO.ui.debounce(this.updateInputSize.bind(this)),keydown:this.onInputKeyDown.bind(this),keypress:this.onInputKeyPress.bind(this)},this.input.$input.on(inputEvents),this.inputPlaceholder=this.input.$input.attr("placeholder"),"outline"===this.inputPosition?(this.input.$element.css("max-width","inherit"),this.$element.addClass("oo-ui-tagMultiselectWidget-outlined").append(this.input.$element)):(this.$element.addClass("oo-ui-tagMultiselectWidget-inlined"),this.$content.append(this.input.$input))):this.$content.append($tabFocus),this.setTabIndexedElement(this.hasInput?this.input.$input:$tabFocus),config.selected&&this.setValue(config.selected),rAF(function(){widget.hasInput&&widget.updateInputSize()})},OO.inheritClass(OO.ui.TagMultiselectWidget,OO.ui.Widget),OO.mixinClass(OO.ui.TagMultiselectWidget,OO.ui.mixin.GroupWidget),OO.mixinClass(OO.ui.TagMultiselectWidget,OO.ui.mixin.DraggableGroupElement),OO.mixinClass(OO.ui.TagMultiselectWidget,OO.ui.mixin.IndicatorElement),OO.mixinClass(OO.ui.TagMultiselectWidget,OO.ui.mixin.IconElement),OO.mixinClass(OO.ui.TagMultiselectWidget,OO.ui.mixin.TabIndexedElement),OO.mixinClass(OO.ui.TagMultiselectWidget,OO.ui.mixin.FlaggedElement),OO.mixinClass(OO.ui.TagMultiselectWidget,OO.ui.mixin.TitledElement),OO.ui.TagMultiselectWidget.static.allowedInputPositions=["inline","outline","none"],OO.ui.TagMultiselectWidget.prototype.onMouseDown=function(e){if(!(this.isDisabled()||this.hasInput&&e.target===this.input.$input[0]||e.which!==OO.ui.MouseButtons.LEFT))return this.focus(),!1},OO.ui.TagMultiselectWidget.prototype.onInputKeyPress=function(e){var stopOrContinue,withMetaKey=e.metaKey||e.ctrlKey;if(!this.isDisabled())return e.which===OO.ui.Keys.ENTER&&(stopOrContinue=this.doInputEnter(e,withMetaKey)),setTimeout(this.updateInputSize.bind(this),0),stopOrContinue},OO.ui.TagMultiselectWidget.prototype.onInputKeyDown=function(e){var movement,direction,widget=this,withMetaKey=e.metaKey||e.ctrlKey;if(!this.isDisabled()){if(e.keyCode===OO.ui.Keys.BACKSPACE)return this.doInputBackspace(e,withMetaKey);if(e.keyCode===OO.ui.Keys.ESCAPE)return this.doInputEscape(e);if(!(e.keyCode!==OO.ui.Keys.LEFT&&e.keyCode!==OO.ui.Keys.RIGHT||(movement="rtl"===OO.ui.Element.static.getDir(this.$element)?{left:"forwards",right:"backwards"}:{left:"backwards",right:"forwards"},direction=e.keyCode===OO.ui.Keys.LEFT?movement.left:movement.right,this.hasInput&&function(direction){var inputRange=widget.input.getRange(),inputValue=widget.hasInput&&widget.input.getValue();return!("forwards"===direction&&inputRange.to>inputValue.length-1)&&!("backwards"===direction&&inputRange.from<=0)}(direction))))return this.doInputArrow(e,direction,withMetaKey)}},OO.ui.TagMultiselectWidget.prototype.onInputFocus=function(){this.$element.addClass("oo-ui-tagMultiselectWidget-focus"),this.toggleValid(!0)},OO.ui.TagMultiselectWidget.prototype.onInputBlur=function(){this.$element.removeClass("oo-ui-tagMultiselectWidget-focus"),this.addTagFromInput(),this.toggleValid(this.checkValidity()&&(!this.hasInput||!this.input.getValue()))},OO.ui.TagMultiselectWidget.prototype.doInputEnter=function(){return this.addTagFromInput(),!1},OO.ui.TagMultiselectWidget.prototype.doInputBackspace=function(e,withMetaKey){var items,item;if("inline"===this.inputPosition&&""===this.input.getValue()&&!this.isEmpty())return(item=(items=this.getItems())[items.length-1]).isDisabled()||item.isFixed()||(this.removeItems([item]),withMetaKey||this.input.setValue(item.getLabel())),!1},OO.ui.TagMultiselectWidget.prototype.doInputEscape=function(){this.clearInput()},OO.ui.TagMultiselectWidget.prototype.doInputArrow=function(e,direction){"inline"!==this.inputPosition||this.isEmpty()||"backwards"!==direction||this.getPreviousItem().focus()},OO.ui.TagMultiselectWidget.prototype.onTagSelect=function(item){this.hasInput&&this.allowEditTags&&!item.isFixed()&&(this.input.getValue()&&this.addTagFromInput(),this.input.setValue(item.getLabel()),this.removeItems([item]),this.focus())},OO.ui.TagMultiselectWidget.prototype.onTagFixed=function(item){var i,items=this.getItems();for(i=0;i<items.length&&(items[i]===item||items[i].isFixed());i++);this.addItems(item,i)},OO.ui.TagMultiselectWidget.prototype.onChangeTags=function(){var isUnderLimit=this.isUnderLimit();this.toggleValid(this.checkValidity()&&!(this.hasInput&&this.input.getValue())),this.hasInput&&(this.updateInputSize(),isUnderLimit||this.input.setValue(""),"outline"===this.inputPosition?(this.input.$input.attr("placeholder",isUnderLimit?this.inputPlaceholder:""),this.input.setDisabled(!isUnderLimit)):this.input.$input.toggleClass("oo-ui-element-hidden",!isUnderLimit)),this.updateIfHeightChanged()},OO.ui.TagMultiselectWidget.prototype.setDisabled=function(isDisabled){OO.ui.TagMultiselectWidget.parent.prototype.setDisabled.call(this,isDisabled),this.hasInput&&this.input&&(isDisabled||this.updateInputSize(),this.input.setDisabled(!!isDisabled&&!this.isUnderLimit())),this.items&&this.getItems().forEach(function(item){item.setDisabled(!!isDisabled)})},OO.ui.TagMultiselectWidget.prototype.onTagRemove=function(item){this.removeTagByData(item.getData())},OO.ui.TagMultiselectWidget.prototype.onTagNavigate=function(item,direction){var firstItem=this.getItems()[0];"forwards"===direction?this.getNextItem(item).focus():"inline"!==!this.inputPosition&&item===firstItem||this.getPreviousItem(item).focus()},OO.ui.TagMultiselectWidget.prototype.addTagFromInput=function(){var val=this.input.getValue(),isValid=this.isAllowedData(val);val&&(isValid||this.allowDisplayInvalidTags)&&(this.clearInput(),this.addTag(val))},OO.ui.TagMultiselectWidget.prototype.clearInput=function(){this.input.setValue("")},OO.ui.TagMultiselectWidget.prototype.isDuplicateData=function(data){return!!this.findItemFromData(data)},OO.ui.TagMultiselectWidget.prototype.isAllowedData=function(data){return!(!this.allowDuplicates&&this.isDuplicateData(data))&&(!!this.allowArbitrary||!!this.getAllowedValues().some(function(value){return data===value}))},OO.ui.TagMultiselectWidget.prototype.getAllowedValues=function(){return this.allowedValues},OO.ui.TagMultiselectWidget.prototype.addAllowedValue=function(value){-1===this.allowedValues.indexOf(value)&&this.allowedValues.push(value)},OO.ui.TagMultiselectWidget.prototype.getValue=function(){return this.getItems().filter(function(item){return item.isValid()}).map(function(item){return item.getData()})},OO.ui.TagMultiselectWidget.prototype.setValue=function(valueObject){valueObject=Array.isArray(valueObject)?valueObject:[valueObject],this.clearItems(),valueObject.forEach(function(obj){"string"==typeof obj?this.addTag(obj):this.addTag(obj.data,obj.label)}.bind(this))},OO.ui.TagMultiselectWidget.prototype.addTag=function(data,label){var newItemWidget,isValid=this.isAllowedData(data);return!(!this.isUnderLimit()||!isValid&&!this.allowDisplayInvalidTags)&&((newItemWidget=this.createTagItemWidget(data,label)).toggleValid(isValid),this.addItems([newItemWidget]),!0)},OO.ui.TagMultiselectWidget.prototype.isUnderLimit=function(){return!this.tagLimit||this.getItemCount()<this.tagLimit},OO.ui.TagMultiselectWidget.prototype.removeTagByData=function(data){var item=this.findItemFromData(data);this.removeItems([item])},OO.ui.TagMultiselectWidget.prototype.createTagItemWidget=function(data,label){return label=label||data,new OO.ui.TagItemWidget({data:data,label:label})},OO.ui.TagMultiselectWidget.prototype.getNextItem=function(item){var itemIndex=this.items.indexOf(item);return void 0===item||-1===itemIndex?this.items[0]:itemIndex===this.items.length-1?this.hasInput?this.input:this.items[0]:this.items[itemIndex+1]},OO.ui.TagMultiselectWidget.prototype.getPreviousItem=function(item){var itemIndex=this.items.indexOf(item);return void 0===item||-1===itemIndex?this.items[this.items.length-1]:0===itemIndex?this.hasInput?this.input:this.items[this.items.length-1]:this.items[itemIndex-1]},OO.ui.TagMultiselectWidget.prototype.updateInputSize=function(){var $lastItem,direction,contentWidth,bestWidth;if("inline"!==this.inputPosition||this.isDisabled())this.updateIfHeightChanged();else{if(0===this.input.$input[0].scrollWidth)return;if(this.input.$input.css("width","1em"),$lastItem=this.$group.children().last(),direction=OO.ui.Element.static.getDir(this.$handle),void 0===this.contentWidthWithPlaceholder&&""===this.input.getValue()&&void 0!==this.input.$input.attr("placeholder")&&(this.input.setValue(this.input.$input.attr("placeholder")),this.contentWidthWithPlaceholder=this.input.$input[0].scrollWidth,this.input.setValue("")),(contentWidth=Math.max(this.input.$input[0].scrollWidth,void 0===this.contentWidthWithPlaceholder?0:this.contentWidthWithPlaceholder))<this.input.$input.width())return void this.updateIfHeightChanged();bestWidth=0===$lastItem.length?this.$content.innerWidth():"ltr"===direction?this.$content.innerWidth()-$lastItem.position().left-$lastItem.outerWidth():$lastItem.position().left,contentWidth>(bestWidth-=13)&&(bestWidth=this.$content.innerWidth()-13),this.input.$input.width(Math.floor(bestWidth)),this.updateIfHeightChanged()}},OO.ui.TagMultiselectWidget.prototype.updateIfHeightChanged=function(){var height=this.$element.height();height!==this.height&&(this.height=height,this.emit("resize"))},OO.ui.TagMultiselectWidget.prototype.checkValidity=function(){return this.getItems().every(function(item){return item.isValid()})},OO.ui.TagMultiselectWidget.prototype.toggleValid=function(valid){valid=void 0===valid?!this.valid:!!valid,this.valid!==valid&&(this.valid=valid,this.setFlags({invalid:!this.valid}),this.emit("valid",this.valid))},OO.ui.TagMultiselectWidget.prototype.isValid=function(){return this.valid},OO.ui.PopupTagMultiselectWidget=function OoUiPopupTagMultiselectWidget(config){var defaultInput,defaultConfig={popup:{}};config=config||{},OO.ui.PopupTagMultiselectWidget.parent.call(this,$.extend({inputPosition:"none"},config)),this.$overlay=(!0===config.$overlay?OO.ui.getDefaultOverlay():config.$overlay)||this.$element,config.popup||(defaultInput=new OO.ui.TextInputWidget,defaultConfig.popupInput=defaultInput,defaultConfig.popup.$content=defaultInput.$element,defaultConfig.popup.padded=!0,this.$element.addClass("oo-ui-popupTagMultiselectWidget-defaultPopup")),defaultConfig.popup.$overlay=this.$overlay,defaultConfig.popup.$autoCloseIgnore=this.hasInput?this.input.$element.add(this.$overlay):this.$overlay,config=$.extend(defaultConfig,config),OO.ui.mixin.PopupElement.call(this,config),this.hasInput&&this.input.$input.on("focus",this.popup.toggle.bind(this.popup,!0)),this.popupInput=config.popupInput,this.popupInput&&this.popupInput.connect(this,{enter:"onPopupInputEnter"}),this.on("resize",this.popup.updateDimensions.bind(this.popup)),this.popup.connect(this,{toggle:"onPopupToggle"}),this.$tabIndexed.on("focus",this.onFocus.bind(this)),this.$element.append(this.popup.$element).addClass("oo-ui-popupTagMultiselectWidget"),OO.ui.warnDeprecation("PopupTagMultiselectWidget: Deprecated widget. Use MenuTagMultiselectWidget instead. See T208821.")},OO.inheritClass(OO.ui.PopupTagMultiselectWidget,OO.ui.TagMultiselectWidget),OO.mixinClass(OO.ui.PopupTagMultiselectWidget,OO.ui.mixin.PopupElement),OO.ui.PopupTagMultiselectWidget.prototype.onFocus=function(){this.popup.toggle(!0)},OO.ui.PopupTagMultiselectWidget.prototype.onPopupToggle=function(isVisible){isVisible&&this.popupInput&&this.popupInput.focus()},OO.ui.PopupTagMultiselectWidget.prototype.onPopupInputEnter=function(){this.popupInput&&(this.addTagByPopupValue(this.popupInput.getValue()),this.popupInput.setValue(""))},OO.ui.PopupTagMultiselectWidget.prototype.onTagSelect=function(item){this.popupInput&&this.allowEditTags?(this.popupInput.setValue(item.getData()),this.removeItems([item]),this.popup.toggle(!0),this.popupInput.focus()):OO.ui.PopupTagMultiselectWidget.parent.prototype.onTagSelect.call(this,item)},OO.ui.PopupTagMultiselectWidget.prototype.addTagByPopupValue=function(data,label){this.addTag(data,label)},OO.ui.MenuTagMultiselectWidget=function OoUiMenuTagMultiselectWidget(config){var $autoCloseIgnore=$([]);config=config||{},OO.ui.MenuTagMultiselectWidget.parent.call(this,config),$autoCloseIgnore=$autoCloseIgnore.add(this.$group),this.hasInput&&($autoCloseIgnore=$autoCloseIgnore.add(this.input.$element)),this.$overlay=(!0===config.$overlay?OO.ui.getDefaultOverlay():config.$overlay)||this.$element,this.clearInputOnChoose=void 0===config.clearInputOnChoose||!!config.clearInputOnChoose,this.menu=this.createMenuWidget($.extend({widget:this,hideOnChoose:!1,input:this.hasInput?this.input:null,$input:this.hasInput?this.input.$input:null,filterFromInput:!!this.hasInput,highlightOnFilter:!this.allowArbitrary,multiselect:!0,$autoCloseIgnore:$autoCloseIgnore,$floatableContainer:this.hasInput&&"outline"===this.inputPosition?this.input.$element:this.$element,$overlay:this.$overlay,disabled:this.isDisabled()},config.menu)),this.addOptions(config.options||[]),this.menu.connect(this,{choose:"onMenuChoose",toggle:"onMenuToggle"}),this.hasInput&&this.input.connect(this,{change:"onInputChange"}),this.connect(this,{resize:"onResize"}),this.$overlay.append(this.menu.$element),this.$element.addClass("oo-ui-menuTagMultiselectWidget"),this.menu.$focusOwner.removeAttr("aria-expanded"),config.selected&&this.setValue(config.selected)},OO.inheritClass(OO.ui.MenuTagMultiselectWidget,OO.ui.TagMultiselectWidget),OO.ui.MenuTagMultiselectWidget.prototype.onResize=function(){this.menu.position()},OO.ui.MenuTagMultiselectWidget.prototype.onInputFocus=function(){OO.ui.MenuTagMultiselectWidget.parent.prototype.onInputFocus.call(this),this.menu.toggle(!0)},OO.ui.MenuTagMultiselectWidget.prototype.onInputChange=function(){this.menu.toggle(!0)},OO.ui.MenuTagMultiselectWidget.prototype.onMenuChoose=function(menuItem,selected){this.hasInput&&this.clearInputOnChoose&&this.input.setValue(""),selected&&!this.findItemFromData(menuItem.getData())?this.addTag(menuItem.getData(),menuItem.getLabel()):this.removeTagByData(menuItem.getData())},OO.ui.MenuTagMultiselectWidget.prototype.onMenuToggle=function(isVisible){isVisible||(this.menu.highlightItem(null),this.menu.scrollToTop()),setTimeout(function(){this.menu.$focusOwner.removeAttr("aria-expanded")}.bind(this))},OO.ui.MenuTagMultiselectWidget.prototype.onTagSelect=function(tagItem){var menuItem=this.menu.findItemFromData(tagItem.getData());this.allowArbitrary?OO.ui.MenuTagMultiselectWidget.parent.prototype.onTagSelect.call(this,tagItem):(this.hasInput&&this.menu.filterFromInput&&this.input.setValue(""),this.focus(),this.menu.highlightItem(menuItem),this.menu.scrollItemIntoView(menuItem))},OO.ui.MenuTagMultiselectWidget.prototype.removeItems=function(items){var widget=this;OO.ui.MenuTagMultiselectWidget.parent.prototype.removeItems.call(this,items),items.forEach(function(tagItem){var menuItem=widget.menu.findItemFromData(tagItem.getData());menuItem&&widget.menu.unselectItem(menuItem)})},OO.ui.MenuTagMultiselectWidget.prototype.setValue=function(valueObject){valueObject=Array.isArray(valueObject)?valueObject:[valueObject],this.menu&&(this.clearItems(),valueObject.forEach(function(obj){var data,label,menuItem;"string"==typeof obj?data=label=obj:(data=obj.data,label=obj.label),(menuItem=this.menu.getItemFromLabel(label)||this.menu.findItemFromData(data))?(this.addTag(menuItem.getData(),menuItem.getLabel()),this.menu.selectItem(menuItem)):this.allowArbitrary&&this.addTag(data,label)}.bind(this)))},OO.ui.MenuTagMultiselectWidget.prototype.setDisabled=function(isDisabled){OO.ui.MenuTagMultiselectWidget.parent.prototype.setDisabled.call(this,isDisabled),this.menu&&this.menu.setDisabled(isDisabled)},OO.ui.MenuTagMultiselectWidget.prototype.initializeMenuSelection=function(){var highlightedItem;this.menu.highlightItem(this.allowArbitrary?null:this.menu.findFirstSelectableItem()),(highlightedItem=this.menu.findHighlightedItem())&&this.menu.scrollItemIntoView(highlightedItem)},OO.ui.MenuTagMultiselectWidget.prototype.addTagFromInput=function(){var val=this.input.getValue(),item=this.menu.findHighlightedItem()||this.menu.findItemFromData(val),data=item?item.getData():val,isValid=this.isAllowedData(data);val&&(isValid||this.allowDisplayInvalidTags)&&(this.clearInput(),item?this.addTag(data,item.getLabel()):this.addTag(val))},OO.ui.MenuTagMultiselectWidget.prototype.getMenuVisibleItems=function(){return this.menu.getItems().filter(function(menuItem){return menuItem.isVisible()})},OO.ui.MenuTagMultiselectWidget.prototype.createMenuWidget=function(menuConfig){return new OO.ui.MenuSelectWidget(menuConfig)},OO.ui.MenuTagMultiselectWidget.prototype.addOptions=function(menuOptions){var widget=this,items=menuOptions.map(function(obj){return widget.createMenuOptionWidget(obj.data,obj.label,obj.icon)});this.menu.addItems(items)},OO.ui.MenuTagMultiselectWidget.prototype.createMenuOptionWidget=function(data,label,icon){return new OO.ui.MenuOptionWidget({data:data,label:label||data,icon:icon})},OO.ui.MenuTagMultiselectWidget.prototype.getMenu=function(){return this.menu},OO.ui.MenuTagMultiselectWidget.prototype.getAllowedValues=function(){var menuDatas=[];return this.menu&&(menuDatas=this.menu.getItems().map(function(menuItem){return menuItem.getData()})),this.allowedValues.concat(menuDatas)},OO.ui.SelectFileWidget=function OoUiSelectFileWidget(config){var dragHandler,droppable,isSupported=this.constructor.static.isSupported();config=$.extend({notsupported:OO.ui.msg("ooui-selectfile-not-supported"),droppable:!0,buttonOnly:!1,showDropTarget:!1,thumbnailSizeLimit:20},config),isSupported||(config.disabled=!0),OO.ui.SelectFileWidget.parent.call(this,config),OO.ui.mixin.PendingElement.call(this),isSupported||this.info.setValue(config.notsupported),droppable=config.droppable&&isSupported,this.showDropTarget=droppable&&config.showDropTarget&&!this.multiple,this.thumbnailSizeLimit=config.thumbnailSizeLimit,this.showDropTarget?(this.selectButton.setIcon("upload"),this.$thumbnail=$("<div>").addClass("oo-ui-selectFileWidget-thumbnail"),this.setPendingElement(this.$thumbnail),this.$element.addClass("oo-ui-selectFileWidget-dropTarget").on({click:this.onDropTargetClick.bind(this)}).append(this.$thumbnail,this.info.$element,this.selectButton.$element,$("<span>").addClass("oo-ui-selectFileWidget-dropLabel").text(OO.ui.msg("ooui-selectfile-dragdrop-placeholder"))),this.fieldLayout.$element.remove()):config.buttonOnly&&(this.selectButton.$element.addClass(this.$element.attr("class")).addClass("oo-ui-selectFileWidget-buttonOnly"),this.$element=this.selectButton.$element),droppable&&(dragHandler=this.onDragEnterOrOver.bind(this),this.$element.on({dragenter:dragHandler,dragover:dragHandler,dragleave:this.onDragLeave.bind(this),drop:this.onDrop.bind(this)})),this.$input.on("click",function(e){e.stopPropagation()}),this.$element.addClass("oo-ui-selectFileWidget"),this.updateUI()},OO.inheritClass(OO.ui.SelectFileWidget,OO.ui.SelectFileInputWidget),OO.mixinClass(OO.ui.SelectFileWidget,OO.ui.mixin.PendingElement),OO.ui.SelectFileWidget.static.isSupported=function(){var $input;return null===OO.ui.SelectFileWidget.static.isSupportedCache&&($input=$("<input>").attr("type","file"),OO.ui.SelectFileWidget.static.isSupportedCache=void 0!==$input[0].files),OO.ui.SelectFileWidget.static.isSupportedCache},OO.ui.SelectFileWidget.static.isSupportedCache=null,OO.ui.SelectFileWidget.prototype.getValue=function(){return this.multiple?this.currentFiles:this.currentFiles[0]},OO.ui.SelectFileWidget.prototype.setValue=function(files){function comparableFile(file){return $.extend({},file)}files&&!this.multiple&&(files=files.slice(0,1)),OO.compare(files&&files.map(comparableFile),this.currentFiles&&this.currentFiles.map(comparableFile))||(this.currentFiles=files||[],this.emit("change",this.currentFiles))},OO.ui.SelectFileWidget.prototype.getFilename=function(){return this.currentFiles.map(function(file){return file.name}).join(", ")},OO.ui.SelectFileWidget.prototype.onEdit=function(){},OO.ui.SelectFileWidget.prototype.updateUI=function(){this.selectButton&&this.constructor.static.isSupported()&&(OO.ui.SelectFileWidget.super.prototype.updateUI.call(this),this.currentFiles.length?(this.$element.removeClass("oo-ui-selectFileInputWidget-empty"),this.showDropTarget&&(this.pushPending(),this.loadAndGetImageUrl(this.currentFiles[0]).done(function(url){this.$thumbnail.css("background-image","url( "+url+" )")}.bind(this)).fail(function(){this.$thumbnail.append(new OO.ui.IconWidget({icon:"attachment",classes:["oo-ui-selectFileWidget-noThumbnail-icon"]}).$element)}.bind(this)).always(function(){this.popPending()}.bind(this)),this.$element.off("click"))):(this.showDropTarget&&(this.$element.off("click"),this.$element.on({click:this.onDropTargetClick.bind(this)}),this.$thumbnail.empty().css("background-image","")),this.$element.addClass("oo-ui-selectFileInputWidget-empty")))},OO.ui.SelectFileWidget.prototype.loadAndGetImageUrl=function(file){var deferred=$.Deferred(),reader=new FileReader;return 0===(OO.getProp(file,"type")||"").indexOf("image/")&&file.size<1024*this.thumbnailSizeLimit*1024?(reader.onload=function(event){var img=document.createElement("img");img.addEventListener("load",function(){0===img.naturalWidth||0===img.naturalHeight||!1===img.complete?deferred.reject():deferred.resolve(event.target.result)}),img.src=event.target.result},reader.readAsDataURL(file)):deferred.reject(),deferred.promise()},OO.ui.SelectFileWidget.prototype.onFileSelected=function(e){var files;this.inputClearing||(files=this.filterFiles(e.target.files||[]),this.inputClearing=!0,this.$input[0].value="",this.inputClearing=!1,this.setValue(files))},OO.ui.SelectFileWidget.prototype.onDropTargetClick=function(){if(!this.isDisabled()&&this.$input)return this.$input.trigger("click"),!1},OO.ui.SelectFileWidget.prototype.onDragEnterOrOver=function(e){var itemsOrFiles,hasDroppableFile=!1,dt=e.originalEvent.dataTransfer;return e.preventDefault(),e.stopPropagation(),this.isDisabled()?(this.$element.removeClass("oo-ui-selectFileWidget-canDrop"),dt.dropEffect="none",!1):((itemsOrFiles=dt.items||dt.files)&&itemsOrFiles.length?this.filterFiles(itemsOrFiles).length&&(hasDroppableFile=!0):-1!==Array.prototype.indexOf.call(OO.getProp(dt,"types")||[],"Files")&&(hasDroppableFile=!0),this.$element.toggleClass("oo-ui-selectFileWidget-canDrop",hasDroppableFile),hasDroppableFile||(dt.dropEffect="none"),!1)},OO.ui.SelectFileWidget.prototype.onDragLeave=function(){this.$element.removeClass("oo-ui-selectFileWidget-canDrop")},OO.ui.SelectFileWidget.prototype.onDrop=function(e){var files,dt=e.originalEvent.dataTransfer;return e.preventDefault(),e.stopPropagation(),this.$element.removeClass("oo-ui-selectFileWidget-canDrop"),!this.isDisabled()&&(files=this.filterFiles(dt.files||[]),this.setValue(files),!1)},OO.ui.SelectFileWidget.prototype.setDisabled=function(disabled){disabled=disabled||!this.constructor.static.isSupported(),OO.ui.SelectFileWidget.parent.prototype.setDisabled.call(this,disabled)},OO.ui.SearchWidget=function OoUiSearchWidget(config){config=config||{},OO.ui.SearchWidget.parent.call(this,config),this.query=new OO.ui.TextInputWidget({icon:"search",placeholder:config.placeholder,value:config.value}),this.results=new OO.ui.SelectWidget,this.$query=$("<div>"),this.$results=$("<div>"),this.query.connect(this,{change:"onQueryChange",enter:"onQueryEnter"}),this.query.$input.on("keydown",this.onQueryKeydown.bind(this)),this.$query.addClass("oo-ui-searchWidget-query").append(this.query.$element),this.$results.addClass("oo-ui-searchWidget-results").append(this.results.$element),this.$element.addClass("oo-ui-searchWidget").append(this.$results,this.$query)},OO.inheritClass(OO.ui.SearchWidget,OO.ui.Widget),OO.ui.SearchWidget.prototype.onQueryKeydown=function(e){var highlightedItem,nextItem,dir=e.which===OO.ui.Keys.DOWN?1:e.which===OO.ui.Keys.UP?-1:0;dir&&((highlightedItem=this.results.findHighlightedItem())||(highlightedItem=this.results.findSelectedItem()),nextItem=this.results.findRelativeSelectableItem(highlightedItem,dir),this.results.highlightItem(nextItem),nextItem.scrollElementIntoView())},OO.ui.SearchWidget.prototype.onQueryChange=function(){this.results.clearItems()},OO.ui.SearchWidget.prototype.onQueryEnter=function(){var highlightedItem=this.results.findHighlightedItem();highlightedItem&&this.results.chooseItem(highlightedItem)},OO.ui.SearchWidget.prototype.getQuery=function(){return this.query},OO.ui.SearchWidget.prototype.getResults=function(){return this.results}}(OO)},function(module,exports,__webpack_require__){__webpack_require__(53),__webpack_require__(197),__webpack_require__(68),__webpack_require__(54),__webpack_require__(702),__webpack_require__(23),__webpack_require__(59),__webpack_require__(58);var pageJSONParser=__webpack_require__(703),util=__webpack_require__(1),extendSearchParams=__webpack_require__(705);function SearchGateway(api){this.api=api,this.searchCache={},this.generator=mw.config.get("wgMFSearchGenerator")}SearchGateway.prototype={searchNamespace:0,getApiData:function(query){var prefix=this.generator.prefix,data=extendSearchParams("search",{generator:this.generator.name});return data.redirects="",data["g"+prefix+"search"]=query,data["g"+prefix+"namespace"]=this.searchNamespace,data["g"+prefix+"limit"]=15,data.pilimit&&(data.pilimit=15,data.pithumbsize=mw.config.get("wgMFThumbnailSizes").tiny),data},_createSearchRegEx:function(str){return str=str.replace(/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),new RegExp("^("+str+")","ig")},_highlightSearchTerm:function(label,term){return label=util.parseHTML("<span>").text(label).html(),term=util.parseHTML("<span>").text(term).html(),label.replace(this._createSearchRegEx(term),"<strong>$1</strong>")},_getPage:function(query,pageInfo){var page=pageJSONParser.parse(pageInfo);return page.displayTitle=this._highlightSearchTerm(pageInfo.displaytext?pageInfo.displaytext:page.title,query),page.index=pageInfo.index,page},_processData:function(query,data){var self=this,results=[];return data.query&&(results=data.query.pages||{},(results=Object.keys(results).map(function(id){return self._getPage(query,results[id])})).sort(function(a,b){return a.index<b.index?-1:1})),results},search:function(query){var xhr,request,self=this;return this.isCached(query)||(request=(xhr=this.api.get(this.getApiData(query))).then(function(data){return{query:query,results:self._processData(query,data)}},function(){self.searchCache[query]=void 0}),this.searchCache[query]=request.promise({abort:function(){xhr.abort()}})),this.searchCache[query]},isCached:function(query){return!!this.searchCache[query]}},module.exports=SearchGateway},,function(module,exports,__webpack_require__){__webpack_require__(30),__webpack_require__(31),__webpack_require__(45);var Page=__webpack_require__(147),time=__webpack_require__(704),util=__webpack_require__(1);module.exports={parse:function parse(resp){var revision,displayTitle,thumb=resp.thumbnail,pageprops=resp.pageprops||{displaytitle:mw.html.escape(resp.title)},terms=resp.terms;return(pageprops||terms)&&(displayTitle=terms&&terms.label?mw.html.escape(terms.label[0]):pageprops.displaytitle),resp.wikidataDescription=resp.description||void 0,thumb&&(resp.thumbnail.isLandscape=thumb.width>thumb.height),resp.revisions&&resp.revisions[0]&&(revision=resp.revisions[0],resp.lastModified=time.getLastModifiedMessage(new Date(revision.timestamp).getTime()/1e3,revision.user)),new Page(util.extend(resp,{id:resp.pageid,isMissing:!!resp.missing,url:mw.util.getUrl(resp.title),displayTitle:displayTitle}))}}},function(module,exports,__webpack_require__){__webpack_require__(35),__webpack_require__(45),__webpack_require__(205);var units=["seconds","minutes","hours","days","months","years"],util=__webpack_require__(1),limits=[1,60,3600,86400,2592e3,31536e3];function timeAgo(timestampDelta){for(var i=0;i<limits.length&&timestampDelta>limits[i+1];)++i;return{value:Math.round(timestampDelta/limits[i]),unit:units[i]}}function getTimeAgoDelta(timestamp){return timeAgo(Math.round((new Date).getTime()/1e3)-timestamp)}function isNow(delta){return"seconds"===delta.unit&&10>delta.value}module.exports={getLastModifiedMessage:function getLastModifiedMessage(ts,username,gender,historyUrl){var delta,html,args=[];return gender=gender||"unknown",isNow(delta=getTimeAgoDelta(ts))?args.push("mobile-frontend-last-modified-with-user-just-now",gender,username):args.push({seconds:"mobile-frontend-last-modified-with-user-seconds",minutes:"mobile-frontend-last-modified-with-user-minutes",hours:"mobile-frontend-last-modified-with-user-hours",days:"mobile-frontend-last-modified-with-user-days",months:"mobile-frontend-last-modified-with-user-months",years:"mobile-frontend-last-modified-with-user-years"}[delta.unit],gender,username,mw.language.convertNumber(delta.value)),args.push(historyUrl||"#",mw.language.convertNumber(username?1:0),username?mw.util.getUrl("User:"+username):""),html=mw.message.apply(this,args).parse(),historyUrl?html:util.parseHTML("<div>").html(html).text()},getRegistrationMessage:function getRegistrationMessage(ts,gender){var delta,args=[];return gender=gender||"unknown",isNow(delta=getTimeAgoDelta(parseInt(ts,10)))?args.push("mobile-frontend-joined-just-now",gender):args.push({seconds:"mobile-frontend-joined-seconds",minutes:"mobile-frontend-joined-minutes",hours:"mobile-frontend-joined-hours",days:"mobile-frontend-joined-days",months:"mobile-frontend-joined-months",years:"mobile-frontend-joined-years"}[delta.unit],gender,mw.language.convertNumber(delta.value)),mw.message.apply(this,args).parse()},timeAgo:timeAgo,getTimeAgoDelta:getTimeAgoDelta,isNow:isNow,isRecent:function isRecent(delta){return-1<["seconds","minutes","hours"].indexOf(delta.unit)}}},function(module,exports,__webpack_require__){__webpack_require__(40),__webpack_require__(35),__webpack_require__(69);var util=__webpack_require__(1),actionParams=__webpack_require__(85);module.exports=function extendSearchParams(feature){var args,result,displayWikibaseDescriptions=mw.config.get("wgMFDisplayWikibaseDescriptions",{}),scriptPath=mw.config.get("wgMFContentProviderScriptPath");if(!Object.prototype.hasOwnProperty.call(displayWikibaseDescriptions,feature))throw new Error('"'+feature+"\" isn't a feature that shows Wikibase descriptions.");return(args=Array.prototype.slice.call(arguments,1)).unshift({prop:[]}),args.push(mw.config.get("wgMFSearchAPIParams")),(result=util.extend.apply({},args)).prop=result.prop.concat(mw.config.get("wgMFQueryPropModules")),displayWikibaseDescriptions[feature]&&-1===result.prop.indexOf("description")&&result.prop.push("description"),scriptPath&&(result.origin="*"),actionParams(result)}},function(module,exports,__webpack_require__){function CategoryLookupInputWidget(options){this.gateway=options.gateway,this.$suggestions=options.suggestions,this.categories=options.categories||[],this.$saveButton=options.saveButton,options.placeholder=mw.msg("mobile-frontend-categories-search"),OO.ui.TextInputWidget.call(this,options),OO.ui.mixin.LookupElement.call(this,options)}__webpack_require__(9),__webpack_require__(15),__webpack_require__(35),__webpack_require__(45),__webpack_require__(7),__webpack_require__(23),__webpack_require__(59),__webpack_require__(132),__webpack_require__(16),OO.inheritClass(CategoryLookupInputWidget,OO.ui.TextInputWidget),OO.mixinClass(CategoryLookupInputWidget,OO.ui.mixin.LookupElement),CategoryLookupInputWidget.prototype.onLookupMenuItemChoose=function(data){var button=new OO.ui.ButtonWidget({icon:"check",label:data.label,classes:["suggestion","suggested"],flags:["progressive","primary"]});button.$element.attr("data-title",data.data),this.$suggestions.append(button.$element),this.$saveButton.prop("disabled",!1)},CategoryLookupInputWidget.prototype.getLookupRequest=function(){return this.gateway.search(this.value)},CategoryLookupInputWidget.prototype.getLookupCacheDataFromResponse=function(response){var title=new mw.Title(this.value,14);return response.results.unshift({title:title.toString(),displayTitle:title.getMainText()}),response},CategoryLookupInputWidget.prototype.getLookupMenuOptionsFromData=function(data){var result=[],$el=this.$element,self=this;return data.results.forEach(function(value){$el.find('div[data-title="'+value.title+'"]').length||-1!==self.categories.indexOf(value.displayTitle)||result.push(new OO.ui.MenuOptionWidget({data:value.title,label:value.displayTitle}))}),result},module.exports=CategoryLookupInputWidget},function(module,exports,__webpack_require__){__webpack_require__(26);var util=__webpack_require__(1),mfExtend=__webpack_require__(10);function ScrollEndEventEmitter(eventBus,threshold){this.threshold=threshold||100,this.eventBus=eventBus,this.enable(),OO.EventEmitter.call(this)}OO.mixinClass(ScrollEndEventEmitter,OO.EventEmitter),ScrollEndEventEmitter.EVENT_SCROLL_END="ScrollEndEventEmitter-scrollEnd",mfExtend(ScrollEndEventEmitter,{_bindScroll:function(){this._scrollHandler||(this._scrollHandler=this._onScroll.bind(this),this.eventBus.on("scroll:throttled",this._scrollHandler))},_unbindScroll:function(){this._scrollHandler&&(this.eventBus.off("scroll:throttled",this._scrollHandler),this._scrollHandler=null)},_onScroll:function(){this.$el&&this.enabled&&this.scrollNearEnd()&&(this.disable(),this.emit(ScrollEndEventEmitter.EVENT_SCROLL_END))},scrollNearEnd:function(){var $window=util.getWindow(),scrollBottom=$window.scrollTop()+$window.height(),endPosition=this.$el.offset().top+this.$el.outerHeight();return scrollBottom+this.threshold>endPosition},enable:function(){this.enabled=!0,this._bindScroll()},disable:function(){this.enabled=!1,this._unbindScroll()},setElement:function($el){this.$el=$el}}),module.exports=ScrollEndEventEmitter},function(module,exports,__webpack_require__){var content=__webpack_require__(709);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n.category-suggestions button {\n  margin-right: 0.5em;\n}\n.category-header {\n  margin-bottom: -1px;\n  /* source: http://lea.verou.me/2011/01/styling-children-based-on-their-number-with-css3/ */\n  /* width for two links */\n  /* width for four links */\n  /* stylelint-disable no-descending-specificity */\n  /* stylelint-enable no-descending-specificity */\n}\n.category-header li {\n  display: inline-block;\n  margin: 0 0 0 -1px;\n  border-width: 0 0 1px 1px;\n  border-style: solid;\n  border-color: #c8ccd1;\n  padding: 5px 0 0;\n  line-height: 1.5;\n  text-align: center;\n}\n.category-header li a {\n  display: block;\n  color: #54595d;\n  margin: 0 1px 0 0;\n  border-bottom: 3px solid transparent;\n}\n.category-header li.selected a {\n  border-bottom-color: #36c;\n  font-weight: bold;\n}\n.category-header li:first-child:nth-last-child( 2 ),\n.category-header li:first-child:nth-last-child( 2 ) ~ li {\n  width: 50%;\n}\n.category-header li:first-child:nth-last-child( 4 ),\n.category-header li:first-child:nth-last-child( 4 ) ~ li {\n  width: 25%;\n}\n",""])},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_src_mobile_editor_overlay_AbuseFilterPanel__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(150),_src_mobile_editor_overlay_AbuseFilterPanel__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_src_mobile_editor_overlay_AbuseFilterPanel__WEBPACK_IMPORTED_MODULE_2__);__webpack_require__(321),__webpack_require__(86);Object(_storybook_html__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("editor").add("AbuseFilterPanel warning",function(){var panel=new _src_mobile_editor_overlay_AbuseFilterPanel__WEBPACK_IMPORTED_MODULE_2___default.a({overlayManager:{add:function(){}}});return panel.show("warning","This is a warning"),Object(_utils__WEBPACK_IMPORTED_MODULE_1__.a)(panel,"editor-overlay overlay visible")}).add("AbuseFilterPanel disallow",function(){var panel=new _src_mobile_editor_overlay_AbuseFilterPanel__WEBPACK_IMPORTED_MODULE_2___default.a({overlayManager:{add:function(){}}});return panel.show("disallow","This is not allowed."),Object(_utils__WEBPACK_IMPORTED_MODULE_1__.a)(panel,"editor-overlay overlay visible")})},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/* GOAL: Upstream all these variables to core */\n/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * System font stack for sans-serif fonts\n *\n * `-apple-system` ('San Francisco') – Support: Safari 9+ macOS and iOS, Firefox macOS\n * `BlinkMacSystemFont` ('San Francisco') – Chrome 48+ macOS and iOS\n * `Segoe UI` – Windows Vista & newer\n * `Roboto` – Android 4.0\n * `Lato` – Wikimedia Design choice, OFL licensed\n * `Helvetica, Arial, sans-serif` – (Generic) Web fallback\n * Note that CSS Fonts Module Level 4's `system-ui` value has resulted in unresolved\n * side-effects in certain OS/language combinations and is therefore not included as of now.\n */\n/* stylelint-disable selector-no-vendor-prefix, at-rule-no-unknown */\n/* stylelint-enable selector-no-vendor-prefix, at-rule-no-unknown */\n.editor-overlay {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  padding-top: 3em;\n}\n.editor-overlay .header {\n  height: 3em;\n}\n.editor-overlay .header-action > a,\n.editor-overlay .header-action > button {\n  height: 3em;\n}\n.editor-overlay textarea {\n  padding: 0.5em;\n}\n.editor-overlay .overlay-content {\n  max-width: none;\n}\n.editor-overlay .overlay-header-container {\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);\n}\n.editor-overlay .overlay-header {\n  outline: 1px solid #c8ccd1;\n}\n.editor-overlay .overlay-header .oo-ui-toolbar-bar,\n.editor-overlay .overlay-header .oo-ui-toolbar-popups {\n  border-collapse: separate;\n}\n.editor-overlay .overlay-header .oo-ui-toolbar-bar {\n  border: 0;\n  box-shadow: none;\n}\n.editor-overlay .anonwarning {\n  margin-top: 16px;\n}\n.editor-overlay .anonwarning .anonmsg {\n  margin-bottom: 19px;\n}\n.editor-overlay .anonwarning .mw-ui-button {\n  margin-bottom: 15px;\n}\n.editor-overlay .anonwarning > p {\n  text-align: center;\n  font-style: italic;\n  font-size: 0.875em;\n}\n.editor-overlay-ve .anonwarning {\n  padding-top: 3em;\n}\n.editor-overlay .preview {\n  display: none;\n}\n.editor-overlay .preview.content .section-heading {\n  width: 100%;\n}\n.editor-overlay .preview.content .section-heading .indicator {\n  display: none;\n}\n.editor-overlay .wikitext-editor {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  font-size: inherit;\n  padding: 0;\n  padding-top: 1em;\n}\n.editor-overlay .wikitext-editor:focus {\n  outline: 0;\n}\n.editor-overlay .summary-request {\n  font-size: 1.4em;\n  font-weight: bold;\n  margin: 0.5em 0;\n  color: #54595d;\n}\n.editor-overlay .buttonBar .message {\n  margin: 0 0 0.7em;\n  padding: 0 0 0.3em;\n  border-bottom: 1px solid #c8ccd1;\n  color: #72777d;\n}\n.editor-overlay .buttonBar .message p {\n  display: inline-block;\n  text-align: center;\n  padding-top: 0;\n}\n.editor-overlay .ve-init-mw-mobileArticleTarget-toolbar .oo-ui-iconElement-icon,\n.editor-overlay .editor-switcher .oo-ui-iconElement-icon {\n  background-size: 20px 20px;\n}\n.editor-overlay .editor-switcher {\n  border-left: 1px solid #c8ccd1;\n}\n.editor-overlay .editor-switcher .oo-ui-toolGroup:last-child {\n  border-right: 0;\n}\n.abusefilter-overlay .mbox-image {\n  min-width: 30px;\n}\n",""])},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/* GOAL: Upstream all these variables to core */\n/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * System font stack for sans-serif fonts\n *\n * `-apple-system` ('San Francisco') – Support: Safari 9+ macOS and iOS, Firefox macOS\n * `BlinkMacSystemFont` ('San Francisco') – Chrome 48+ macOS and iOS\n * `Segoe UI` – Windows Vista & newer\n * `Roboto` – Android 4.0\n * `Lato` – Wikimedia Design choice, OFL licensed\n * `Helvetica, Arial, sans-serif` – (Generic) Web fallback\n * Note that CSS Fonts Module Level 4's `system-ui` value has resulted in unresolved\n * side-effects in certain OS/language combinations and is therefore not included as of now.\n */\n.panel {\n  padding-top: 12px;\n  padding-bottom: 12px;\n  border-bottom: 1px solid #eaecf0;\n}\n.panel input:only-child,\n.panel textarea:only-child {\n  border: 0;\n}\n.panel--white {\n  background-color: #fff;\n}\n@media all and (min-width: 720px) {\n  .panel {\n    padding-top: 12px;\n    padding-bottom: 12px;\n  }\n}\n",""])},function(module,exports){
/*!
 * OOUI v0.33.4
 * https://www.mediawiki.org/wiki/OOUI
 *
 * Copyright 2011–2019 OOUI Team and other contributors.
 * Released under the MIT license
 * http://oojs.mit-license.org
 *
 * Date: 2019-07-23T03:23:32Z
 */
!function(OO){"use strict";OO.ui.Toolbar=function OoUiToolbar(toolFactory,toolGroupFactory,config){OO.isPlainObject(toolFactory)&&void 0===config&&(toolFactory=(config=toolFactory).toolFactory,toolGroupFactory=config.toolGroupFactory),config=config||{},OO.ui.Toolbar.parent.call(this,config),OO.EventEmitter.call(this),OO.ui.mixin.GroupElement.call(this,config),this.toolFactory=toolFactory,this.toolGroupFactory=toolGroupFactory,this.groupsByName={},this.activeToolGroups=0,this.tools={},this.position=config.position||"top",this.$bar=$("<div>"),this.$actions=$("<div>"),this.$popups=$("<div>"),this.initialized=!1,this.narrowThreshold=null,this.onWindowResizeHandler=this.onWindowResize.bind(this),this.$overlay=(!0===config.$overlay?OO.ui.getDefaultOverlay():config.$overlay)||this.$element,this.$element.add(this.$bar).add(this.$group).add(this.$actions).on("mousedown keydown",this.onPointerDown.bind(this)),this.$group.addClass("oo-ui-toolbar-tools"),config.actions&&this.$bar.append(this.$actions.addClass("oo-ui-toolbar-actions")),this.$popups.addClass("oo-ui-toolbar-popups"),this.$bar.addClass("oo-ui-toolbar-bar").append(this.$group,'<div style="clear:both"></div>'),this.$element.addClass("oo-ui-toolbar oo-ui-toolbar-position-"+this.position).append(this.$bar),this.$overlay.append(this.$popups)},OO.inheritClass(OO.ui.Toolbar,OO.ui.Element),OO.mixinClass(OO.ui.Toolbar,OO.EventEmitter),OO.mixinClass(OO.ui.Toolbar,OO.ui.mixin.GroupElement),OO.ui.Toolbar.prototype.getToolFactory=function(){return this.toolFactory},OO.ui.Toolbar.prototype.getToolGroupFactory=function(){return this.toolGroupFactory},OO.ui.Toolbar.prototype.onPointerDown=function(e){var $closestWidgetToEvent=$(e.target).closest(".oo-ui-widget"),$closestWidgetToToolbar=this.$element.closest(".oo-ui-widget");if(!$closestWidgetToEvent.length||$closestWidgetToEvent[0]===$closestWidgetToToolbar[0])return!1},OO.ui.Toolbar.prototype.onWindowResize=function(){this.$element.add(this.$popups).toggleClass("oo-ui-toolbar-narrow",this.$bar[0].clientWidth<=this.getNarrowThreshold())},OO.ui.Toolbar.prototype.getNarrowThreshold=function(){return null===this.narrowThreshold&&(this.narrowThreshold=this.$group[0].offsetWidth+this.$actions[0].offsetWidth),this.narrowThreshold},OO.ui.Toolbar.prototype.initialize=function(){this.initialized||(this.initialized=!0,$(this.getElementWindow()).on("resize",this.onWindowResizeHandler),this.onWindowResize())},OO.ui.Toolbar.prototype.setup=function(groups){var i,len,type,toolGroup,groupConfig,items=[];for(this.reset(),i=0,len=groups.length;i<len;i++)"*"===(groupConfig=groups[i]).include&&(void 0===groupConfig.type&&(groupConfig.type="list"),void 0===groupConfig.label&&(groupConfig.label=OO.ui.msg("ooui-toolbar-more"))),type=this.getToolGroupFactory().lookup(groupConfig.type)?groupConfig.type:"bar",toolGroup=this.getToolGroupFactory().create(type,this,groupConfig),items.push(toolGroup),this.groupsByName[groupConfig.name]=toolGroup,toolGroup.connect(this,{active:"onToolGroupActive"});this.addItems(items)},OO.ui.Toolbar.prototype.onToolGroupActive=function(active){active?(this.activeToolGroups++,1===this.activeToolGroups&&this.emit("active",!0)):(this.activeToolGroups--,0===this.activeToolGroups&&this.emit("active",!1))},OO.ui.Toolbar.prototype.getToolGroupByName=function(name){return this.groupsByName[name]||null},OO.ui.Toolbar.prototype.reset=function(){var i,len;for(this.groupsByName={},this.tools={},i=0,len=this.items.length;i<len;i++)this.items[i].destroy();this.clearItems()},OO.ui.Toolbar.prototype.destroy=function(){$(this.getElementWindow()).off("resize",this.onWindowResizeHandler),this.reset(),this.$element.remove()},OO.ui.Toolbar.prototype.isToolAvailable=function(name){return!this.tools[name]},OO.ui.Toolbar.prototype.reserveTool=function(tool){this.tools[tool.getName()]=tool},OO.ui.Toolbar.prototype.releaseTool=function(tool){delete this.tools[tool.getName()]},OO.ui.Toolbar.prototype.getToolAccelerator=function(){},OO.ui.Tool=function OoUiTool(toolGroup,config){OO.isPlainObject(toolGroup)&&void 0===config&&(toolGroup=(config=toolGroup).toolGroup),config=config||{},OO.ui.Tool.parent.call(this,config),this.toolGroup=toolGroup,this.toolbar=this.toolGroup.getToolbar(),this.active=!1,this.$title=$("<span>"),this.$accel=$("<span>"),this.$link=$("<a>"),this.title=null,this.checkIcon=new OO.ui.IconWidget({icon:"check",classes:["oo-ui-tool-checkIcon"]}),OO.ui.mixin.IconElement.call(this,config),OO.ui.mixin.FlaggedElement.call(this,config),OO.ui.mixin.TabIndexedElement.call(this,$.extend({$tabIndexed:this.$link},config)),this.toolbar.connect(this,{updateState:"onUpdateState"}),this.$title.addClass("oo-ui-tool-title"),this.$accel.addClass("oo-ui-tool-accel").prop({dir:"ltr",lang:"en"}),this.$link.addClass("oo-ui-tool-link").append(this.checkIcon.$element,this.$icon,this.$title,this.$accel).attr("role","button"),OO.ui.isMobile()||this.$link.append(this.$accel),this.$element.data("oo-ui-tool",this).addClass("oo-ui-tool").addClass("oo-ui-tool-name-"+this.constructor.static.name.replace(/^([^\/]+)\/([^\/]+).*$/,"$1-$2")).toggleClass("oo-ui-tool-with-label",this.constructor.static.displayBothIconAndLabel).append(this.$link),this.setTitle(config.title||this.constructor.static.title)},OO.inheritClass(OO.ui.Tool,OO.ui.Widget),OO.mixinClass(OO.ui.Tool,OO.ui.mixin.IconElement),OO.mixinClass(OO.ui.Tool,OO.ui.mixin.FlaggedElement),OO.mixinClass(OO.ui.Tool,OO.ui.mixin.TabIndexedElement),OO.ui.Tool.static.tagName="span",OO.ui.Tool.static.name="",OO.ui.Tool.static.group="",OO.ui.Tool.static.title="",OO.ui.Tool.static.displayBothIconAndLabel=!1,OO.ui.Tool.static.autoAddToCatchall=!0,OO.ui.Tool.static.autoAddToGroup=!0,OO.ui.Tool.static.isCompatibleWith=function(){return!1},OO.ui.Tool.prototype.onUpdateState=null,OO.ui.Tool.prototype.onSelect=null,OO.ui.Tool.prototype.isActive=function(){return this.active},OO.ui.Tool.prototype.setActive=function(state){this.active=!!state,this.$element.toggleClass("oo-ui-tool-active",this.active),this.updateThemeClasses()},OO.ui.Tool.prototype.setTitle=function(title){return this.title=OO.ui.resolveMsg(title),this.updateTitle(),this},OO.ui.Tool.prototype.getTitle=function(){return this.title},OO.ui.Tool.prototype.getName=function(){return this.constructor.static.name},OO.ui.Tool.prototype.updateTitle=function(){var titleTooltips=this.toolGroup.constructor.static.titleTooltips,accelTooltips=this.toolGroup.constructor.static.accelTooltips,accel=this.toolbar.getToolAccelerator(this.constructor.static.name),tooltipParts=[];this.$title.text(this.title),this.$accel.text(accel),titleTooltips&&"string"==typeof this.title&&this.title.length&&tooltipParts.push(this.title),accelTooltips&&"string"==typeof accel&&accel.length&&tooltipParts.push(accel),tooltipParts.length?this.$link.attr("title",tooltipParts.join(" ")):this.$link.removeAttr("title")},OO.ui.Tool.prototype.setIcon=function(icon){return OO.ui.mixin.IconElement.prototype.setIcon.call(this,icon),this.$element.toggleClass("oo-ui-tool-with-icon",!!this.icon),this},OO.ui.Tool.prototype.destroy=function(){this.toolbar.disconnect(this),this.$element.remove()},OO.ui.ToolGroup=function OoUiToolGroup(toolbar,config){OO.isPlainObject(toolbar)&&void 0===config&&(toolbar=(config=toolbar).toolbar),config=config||{},OO.ui.ToolGroup.parent.call(this,config),OO.ui.mixin.GroupElement.call(this,config),this.toolbar=toolbar,this.tools={},this.pressed=null,this.autoDisabled=!1,this.include=config.include||[],this.exclude=config.exclude||[],this.promote=config.promote||[],this.demote=config.demote||[],this.onDocumentMouseKeyUpHandler=this.onDocumentMouseKeyUp.bind(this),this.$group.on({mousedown:this.onMouseKeyDown.bind(this),mouseup:this.onMouseKeyUp.bind(this),keydown:this.onMouseKeyDown.bind(this),keyup:this.onMouseKeyUp.bind(this),focus:this.onMouseOverFocus.bind(this),blur:this.onMouseOutBlur.bind(this),mouseover:this.onMouseOverFocus.bind(this),mouseout:this.onMouseOutBlur.bind(this)}),this.toolbar.getToolFactory().connect(this,{register:"onToolFactoryRegister"}),this.aggregate({disable:"itemDisable"}),this.connect(this,{itemDisable:"updateDisabled",disable:"onDisable"}),this.$group.addClass("oo-ui-toolGroup-tools"),this.$element.addClass("oo-ui-toolGroup").append(this.$group),this.onDisable(this.isDisabled()),this.populate()},OO.inheritClass(OO.ui.ToolGroup,OO.ui.Widget),OO.mixinClass(OO.ui.ToolGroup,OO.ui.mixin.GroupElement),OO.ui.ToolGroup.static.titleTooltips=!1,OO.ui.ToolGroup.static.accelTooltips=!1,OO.ui.ToolGroup.static.autoDisable=!0,OO.ui.ToolGroup.static.name=null,OO.ui.ToolGroup.prototype.isDisabled=function(){return this.autoDisabled||OO.ui.ToolGroup.parent.prototype.isDisabled.apply(this,arguments)},OO.ui.ToolGroup.prototype.updateDisabled=function(){var i,allDisabled=!0;if(this.constructor.static.autoDisable){for(i=this.items.length-1;i>=0;i--)if(!this.items[i].isDisabled()){allDisabled=!1;break}this.autoDisabled=allDisabled}OO.ui.ToolGroup.parent.prototype.updateDisabled.apply(this,arguments)},OO.ui.ToolGroup.prototype.onDisable=function(isDisabled){this.$group.toggleClass("oo-ui-toolGroup-disabled-tools",isDisabled),this.$group.toggleClass("oo-ui-toolGroup-enabled-tools",!isDisabled)},OO.ui.ToolGroup.prototype.onMouseKeyDown=function(e){if(!this.isDisabled()&&(e.which===OO.ui.MouseButtons.LEFT||e.which===OO.ui.Keys.SPACE||e.which===OO.ui.Keys.ENTER)&&(this.pressed=this.findTargetTool(e),this.pressed))return this.pressed.setActive(!0),this.getElementDocument().addEventListener("mouseup",this.onDocumentMouseKeyUpHandler,!0),this.getElementDocument().addEventListener("keyup",this.onDocumentMouseKeyUpHandler,!0),!1},OO.ui.ToolGroup.prototype.onDocumentMouseKeyUp=function(e){this.getElementDocument().removeEventListener("mouseup",this.onDocumentMouseKeyUpHandler,!0),this.getElementDocument().removeEventListener("keyup",this.onDocumentMouseKeyUpHandler,!0),this.onMouseKeyUp(e)},OO.ui.ToolGroup.prototype.onMouseKeyUp=function(e){var tool=this.findTargetTool(e);this.isDisabled()||!this.pressed||this.pressed!==tool||e.which!==OO.ui.MouseButtons.LEFT&&e.which!==OO.ui.Keys.SPACE&&e.which!==OO.ui.Keys.ENTER||(this.pressed.onSelect(),this.pressed=null,e.preventDefault(),e.stopPropagation()),this.pressed=null},OO.ui.ToolGroup.prototype.onMouseOverFocus=function(e){var tool=this.findTargetTool(e);this.pressed&&this.pressed===tool&&this.pressed.setActive(!0)},OO.ui.ToolGroup.prototype.onMouseOutBlur=function(e){var tool=this.findTargetTool(e);this.pressed&&this.pressed===tool&&this.pressed.setActive(!1)},OO.ui.ToolGroup.prototype.findTargetTool=function(e){var tool,$item=$(e.target).closest(".oo-ui-tool-link");return $item.length&&(tool=$item.parent().data("oo-ui-tool")),tool&&!tool.isDisabled()?tool:null},OO.ui.ToolGroup.prototype.onToolFactoryRegister=function(){this.populate()},OO.ui.ToolGroup.prototype.getToolbar=function(){return this.toolbar},OO.ui.ToolGroup.prototype.populate=function(){var i,len,name,tool,toolFactory=this.toolbar.getToolFactory(),names={},add=[],remove=[],list=this.toolbar.getToolFactory().getTools(this.include,this.exclude,this.promote,this.demote);for(i=0,len=list.length;i<len;i++)name=list[i],toolFactory.lookup(name)&&(this.toolbar.isToolAvailable(name)||this.tools[name])&&(this.toolbar.tools[name]=!0,(tool=this.tools[name])||(this.tools[name]=tool=toolFactory.create(name,this),tool.updateTitle()),this.toolbar.reserveTool(tool),add.push(tool),names[name]=!0);for(name in this.tools)names[name]||(this.tools[name].destroy(),this.toolbar.releaseTool(this.tools[name]),remove.push(this.tools[name]),delete this.tools[name]);remove.length&&this.removeItems(remove),add.length?this.$element.removeClass("oo-ui-toolGroup-empty"):this.$element.addClass("oo-ui-toolGroup-empty"),this.addItems(add),this.updateDisabled()},OO.ui.ToolGroup.prototype.destroy=function(){var name;for(name in this.clearItems(),this.toolbar.getToolFactory().disconnect(this),this.tools)this.toolbar.releaseTool(this.tools[name]),this.tools[name].disconnect(this).destroy(),delete this.tools[name];this.$element.remove()},OO.ui.ToolFactory=function OoUiToolFactory(){OO.ui.ToolFactory.parent.call(this)},OO.inheritClass(OO.ui.ToolFactory,OO.Factory),OO.ui.ToolFactory.prototype.getTools=function(include,exclude,promote,demote){var i,len,included,promoted,demoted,auto=[],used={};for(included=OO.simpleArrayDifference(this.extract(include),this.extract(exclude)),promoted=this.extract(promote,used),demoted=this.extract(demote,used),i=0,len=included.length;i<len;i++)used[included[i]]||auto.push(included[i]);return promoted.concat(auto).concat(demoted)},OO.ui.ToolFactory.prototype.extract=function(collection,used){var i,len,item,name,tool,names=[];for(i=0,len=(collection=Array.isArray(collection)?collection:[collection]).length;i<len;i++)if("*"===(item=collection[i]))for(name in this.registry)!(tool=this.registry[name]).static.autoAddToCatchall||used&&used[name]||(names.push(name),used&&(used[name]=!0));else if("string"==typeof item&&(item={name:item}),OO.isPlainObject(item))if(item.group)for(name in this.registry)(tool=this.registry[name]).static.group!==item.group||!tool.static.autoAddToGroup||used&&used[name]||(names.push(name),used&&(used[name]=!0));else!item.name||used&&used[item.name]||(names.push(item.name),used&&(used[item.name]=!0));return names},OO.ui.ToolGroupFactory=function OoUiToolGroupFactory(){var i,l,defaultClasses;for(OO.Factory.call(this),i=0,l=(defaultClasses=this.constructor.static.getDefaultClasses()).length;i<l;i++)this.register(defaultClasses[i])},OO.inheritClass(OO.ui.ToolGroupFactory,OO.Factory),OO.ui.ToolGroupFactory.static.getDefaultClasses=function(){return[OO.ui.BarToolGroup,OO.ui.ListToolGroup,OO.ui.MenuToolGroup]},OO.ui.PopupTool=function OoUiPopupTool(toolGroup,config){OO.isPlainObject(toolGroup)&&void 0===config&&(toolGroup=(config=toolGroup).toolGroup),OO.ui.PopupTool.parent.call(this,toolGroup,config),OO.ui.mixin.PopupElement.call(this,config),this.popup.connect(this,{toggle:"onPopupToggle"}),this.popup.setAutoFlip(!1),this.popup.setPosition("bottom"===toolGroup.getToolbar().position?"above":"below"),this.$element.addClass("oo-ui-popupTool"),this.popup.$element.addClass("oo-ui-popupTool-popup"),this.toolbar.$popups.append(this.popup.$element)},OO.inheritClass(OO.ui.PopupTool,OO.ui.Tool),OO.mixinClass(OO.ui.PopupTool,OO.ui.mixin.PopupElement),OO.ui.PopupTool.prototype.onSelect=function(){return this.isDisabled()||this.popup.toggle(),!1},OO.ui.PopupTool.prototype.onUpdateState=function(){},OO.ui.PopupTool.prototype.onPopupToggle=function(isVisible){this.setActive(isVisible),this.toolGroup.emit("active",isVisible)},OO.ui.ToolGroupTool=function OoUiToolGroupTool(toolGroup,config){OO.isPlainObject(toolGroup)&&void 0===config&&(toolGroup=(config=toolGroup).toolGroup),OO.ui.ToolGroupTool.parent.call(this,toolGroup,config),this.innerToolGroup=this.createGroup(this.constructor.static.groupConfig),this.innerToolGroup.connect(this,{disable:"onToolGroupDisable",active:this.toolGroup.emit.bind(this.toolGroup,"active")}),this.$link.remove(),this.$element.addClass("oo-ui-toolGroupTool").append(this.innerToolGroup.$element)},OO.inheritClass(OO.ui.ToolGroupTool,OO.ui.Tool),OO.ui.ToolGroupTool.static.groupConfig={},OO.ui.ToolGroupTool.prototype.onSelect=function(){return this.innerToolGroup.setActive(!this.innerToolGroup.active),!1},OO.ui.ToolGroupTool.prototype.onToolGroupDisable=function(disabled){this.setDisabled(disabled)},OO.ui.ToolGroupTool.prototype.onUpdateState=function(){this.setActive(!1)},OO.ui.ToolGroupTool.prototype.createGroup=function(group){return"*"===group.include&&void 0===group.label&&(group.label=OO.ui.msg("ooui-toolbar-more")),this.toolbar.getToolGroupFactory().create("list",this.toolbar,group)},OO.ui.BarToolGroup=function OoUiBarToolGroup(toolbar,config){OO.isPlainObject(toolbar)&&void 0===config&&(toolbar=(config=toolbar).toolbar),OO.ui.BarToolGroup.parent.call(this,toolbar,config),this.$element.addClass("oo-ui-barToolGroup"),this.$group.addClass("oo-ui-barToolGroup-tools")},OO.inheritClass(OO.ui.BarToolGroup,OO.ui.ToolGroup),OO.ui.BarToolGroup.static.titleTooltips=!0,OO.ui.BarToolGroup.static.accelTooltips=!0,OO.ui.BarToolGroup.static.name="bar",OO.ui.PopupToolGroup=function OoUiPopupToolGroup(toolbar,config){OO.isPlainObject(toolbar)&&void 0===config&&(toolbar=(config=toolbar).toolbar),config=$.extend({indicator:void 0===config.indicator?"bottom"===toolbar.position?"up":"down":config.indicator},config),OO.ui.PopupToolGroup.parent.call(this,toolbar,config),this.active=!1,this.dragging=!1,this.onPopupDocumentMouseKeyUpHandler=this.onPopupDocumentMouseKeyUp.bind(this),this.$handle=$("<span>"),OO.ui.mixin.IconElement.call(this,config),OO.ui.mixin.IndicatorElement.call(this,config),OO.ui.mixin.LabelElement.call(this,config),OO.ui.mixin.TitledElement.call(this,config),OO.ui.mixin.FlaggedElement.call(this,config),OO.ui.mixin.ClippableElement.call(this,$.extend({$clippable:this.$group},config)),OO.ui.mixin.FloatableElement.call(this,$.extend({$floatable:this.$group,$floatableContainer:this.$handle,hideWhenOutOfView:!1,verticalPosition:"bottom"===this.toolbar.position?"above":"below"},config)),OO.ui.mixin.TabIndexedElement.call(this,$.extend({$tabIndexed:this.$handle},config)),this.$handle.on({keydown:this.onHandleMouseKeyDown.bind(this),keyup:this.onHandleMouseKeyUp.bind(this),mousedown:this.onHandleMouseKeyDown.bind(this),mouseup:this.onHandleMouseKeyUp.bind(this)}),this.$handle.addClass("oo-ui-popupToolGroup-handle").attr("role","button").append(this.$icon,this.$label,this.$indicator),void 0!==config.header&&this.$group.prepend($("<span>").addClass("oo-ui-popupToolGroup-header").text(config.header)),this.$element.addClass("oo-ui-popupToolGroup").prepend(this.$handle),this.$group.addClass("oo-ui-popupToolGroup-tools"),this.toolbar.$popups.append(this.$group)},OO.inheritClass(OO.ui.PopupToolGroup,OO.ui.ToolGroup),OO.mixinClass(OO.ui.PopupToolGroup,OO.ui.mixin.IconElement),OO.mixinClass(OO.ui.PopupToolGroup,OO.ui.mixin.IndicatorElement),OO.mixinClass(OO.ui.PopupToolGroup,OO.ui.mixin.LabelElement),OO.mixinClass(OO.ui.PopupToolGroup,OO.ui.mixin.TitledElement),OO.mixinClass(OO.ui.PopupToolGroup,OO.ui.mixin.FlaggedElement),OO.mixinClass(OO.ui.PopupToolGroup,OO.ui.mixin.ClippableElement),OO.mixinClass(OO.ui.PopupToolGroup,OO.ui.mixin.FloatableElement),OO.mixinClass(OO.ui.PopupToolGroup,OO.ui.mixin.TabIndexedElement),OO.ui.PopupToolGroup.prototype.setDisabled=function(){OO.ui.PopupToolGroup.parent.prototype.setDisabled.apply(this,arguments),this.isDisabled()&&this.isElementAttached()&&this.setActive(!1)},OO.ui.PopupToolGroup.prototype.onPopupDocumentMouseKeyUp=function(e){var $target=$(e.target);$target.closest(".oo-ui-popupToolGroup")[0]!==this.$element[0]&&$target.closest(".oo-ui-popupToolGroup-tools")[0]!==this.$group[0]&&this.setActive(!1)},OO.ui.PopupToolGroup.prototype.onMouseKeyUp=function(e){return this.isDisabled()||!this.pressed||this.pressed!==this.findTargetTool(e)||e.which!==OO.ui.MouseButtons.LEFT&&e.which!==OO.ui.Keys.SPACE&&e.which!==OO.ui.Keys.ENTER||this.setActive(!1),OO.ui.PopupToolGroup.parent.prototype.onMouseKeyUp.call(this,e)},OO.ui.PopupToolGroup.prototype.onMouseKeyDown=function(e){var $focused,$firstFocusable,$lastFocusable;if(!this.isDisabled()&&e.which===OO.ui.Keys.TAB){if($focused=$(document.activeElement),$firstFocusable=OO.ui.findFocusable(this.$group),$focused[0]===$firstFocusable[0]&&e.shiftKey)return this.$handle.trigger("focus"),!1;$lastFocusable=OO.ui.findFocusable(this.$group,!0),$focused[0]!==$lastFocusable[0]||e.shiftKey||(this.$handle.trigger("focus"),this.setActive(!1))}return OO.ui.PopupToolGroup.parent.prototype.onMouseKeyDown.call(this,e)},OO.ui.PopupToolGroup.prototype.onHandleMouseKeyUp=function(e){if(!this.isDisabled()&&(e.which===OO.ui.MouseButtons.LEFT||e.which===OO.ui.Keys.SPACE||e.which===OO.ui.Keys.ENTER))return!1},OO.ui.PopupToolGroup.prototype.onHandleMouseKeyDown=function(e){var $focusable;if(!this.isDisabled()){if(e.which===OO.ui.Keys.TAB&&!e.shiftKey&&($focusable=OO.ui.findFocusable(this.$group)).length)return $focusable.trigger("focus"),!1;if(e.which===OO.ui.MouseButtons.LEFT||e.which===OO.ui.Keys.SPACE||e.which===OO.ui.Keys.ENTER)return this.setActive(!this.active),!1}},OO.ui.PopupToolGroup.prototype.isActive=function(){return this.active},OO.ui.PopupToolGroup.prototype.setActive=function(value){var containerWidth,containerLeft;value=!!value,this.active!==value&&(this.active=value,value?(this.getElementDocument().addEventListener("mouseup",this.onPopupDocumentMouseKeyUpHandler,!0),this.getElementDocument().addEventListener("keyup",this.onPopupDocumentMouseKeyUpHandler,!0),this.$clippable.css("left",""),this.$element.addClass("oo-ui-popupToolGroup-active"),this.$group.addClass("oo-ui-popupToolGroup-active-tools"),this.togglePositioning(!0),this.toggleClipping(!0),this.setHorizontalPosition("start"),(this.isClippedHorizontally()||this.isFloatableOutOfView())&&this.setHorizontalPosition("end"),(this.isClippedHorizontally()||this.isFloatableOutOfView())&&(containerWidth=this.$clippableScrollableContainer.width(),containerLeft=this.$clippableScrollableContainer[0]===document.documentElement?0:this.$clippableScrollableContainer.offset().left,this.toggleClipping(!1),this.setHorizontalPosition("start"),this.$clippable.css({"margin-left":-(this.$element.offset().left-containerLeft),width:containerWidth}))):(this.getElementDocument().removeEventListener("mouseup",this.onPopupDocumentMouseKeyUpHandler,!0),this.getElementDocument().removeEventListener("keyup",this.onPopupDocumentMouseKeyUpHandler,!0),this.$element.removeClass("oo-ui-popupToolGroup-active"),this.$group.removeClass("oo-ui-popupToolGroup-active-tools"),this.togglePositioning(!1),this.toggleClipping(!1)),this.emit("active",this.active),this.updateThemeClasses())},OO.ui.ListToolGroup=function OoUiListToolGroup(toolbar,config){OO.isPlainObject(toolbar)&&void 0===config&&(toolbar=(config=toolbar).toolbar),config=config||{},this.allowCollapse=config.allowCollapse,this.forceExpand=config.forceExpand,this.expanded=void 0!==config.expanded&&config.expanded,this.collapsibleTools=[],OO.ui.ListToolGroup.parent.call(this,toolbar,config),this.$element.addClass("oo-ui-listToolGroup"),this.$group.addClass("oo-ui-listToolGroup-tools")},OO.inheritClass(OO.ui.ListToolGroup,OO.ui.PopupToolGroup),OO.ui.ListToolGroup.static.name="list",OO.ui.ListToolGroup.prototype.populate=function(){var i,len,allowCollapse=[];for(OO.ui.ListToolGroup.parent.prototype.populate.call(this),void 0!==this.allowCollapse?allowCollapse=this.allowCollapse:void 0!==this.forceExpand&&(allowCollapse=OO.simpleArrayDifference(Object.keys(this.tools),this.forceExpand)),this.collapsibleTools=[],i=0,len=allowCollapse.length;i<len;i++)void 0!==this.tools[allowCollapse[i]]&&this.collapsibleTools.push(this.tools[allowCollapse[i]]);this.$group.append(this.getExpandCollapseTool().$element),this.getExpandCollapseTool().toggle(0!==this.collapsibleTools.length),this.updateCollapsibleState()},OO.ui.ListToolGroup.prototype.getExpandCollapseTool=function(){var ExpandCollapseTool;return void 0===this.expandCollapseTool&&(ExpandCollapseTool=function(){ExpandCollapseTool.parent.apply(this,arguments)},OO.inheritClass(ExpandCollapseTool,OO.ui.Tool),ExpandCollapseTool.prototype.onSelect=function(){this.toolGroup.expanded=!this.toolGroup.expanded,this.toolGroup.updateCollapsibleState(),this.setActive(!1)},ExpandCollapseTool.prototype.onUpdateState=function(){},ExpandCollapseTool.static.name="more-fewer",this.expandCollapseTool=new ExpandCollapseTool(this)),this.expandCollapseTool},OO.ui.ListToolGroup.prototype.onMouseKeyUp=function(e){return!$(e.target).closest(".oo-ui-tool-name-more-fewer").length||e.which!==OO.ui.MouseButtons.LEFT&&e.which!==OO.ui.Keys.SPACE&&e.which!==OO.ui.Keys.ENTER?OO.ui.ListToolGroup.parent.prototype.onMouseKeyUp.call(this,e):OO.ui.ListToolGroup.parent.parent.prototype.onMouseKeyUp.call(this,e)},OO.ui.ListToolGroup.prototype.updateCollapsibleState=function(){var i,icon,len;for(icon="bottom"!==this.toolbar.position?this.expanded?"collapse":"expand":this.expanded?"expand":"collapse",this.getExpandCollapseTool().setIcon(icon).setTitle(OO.ui.msg(this.expanded?"ooui-toolgroup-collapse":"ooui-toolgroup-expand")),i=0,len=this.collapsibleTools.length;i<len;i++)this.collapsibleTools[i].toggle(this.expanded);this.clip()},OO.ui.MenuToolGroup=function OoUiMenuToolGroup(toolbar,config){OO.isPlainObject(toolbar)&&void 0===config&&(toolbar=(config=toolbar).toolbar),config=config||{},OO.ui.MenuToolGroup.parent.call(this,toolbar,config),this.toolbar.connect(this,{updateState:"onUpdateState"}),this.$element.addClass("oo-ui-menuToolGroup"),this.$group.addClass("oo-ui-menuToolGroup-tools")},OO.inheritClass(OO.ui.MenuToolGroup,OO.ui.PopupToolGroup),OO.ui.MenuToolGroup.static.name="menu",OO.ui.MenuToolGroup.prototype.onUpdateState=function(){var name,labelTexts=[];for(name in this.tools)this.tools[name].isActive()&&labelTexts.push(this.tools[name].getTitle());this.setLabel(labelTexts.join(", ")||" ")}}(OO)},,function(module,exports){module.exports=function parseSaveError(data,code){var warning;if(code)return"readonly"===code?{type:"readonly",details:data.error}:"editconflict"===code?{type:"editconflict",details:data.error}:{type:"error",details:"http"};if(data){if(data.error)return{type:"error",details:data.error.code};if(data.edit&&data.edit.captcha)return{type:"captcha",details:data.edit.captcha};if(data.edit&&data.edit.code)return code=data.edit.code,warning=data.edit.warning,/^abusefilter-warning/.test(code)?{type:"abusefilter",details:{type:"warning",message:warning}}:/^abusefilter-disallow/.test(code)?{type:"abusefilter",details:{type:"disallow",message:warning}}:/^abusefilter/.test(code)?{type:"abusefilter",details:{type:"other",message:warning}}:{type:"error",details:code}}return{type:"error",details:"unknown"}}},function(module,exports,__webpack_require__){__webpack_require__(9),module.exports=function($body){function isNonLeadParagraph(node){var $coords;if(function isNotEmptyNode(node){return/\S/.test(node.textContent)}(node)){if(!($coords=$(node).find("span#coordinates")).length)return!1;if(node.textContent)return node.textContent===$coords[0].textContent}return!0}var $paragraphs,i,node;for($paragraphs=$body.children("p"),i=0;i<$paragraphs.length;i++)if(!isNonLeadParagraph(node=$paragraphs[i]))return node;return null}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_src_mobile_startup_headers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(28),_src_mobile_startup_headers__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_src_mobile_startup_headers__WEBPACK_IMPORTED_MODULE_1__),_src_mobile_startup_Button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(12),_src_mobile_startup_Button__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_src_mobile_startup_Button__WEBPACK_IMPORTED_MODULE_2__),_src_mobile_startup_icons__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(32),_src_mobile_startup_icons__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_src_mobile_startup_icons__WEBPACK_IMPORTED_MODULE_3__);__webpack_require__(206),__webpack_require__(319);Object(_storybook_html__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("headers").add("header",function(){return _src_mobile_startup_headers__WEBPACK_IMPORTED_MODULE_1___default.a.header("Heading",[new _src_mobile_startup_Button__WEBPACK_IMPORTED_MODULE_2___default.a({tagName:"button",additionalClassNames:"continue",label:"continue"})])}).add("header (with additional class and cancel)",function(){return _src_mobile_startup_headers__WEBPACK_IMPORTED_MODULE_1___default.a.header("Heading",[new _src_mobile_startup_Button__WEBPACK_IMPORTED_MODULE_2___default.a({tagName:"button",label:"continue"})],_src_mobile_startup_icons__WEBPACK_IMPORTED_MODULE_3___default.a.cancel(),"heading--class")}).add("formHeader",function(){return _src_mobile_startup_headers__WEBPACK_IMPORTED_MODULE_1___default.a.formHeader('<div class="overlay-title">\n\t<form>\n\t\t<input style="width:99%;height:40px;" value="Remember to use .overlay-title when constructing formHeaders">\n\t</form>\n</div>',[new _src_mobile_startup_Button__WEBPACK_IMPORTED_MODULE_2___default.a({tagName:"button",label:"continue"})])}).add("save",function(){return _src_mobile_startup_headers__WEBPACK_IMPORTED_MODULE_1___default.a.saveHeader("Save?")}).add("saving",function(){var heading=_src_mobile_startup_headers__WEBPACK_IMPORTED_MODULE_1___default.a.savingHeader("Saving is hidden by default");return heading.classList.remove("hidden"),heading})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_src_mobile_languages_structured_LanguageSearcher__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(152),_src_mobile_languages_structured_LanguageSearcher__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_src_mobile_languages_structured_LanguageSearcher__WEBPACK_IMPORTED_MODULE_2__),_data__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__(325),__webpack_require__(86),__webpack_require__(145),__webpack_require__(326),__webpack_require__(153));Object(_storybook_html__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("languages").add("LanguageSearcher",function(){return Object(_utils__WEBPACK_IMPORTED_MODULE_1__.a)(new _src_mobile_languages_structured_LanguageSearcher__WEBPACK_IMPORTED_MODULE_2___default.a(_data__WEBPACK_IMPORTED_MODULE_7__.a),"language-overlay overlay visible")})},function(module,exports,__webpack_require__){__webpack_require__(15),__webpack_require__(35),__webpack_require__(53),__webpack_require__(69),__webpack_require__(197),__webpack_require__(54),__webpack_require__(16);var log=mw.log,mfUtils=__webpack_require__(1),rtlLanguages=__webpack_require__(720);module.exports={getDir:function(language){var dir=-1<rtlLanguages.indexOf(language.lang)?"rtl":"ltr";return mfUtils.extend({},language,{dir:dir})},getStructuredLanguages:function(languages,variants,frequentlyUsedLanguages,deviceLanguage){function addLangDir(language){return language.dir?language:(missingDir++,self.getDir(language))}var hasOwn=Object.prototype.hasOwnProperty,maxFrequency=0,minFrequency=0,missingDir=0,suggestedLanguages=[],allLanguages=[],self=this;return(deviceLanguage=function getDeviceLanguageOrParent(languages,deviceLanguage){var parentLanguage,index,hasOwn=Object.prototype.hasOwnProperty,deviceLanguagesWithVariants={};if(deviceLanguage)return-1!==(index=deviceLanguage.indexOf("-"))&&(parentLanguage=deviceLanguage.slice(0,index)),languages.forEach(function(language){(language.lang===parentLanguage||language.lang===deviceLanguage)&&(deviceLanguagesWithVariants[language.lang]=!0)}),hasOwn.call(deviceLanguagesWithVariants,deviceLanguage)?deviceLanguage:hasOwn.call(deviceLanguagesWithVariants,parentLanguage)?parentLanguage:void 0}(languages,deviceLanguage))&&(Object.keys(frequentlyUsedLanguages).forEach(function(language){var frequency=frequentlyUsedLanguages[language];maxFrequency=maxFrequency<frequency?frequency:maxFrequency,minFrequency=minFrequency>frequency?frequency:minFrequency}),frequentlyUsedLanguages[deviceLanguage]=maxFrequency+1),languages.map(addLangDir).forEach(function(language){hasOwn.call(frequentlyUsedLanguages,language.lang)?(language.frequency=frequentlyUsedLanguages[language.lang],suggestedLanguages.push(language)):allLanguages.push(language)}),variants&&variants.map(addLangDir).forEach(function(variant){variant.frequency=hasOwn.call(frequentlyUsedLanguages,variant.lang)?frequentlyUsedLanguages[variant.lang]:minFrequency-1,suggestedLanguages.push(variant)}),suggestedLanguages=suggestedLanguages.sort(function(a,b){return b.frequency-a.frequency}),allLanguages=allLanguages.sort(function(a,b){return a.autonym.toLocaleLowerCase()<b.autonym.toLocaleLowerCase()?-1:1}),log.warn(0==missingDir?"Direction is provided. Please remove handling in getStructuredLanguages":"`dir` attribute was missing from languages. Is T74153 resolved?"),{suggested:suggestedLanguages,all:allLanguages}},getFrequentlyUsedLanguages:function(){var languageMap=mw.storage.get("langMap");return languageMap?JSON.parse(languageMap):{}},saveFrequentlyUsedLanguages:function(languageMap){mw.storage.set("langMap",JSON.stringify(languageMap))},saveLanguageUsageCount:function(languageCode,frequentlyUsedLanguages){var count=frequentlyUsedLanguages[languageCode]||0;count+=1,frequentlyUsedLanguages[languageCode]=100<count?100:count,this.saveFrequentlyUsedLanguages(frequentlyUsedLanguages)}}},function(module,exports){module.exports=["aeb","aeb-arab","ar","arc","arq","arz","azb","bcc","bgn","bqi","ckb","dv","fa","glk","he","khw","kk-arab","kk-cn","ks","ks-arab","ku-arab","lki","lrc","luz","mzn","pnb","ps","sd","sdh","skr","skr-arab","ug","ug-arab","ur","yi"]},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/* GOAL: Upstream all these variables to core */\n/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * System font stack for sans-serif fonts\n *\n * `-apple-system` ('San Francisco') – Support: Safari 9+ macOS and iOS, Firefox macOS\n * `BlinkMacSystemFont` ('San Francisco') – Chrome 48+ macOS and iOS\n * `Segoe UI` – Windows Vista & newer\n * `Roboto` – Android 4.0\n * `Lato` – Wikimedia Design choice, OFL licensed\n * `Helvetica, Arial, sans-serif` – (Generic) Web fallback\n * Note that CSS Fonts Module Level 4's `system-ui` value has resulted in unresolved\n * side-effects in certain OS/language combinations and is therefore not included as of now.\n */\n.language-searcher .search-box {\n  display: block;\n}\n.language-searcher .search {\n  box-shadow: none;\n}\n.language-searcher .list-header {\n  font-family: sans-serif;\n  font-weight: normal;\n  letter-spacing: 1px;\n  padding: 2em 1em 0.5em;\n  text-transform: uppercase;\n}\n.language-searcher .site-link-list li {\n  background-color: #fff;\n  padding: 0;\n}\n.language-searcher .site-link-list [dir='rtl'] {\n  text-align: right;\n}\n.language-searcher .site-link-list a {\n  border-top: solid 1px #eaecf0;\n  cursor: pointer;\n  display: block;\n  padding: 0.75em 1em;\n}\n.language-searcher .site-link-list a span {\n  font-size: 0.9em;\n}\n.language-searcher .site-link-list a .autonym,\n.language-searcher .site-link-list a .title {\n  display: block;\n}\n.language-searcher .site-link-list a .autonym {\n  color: #000;\n  font-weight: bold;\n}\n.language-searcher .site-link-list a .title {\n  color: #72777d;\n  padding-top: 0.5em;\n}\n@media all and (min-width: 720px) {\n  .language-searcher .site-link-list {\n    padding-left: 0;\n    padding-right: 0;\n  }\n}\n",""])},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/* GOAL: Upstream all these variables to core */\n/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * System font stack for sans-serif fonts\n *\n * `-apple-system` ('San Francisco') – Support: Safari 9+ macOS and iOS, Firefox macOS\n * `BlinkMacSystemFont` ('San Francisco') – Chrome 48+ macOS and iOS\n * `Segoe UI` – Windows Vista & newer\n * `Roboto` – Android 4.0\n * `Lato` – Wikimedia Design choice, OFL licensed\n * `Helvetica, Arial, sans-serif` – (Generic) Web fallback\n * Note that CSS Fonts Module Level 4's `system-ui` value has resulted in unresolved\n * side-effects in certain OS/language combinations and is therefore not included as of now.\n */\n.list-header {\n  font-weight: bold;\n  font-size: 0.85em;\n  padding-top: 0.5em;\n  padding-bottom: 0.4em;\n  background-color: #eaecf0;\n  color: #72777d;\n}\n",""])},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(7),__webpack_require__(34);var _storybook_html__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_src_mobile_startup_languageOverlay_languageOverlay__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(339),_src_mobile_startup_languageOverlay_languageOverlay__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_src_mobile_startup_languageOverlay_languageOverlay__WEBPACK_IMPORTED_MODULE_3__),_src_mobile_languages_structured_LanguageSearcher__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(152),_src_mobile_languages_structured_LanguageSearcher__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_src_mobile_languages_structured_LanguageSearcher__WEBPACK_IMPORTED_MODULE_4__),_src_mobile_startup_moduleLoaderSingleton__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(39),_src_mobile_startup_moduleLoaderSingleton__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_src_mobile_startup_moduleLoaderSingleton__WEBPACK_IMPORTED_MODULE_5__),_data__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(153);__webpack_require__(325),__webpack_require__(86),__webpack_require__(145),__webpack_require__(326);_src_mobile_startup_moduleLoaderSingleton__WEBPACK_IMPORTED_MODULE_5___default.a.define("mobile.languages.structured/LanguageSearcher",_src_mobile_languages_structured_LanguageSearcher__WEBPACK_IMPORTED_MODULE_4___default.a),Object(_storybook_html__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("languages").add("overlay",function(){var o=_src_mobile_startup_languageOverlay_languageOverlay__WEBPACK_IMPORTED_MODULE_3___default()({getPageLanguages:function(){return Promise.resolve(_data__WEBPACK_IMPORTED_MODULE_6__.a)}});return o.show(),o.$el[0]})},function(module,exports,__webpack_require__){function ModuleLoader(){this._register={}}__webpack_require__(23),__webpack_require__(133),ModuleLoader.prototype={require:function(id){function localRequire(){if(!Object.hasOwnProperty.call(registry,id))throw new Error("MobileFrontend Module not found: "+id);return registry[id]}var module,args,registry=this._register;args=id.split("/");try{return(module=mw.loader.require(args[0]))[args[1]]?module[args[1]]:localRequire()}catch(e){return localRequire()}},define:function(id,obj){var self=this;if(Object.hasOwnProperty.call(this._register,id))throw new Error("Module already exists: "+id);return this._register[id]=obj,{deprecate:function(deprecatedId){self.deprecate(deprecatedId,obj,id)}}},deprecate:function(id,obj,replacement){var msg;replacement&&(msg="Use "+replacement+" instead."),mw.log.deprecate(this._register,id,obj,msg)}},module.exports=ModuleLoader},function(module,exports){module.exports=function getDeviceLanguage(navigator){var lang=navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage;return lang?lang.toLowerCase():void 0}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_src_mobile_mediaViewer_ImageCarousel_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(111),_src_mobile_mediaViewer_ImageCarousel_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_src_mobile_mediaViewer_ImageCarousel_js__WEBPACK_IMPORTED_MODULE_2__),_utils__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(209),__webpack_require__(56));Object(_storybook_html__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("mediaViewer").add("ImageCarousel (empty)",function(){return Object(_utils__WEBPACK_IMPORTED_MODULE_1__.a)(new _src_mobile_mediaViewer_ImageCarousel_js__WEBPACK_IMPORTED_MODULE_2___default.a({thumbnails:[],router:_utils__WEBPACK_IMPORTED_MODULE_4__.b,eventBus:{on:function(){}},gateway:_utils__WEBPACK_IMPORTED_MODULE_4__.a}),null,null,"background: black; padding: 50px;")}).add("ImageCarousel (2 images)",function(){return Object(_utils__WEBPACK_IMPORTED_MODULE_1__.a)(new _src_mobile_mediaViewer_ImageCarousel_js__WEBPACK_IMPORTED_MODULE_2___default.a({title:"File:Bananas.jpg",thumbnails:_utils__WEBPACK_IMPORTED_MODULE_4__.c,router:_utils__WEBPACK_IMPORTED_MODULE_4__.b,eventBus:{on:function(){}},gateway:_utils__WEBPACK_IMPORTED_MODULE_4__.a}),null,null,"background: black; padding: 50px;")})},function(module,exports,__webpack_require__){var sizeBuckets=[320,640,800,1024,1280,1920,2560,2880],actionParams=__webpack_require__(85),util=__webpack_require__(1);function findSizeBucket(size){for(var i=0;size>sizeBuckets[i]&&i<sizeBuckets.length-1;)++i;return sizeBuckets[i]}function ImageGateway(options){this._cache={},this.api=options.api}ImageGateway.prototype.getThumb=function(title){var cachedThumb=this._cache[title],$window=util.getWindow(),imageSizeMultiplier=window.devicePixelRatio&&1<window.devicePixelRatio?window.devicePixelRatio:1;return cachedThumb||(this._cache[title]=this.api.get(actionParams({prop:"imageinfo",titles:title,iiprop:["url","extmetadata"],iiurlwidth:findSizeBucket($window.width()*imageSizeMultiplier),iiurlheight:findSizeBucket($window.height()*imageSizeMultiplier)})).then(function(resp){if(resp.query&&resp.query.pages&&resp.query.pages[0]&&resp.query.pages[0].imageinfo)return resp.query.pages[0].imageinfo[0];throw new Error("The API failed to return any pages matching the titles.")})),this._cache[title]},ImageGateway._findSizeBucket=findSizeBucket,module.exports=ImageGateway},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/* GOAL: Upstream all these variables to core */\n/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * System font stack for sans-serif fonts\n *\n * `-apple-system` ('San Francisco') – Support: Safari 9+ macOS and iOS, Firefox macOS\n * `BlinkMacSystemFont` ('San Francisco') – Chrome 48+ macOS and iOS\n * `Segoe UI` – Windows Vista & newer\n * `Roboto` – Android 4.0\n * `Lato` – Wikimedia Design choice, OFL licensed\n * `Helvetica, Arial, sans-serif` – (Generic) Web fallback\n * Note that CSS Fonts Module Level 4's `system-ui` value has resulted in unresolved\n * side-effects in certain OS/language combinations and is therefore not included as of now.\n */\n/* stylelint-disable selector-no-vendor-prefix, at-rule-no-unknown */\n/* stylelint-enable selector-no-vendor-prefix, at-rule-no-unknown */\n.image-carousel {\n  position: relative;\n  height: 100%;\n}\n.image-carousel .image-wrapper {\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  display: table;\n}\n.image-carousel .image-wrapper .image {\n  display: table-cell;\n  vertical-align: middle;\n  height: 100%;\n  width: 100%;\n}\n.image-carousel img {\n  -webkit-transition: background-color 0s 0.15s ease-in, opacity 0.15s ease-in, -webkit-filter 0.15s ease-in;\n  transition: background-color 0s 0.15s ease-in, opacity 0.15s ease-in, -webkit-filter 0.15s ease-in;\n  transition: background-color 0s 0.15s ease-in, opacity 0.15s ease-in, filter 0.15s ease-in;\n  -webkit-filter: blur(3px);\n  filter: blur(3px);\n  opacity: 0.8;\n  color: transparent;\n  vertical-align: bottom;\n}\n.image-carousel img.ratio-width {\n  width: 100%;\n}\n.image-carousel img.ratio-height {\n  height: 100%;\n}\n.image-carousel .image-loaded {\n  background: #fff;\n  opacity: 1;\n  -webkit-filter: blur(0);\n  filter: blur(0);\n}\n.slider-button {\n  position: absolute;\n  top: 0;\n  min-width: 60px;\n  bottom: 0;\n  z-index: 1;\n}\n.slider-button:before {\n  top: 0;\n}\n.slider-button.prev {\n  left: 0;\n}\n.slider-button.next {\n  right: 0;\n}\n.slider-button > * {\n  -webkit-filter: drop-shadow(0 0 4px rgba(0, 0, 0, 0.8));\n  filter: drop-shadow(0 0 4px rgba(0, 0, 0, 0.8));\n}\n.load-fail-msg {\n  text-align: center;\n  color: #fff;\n  padding: 0 65px;\n}\n.load-fail-msg-icon {\n  margin: 12px auto;\n}\n.load-fail-msg-text {\n  margin: 8px 0;\n}\n.load-fail-msg-link a {\n  color: #36c;\n}\n.image-details {\n  display: none;\n  z-index: 2;\n  bottom: 0;\n  height: auto;\n  max-height: 50%;\n  position: fixed;\n  width: 100%;\n  padding: 8px 10px;\n  margin: 0;\n  background: #fff;\n  overflow-y: auto;\n  border-top: 1px solid #c8ccd1;\n}\n.image-details.is-visible {\n  display: block;\n}\n.image-details .button {\n  float: right;\n}\n",""])},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_src_mobile_mediaViewer_LoadErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(214),_src_mobile_mediaViewer_LoadErrorMessage_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_src_mobile_mediaViewer_LoadErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__);__webpack_require__(209);Object(_storybook_html__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("mediaViewer").add("LoadErrorMessage",function(){return Object(_utils__WEBPACK_IMPORTED_MODULE_1__.a)(new _src_mobile_mediaViewer_LoadErrorMessage_js__WEBPACK_IMPORTED_MODULE_2___default.a({retryPath:"#/retry"}),null,null,"background: black; padding: 50px;")})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_src_mobile_startup_mediaViewer_overlay__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(340),_src_mobile_startup_mediaViewer_overlay__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_src_mobile_startup_mediaViewer_overlay__WEBPACK_IMPORTED_MODULE_2__),_src_mobile_mediaViewer_ImageCarousel_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(111),_src_mobile_mediaViewer_ImageCarousel_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_src_mobile_mediaViewer_ImageCarousel_js__WEBPACK_IMPORTED_MODULE_3__),_src_mobile_startup_moduleLoaderSingleton__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__(731),__webpack_require__(209),__webpack_require__(39)),_src_mobile_startup_moduleLoaderSingleton__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_src_mobile_startup_moduleLoaderSingleton__WEBPACK_IMPORTED_MODULE_6__),_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(56);_src_mobile_startup_moduleLoaderSingleton__WEBPACK_IMPORTED_MODULE_6___default.a.define("mobile.mediaViewer",{ImageCarousel:_src_mobile_mediaViewer_ImageCarousel_js__WEBPACK_IMPORTED_MODULE_3___default.a}),Object(_storybook_html__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("mediaViewer").add("overlay",function(){var mOverlay=_src_mobile_startup_mediaViewer_overlay__WEBPACK_IMPORTED_MODULE_2___default()({title:"File:Bananas.jpg",thumbnails:_utils__WEBPACK_IMPORTED_MODULE_7__.c,router:_utils__WEBPACK_IMPORTED_MODULE_7__.b,eventBus:{on:function(){}},gateway:_utils__WEBPACK_IMPORTED_MODULE_7__.a});return mOverlay.show(),Object(_utils__WEBPACK_IMPORTED_MODULE_1__.a)(mOverlay,"overlay-enabled")})},function(module,exports,__webpack_require__){var content=__webpack_require__(732);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/* GOAL: Upstream all these variables to core */\n/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * System font stack for sans-serif fonts\n *\n * `-apple-system` ('San Francisco') – Support: Safari 9+ macOS and iOS, Firefox macOS\n * `BlinkMacSystemFont` ('San Francisco') – Chrome 48+ macOS and iOS\n * `Segoe UI` – Windows Vista & newer\n * `Roboto` – Android 4.0\n * `Lato` – Wikimedia Design choice, OFL licensed\n * `Helvetica, Arial, sans-serif` – (Generic) Web fallback\n * Note that CSS Fonts Module Level 4's `system-ui` value has resulted in unresolved\n * side-effects in certain OS/language combinations and is therefore not included as of now.\n */\n/* stylelint-disable selector-no-vendor-prefix, at-rule-no-unknown */\n/* stylelint-enable selector-no-vendor-prefix, at-rule-no-unknown */\n.overlay.media-viewer {\n  background: #000;\n  padding-top: 0;\n}\n.overlay.media-viewer .overlay-content {\n  height: 100%;\n  width: 100%;\n  margin: 0;\n  max-width: none;\n}\n.overlay.media-viewer .header-container {\n  background: transparent;\n  border-bottom: 0;\n}\n.overlay.media-viewer .main {\n  height: 100%;\n  position: relative;\n  width: 100%;\n}\n.overlay.media-viewer .cancel {\n  position: absolute;\n  right: 0;\n  top: 10px;\n  z-index: 2;\n}\n",""])},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_src_mobile_startup_MessageBox__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(88),_src_mobile_startup_MessageBox__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_src_mobile_startup_MessageBox__WEBPACK_IMPORTED_MODULE_1__);__webpack_require__(327);Object(_storybook_html__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("messagebox").add("MessageBox (error)",function(){return new _src_mobile_startup_MessageBox__WEBPACK_IMPORTED_MODULE_1___default.a({heading:"Bad error",className:"errorbox",msg:"Oh no <strong>everything</strong> is broken!"}).$el[0]}).add("MessageBox (warning)",function(){return new _src_mobile_startup_MessageBox__WEBPACK_IMPORTED_MODULE_1___default.a({heading:"Warning",className:"warningbox",msg:"Just to let you know in case you care."}).$el[0]}).add("MessageBox (success)",function(){return new _src_mobile_startup_MessageBox__WEBPACK_IMPORTED_MODULE_1___default.a({heading:"Yes!",className:"successbox",msg:"You did it!"}).$el[0]})},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/* GOAL: Upstream all these variables to core */\n/**\n * System font stack for sans-serif fonts\n *\n * `-apple-system` ('San Francisco') – Support: Safari 9+ macOS and iOS, Firefox macOS\n * `BlinkMacSystemFont` ('San Francisco') – Chrome 48+ macOS and iOS\n * `Segoe UI` – Windows Vista & newer\n * `Roboto` – Android 4.0\n * `Lato` – Wikimedia Design choice, OFL licensed\n * `Helvetica, Arial, sans-serif` – (Generic) Web fallback\n * Note that CSS Fonts Module Level 4's `system-ui` value has resulted in unresolved\n * side-effects in certain OS/language combinations and is therefore not included as of now.\n */\n/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n.previewnote p,\n.warningbox,\n.mw-revision {\n  border: 1px solid #c8ccd1;\n  background-color: #eaecf0;\n  color: #222;\n}\n.previewnote p,\n.successbox,\n.errorbox,\n.warningbox,\n.mw-revision {\n  padding-top: 1em;\n  padding-bottom: 1em;\n  margin: 0 0 1em;\n}\n.errorbox {\n  background-color: #fee7e6;\n  color: #000;\n}\n.successbox {\n  background-color: #d5fdf4;\n  color: #000;\n}\n.successbox h2,\n.errorbox h2,\n.warningbox h2,\n.mw-revision h2 {\n  font: bold 100% -apple-system, 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Lato', 'Helvetica', 'Arial', sans-serif;\n  padding: 0;\n  margin: 0 0 0.5em 0;\n}\n.successbox a,\n.errorbox a,\n.warningbox a,\n.mw-revision a {\n  margin-bottom: 1em;\n}\n",""])},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_src_mobile_special_nearby_scripts_nearbyErrorMessage_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(74),_src_mobile_special_nearby_scripts_nearbyErrorMessage_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_src_mobile_special_nearby_scripts_nearbyErrorMessage_js__WEBPACK_IMPORTED_MODULE_1__);__webpack_require__(736),__webpack_require__(327);Object(_storybook_html__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("messagebox").add("nearbyErrorMessage (permission)",function(){return _src_mobile_special_nearby_scripts_nearbyErrorMessage_js__WEBPACK_IMPORTED_MODULE_1___default()("permission").$el[0]}).add("nearbyErrorMessage (location)",function(){return _src_mobile_special_nearby_scripts_nearbyErrorMessage_js__WEBPACK_IMPORTED_MODULE_1___default()("location").$el[0]}).add("nearbyErrorMessage (empty)",function(){return _src_mobile_special_nearby_scripts_nearbyErrorMessage_js__WEBPACK_IMPORTED_MODULE_1___default()("empty").$el[0]}).add("nearbyErrorMessage (http)",function(){return _src_mobile_special_nearby_scripts_nearbyErrorMessage_js__WEBPACK_IMPORTED_MODULE_1___default()("http").$el[0]}).add("nearbyErrorMessage (incompatible)",function(){return _src_mobile_special_nearby_scripts_nearbyErrorMessage_js__WEBPACK_IMPORTED_MODULE_1___default()("incompatible").$el[0]}).add("nearbyErrorMessage (default)",function(){return _src_mobile_special_nearby_scripts_nearbyErrorMessage_js__WEBPACK_IMPORTED_MODULE_1___default()("blah").$el[0]})},function(module,exports,__webpack_require__){var content=__webpack_require__(737);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/* GOAL: Upstream all these variables to core */\n/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * System font stack for sans-serif fonts\n *\n * `-apple-system` ('San Francisco') – Support: Safari 9+ macOS and iOS, Firefox macOS\n * `BlinkMacSystemFont` ('San Francisco') – Chrome 48+ macOS and iOS\n * `Segoe UI` – Windows Vista & newer\n * `Roboto` – Android 4.0\n * `Lato` – Wikimedia Design choice, OFL licensed\n * `Helvetica, Arial, sans-serif` – (Generic) Web fallback\n * Note that CSS Fonts Module Level 4's `system-ui` value has resulted in unresolved\n * side-effects in certain OS/language combinations and is therefore not included as of now.\n */\n.nearby-accept-pending .heading-holder {\n  display: none;\n}\n.page-list {\n  border-top: 1px solid #eaecf0;\n}\n.page-list li .proximity {\n  font-size: 0.8em;\n  text-transform: none;\n}\n.client-js .noscript {\n  display: none;\n}\n#mw-mf-nearby {\n  position: relative;\n}\n#mf-nearby-info-holder {\n  padding: 50px 20px 0;\n  text-align: center;\n}\n#mf-nearby-info-holder .icon {\n  margin: 0 auto 20px;\n  min-width: 9.625em;\n  min-height: 9.625em;\n}\n#mf-nearby-info-holder .icon:before {\n  min-height: 9.625em;\n}\n#mf-nearby-info-holder h3 {\n  font-size: 1em;\n  font-family: -apple-system, 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Lato', 'Helvetica', 'Arial', sans-serif;\n  padding: 0 0 10px;\n}\n#mf-nearby-info-holder .desc {\n  color: #72777d;\n  margin-bottom: 20px;\n}\n",""])},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_src_mobile_init_BetaOptInPanel__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(341),_src_mobile_init_BetaOptInPanel__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_src_mobile_init_BetaOptInPanel__WEBPACK_IMPORTED_MODULE_2__);__webpack_require__(739),__webpack_require__(86);Object(_storybook_html__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("mobile").add("BetaOptInPanel",function(){return Object(_utils__WEBPACK_IMPORTED_MODULE_1__.a)(new _src_mobile_init_BetaOptInPanel__WEBPACK_IMPORTED_MODULE_2___default.a({onCancel:function(){alert("Okay! No worries!")},postUrl:"/w/api.php"}),"content","bodyContent")})},function(module,exports,__webpack_require__){var content=__webpack_require__(740);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/* GOAL: Upstream all these variables to core */\n/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * System font stack for sans-serif fonts\n *\n * `-apple-system` ('San Francisco') – Support: Safari 9+ macOS and iOS, Firefox macOS\n * `BlinkMacSystemFont` ('San Francisco') – Chrome 48+ macOS and iOS\n * `Segoe UI` – Windows Vista & newer\n * `Roboto` – Android 4.0\n * `Lato` – Wikimedia Design choice, OFL licensed\n * `Helvetica, Arial, sans-serif` – (Generic) Web fallback\n * Note that CSS Fonts Module Level 4's `system-ui` value has resulted in unresolved\n * side-effects in certain OS/language combinations and is therefore not included as of now.\n */\n.beta-opt-in-panel {\n  padding-top: 1em;\n  padding-bottom: 1em;\n  background-color: #eaecf0;\n  clear: both;\n  margin-top: 1em;\n  text-align: center;\n  display: none;\n}\n.beta-opt-in-panel.visible {\n  display: block;\n}\n",""])},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_src_mobile_notifications_overlay_list__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(154),_src_mobile_notifications_overlay_list__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_src_mobile_notifications_overlay_list__WEBPACK_IMPORTED_MODULE_1__),_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(155),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3);__webpack_require__(146),__webpack_require__(742);Object(_storybook_html__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("notifications").add("list",function(){var l=_src_mobile_notifications_overlay_list__WEBPACK_IMPORTED_MODULE_1___default()(_utils__WEBPACK_IMPORTED_MODULE_2__.a,new OO.ui.ButtonWidget({icon:"checkAll",title:mw.msg("echo-mark-all-as-read")}),function(){alert("onCountChange")},function(){alert("onListRendered")}),content=document.createElement("div");return content.setAttribute("class","notifications-overlay"),content.appendChild(Object(_utils__WEBPACK_IMPORTED_MODULE_3__.a)(l,"overlay-content")),content})},function(module,exports,__webpack_require__){var content=__webpack_require__(743);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * System font stack for sans-serif fonts\n *\n * `-apple-system` ('San Francisco') – Support: Safari 9+ macOS and iOS, Firefox macOS\n * `BlinkMacSystemFont` ('San Francisco') – Chrome 48+ macOS and iOS\n * `Segoe UI` – Windows Vista & newer\n * `Roboto` – Android 4.0\n * `Lato` – Wikimedia Design choice, OFL licensed\n * `Helvetica, Arial, sans-serif` – (Generic) Web fallback\n * Note that CSS Fonts Module Level 4's `system-ui` value has resulted in unresolved\n * side-effects in certain OS/language combinations and is therefore not included as of now.\n */\n/*\n* FIXME: Use these variables directly from mediawiki-ui-base when available.\n*/\n/**\n * System font stack for monospace fonts, see T221043.\n *\n * `Menlo` – macOS 10.6+\n * `Consolas` – Windows Vista & newer\n * `Liberation Mono` – Fedora, Ubuntu, … OFL licensed\n * `Courier New` – (Generic) web font fallback\n */\n.notifications-overlay .overlay-content {\n  top: 3.375em;\n  bottom: 3.375em;\n}\n.notifications-overlay .overlay-content .mw-echo-ui-notificationsWidget {\n  top: 3.375em;\n}\n.notifications-overlay .overlay-content .mw-echo-ui-notificationItemWidget {\n  border-left: 0;\n  border-right: 0;\n}\n@media all and (min-width: 720px) {\n  .notifications-overlay .mw-echo-notification {\n    padding: 1.75em 3.35em;\n  }\n}\n",""])},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_src_mobile_startup_notifications_overlay__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(342),_src_mobile_startup_notifications_overlay__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_src_mobile_startup_notifications_overlay__WEBPACK_IMPORTED_MODULE_1__),_src_mobile_notifications_overlay_list__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(154),_src_mobile_notifications_overlay_list__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_src_mobile_notifications_overlay_list__WEBPACK_IMPORTED_MODULE_2__),_src_mobile_startup_moduleLoaderSingleton__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(39),_src_mobile_startup_moduleLoaderSingleton__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_src_mobile_startup_moduleLoaderSingleton__WEBPACK_IMPORTED_MODULE_3__),_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(155),_src_mobile_notifications_overlay_NotificationsFilterOverlay__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__(146),__webpack_require__(745),__webpack_require__(343)),_src_mobile_notifications_overlay_NotificationsFilterOverlay__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_src_mobile_notifications_overlay_NotificationsFilterOverlay__WEBPACK_IMPORTED_MODULE_7__);_src_mobile_startup_moduleLoaderSingleton__WEBPACK_IMPORTED_MODULE_3___default.a.define("mobile.notifications.overlay",{list:_src_mobile_notifications_overlay_list__WEBPACK_IMPORTED_MODULE_2___default.a}),Object(_storybook_html__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("notifications").add("overlay",function(){var o=_src_mobile_startup_notifications_overlay__WEBPACK_IMPORTED_MODULE_1___default()(function(){alert("onCountChange")},function(){alert("onNotificationListRendered")},_utils__WEBPACK_IMPORTED_MODULE_4__.a);return o.show(),o.$el[0]}).add("NotificationsFilterOverlay",function(){var o=new _src_mobile_notifications_overlay_NotificationsFilterOverlay__WEBPACK_IMPORTED_MODULE_7___default.a({$notifReadState:$("<div>$notifReadState</div>"),$crossWikiUnreadFilter:$("<div>$crossWikiUnreadFilter</div>")});return o.show(),o.$el[0]})},function(module,exports){
/*!
 * OOUI v0.33.4
 * https://www.mediawiki.org/wiki/OOUI
 *
 * Copyright 2011–2019 OOUI Team and other contributors.
 * Released under the MIT license
 * http://oojs.mit-license.org
 *
 * Date: 2019-07-23T03:23:32Z
 */
!function(OO){"use strict";OO.ui.WikimediaUITheme=function OoUiWikimediaUITheme(){OO.ui.WikimediaUITheme.parent.call(this)},OO.inheritClass(OO.ui.WikimediaUITheme,OO.ui.Theme),OO.ui.WikimediaUITheme.prototype.getElementClasses=function(element){var variant,isFramed,isActive,isToolOrGroup,variants={invert:!1,progressive:!1,destructive:!1,error:!1,warning:!1,success:!1},classes=OO.ui.WikimediaUITheme.parent.prototype.getElementClasses.call(this,element);for(variant in element instanceof OO.ui.IconWidget&&element.$element.hasClass("oo-ui-checkboxInputWidget-checkIcon")?variants.invert=!0:element.supports(["hasFlag"])&&(isFramed=element.supports(["isFramed"])&&element.isFramed(),isActive=element.supports(["isActive"])&&element.isActive(),isToolOrGroup=OO.ui.Tool&&element instanceof OO.ui.Tool||OO.ui.ToolGroup&&element instanceof OO.ui.ToolGroup,isFramed&&(isActive||element.isDisabled()||element.hasFlag("primary"))||isToolOrGroup&&element.hasFlag("primary")?variants.invert=!0:isFramed||!element.isDisabled()||element.hasFlag("invert")?element.isDisabled()||(variants.progressive=element.hasFlag("progressive")||isToolOrGroup&&isActive||(element instanceof OO.ui.MenuOptionWidget||OO.ui.OutlineOptionWidget&&element instanceof OO.ui.OutlineOptionWidget)&&(element.isPressed()||element.isSelected()),variants.destructive=element.hasFlag("destructive"),variants.invert=element.hasFlag("invert"),variants.error=element.hasFlag("error"),variants.warning=element.hasFlag("warning"),variants.success=element.hasFlag("success")):variants.invert=!1),variants)classes[variants[variant]?"on":"off"].push("oo-ui-image-"+variant);return classes},OO.ui.WikimediaUITheme.prototype.getDialogTransitionDuration=function(){return 250},OO.ui.theme=new OO.ui.WikimediaUITheme}(OO)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(7),__webpack_require__(34);var _storybook_html__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_src_mobile_startup_promisedView__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(73),_src_mobile_startup_promisedView__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_src_mobile_startup_promisedView__WEBPACK_IMPORTED_MODULE_3__),_src_mobile_startup_View__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_src_mobile_startup_View__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_src_mobile_startup_View__WEBPACK_IMPORTED_MODULE_4__);__webpack_require__(316);Object(_storybook_html__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("promisedView").add("normal",function(){var element=document.createElement("div"),msg=document.createElement("div"),promise=new Promise(function(resolve){window.setTimeout(function(){msg.parentNode.removeChild(msg),resolve(new _src_mobile_startup_View__WEBPACK_IMPORTED_MODULE_4___default.a({el:$("<div>").text("🍌").css({fontSize:"100px"})}))},5e3)}),view=_src_mobile_startup_promisedView__WEBPACK_IMPORTED_MODULE_3___default()(promise);return msg.textContent="promisedView will load in 5 seconds...",element.appendChild(msg),element.appendChild(view.$el[0]),element})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(7),__webpack_require__(34);var _storybook_html__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3),_src_mobile_startup_search_SearchResultsView__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(215),_src_mobile_startup_search_SearchResultsView__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_src_mobile_startup_search_SearchResultsView__WEBPACK_IMPORTED_MODULE_4__),_src_mobile_startup_search_SearchOverlay__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(344),_src_mobile_startup_search_SearchOverlay__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_src_mobile_startup_search_SearchOverlay__WEBPACK_IMPORTED_MODULE_5__);__webpack_require__(751),__webpack_require__(753);Object(_storybook_html__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("search").add("SearchResultsView",function(){return Object(_utils__WEBPACK_IMPORTED_MODULE_3__.a)(new _src_mobile_startup_search_SearchResultsView__WEBPACK_IMPORTED_MODULE_4___default.a({searchContentLabel:"Want to do a full text search?",noResultsMsg:"No results",searchContentNoResultsMsg:"<strong>Got nothing</strong>. Want to do a full text search?"}),"overlay search-overlay visible")}).add("overlay",function(){var overlay=new _src_mobile_startup_search_SearchOverlay__WEBPACK_IMPORTED_MODULE_5___default.a({gateway:{isCached:function(){return!1},search:function(){return Promise.resolve({})}}});return overlay.show(),Object(_utils__WEBPACK_IMPORTED_MODULE_3__.a)(overlay,"overlay-enabled")})},,function(module,exports,__webpack_require__){__webpack_require__(9),__webpack_require__(15),__webpack_require__(54),__webpack_require__(16);var PageList=__webpack_require__(211),Watchstar=__webpack_require__(750),user=mw.user,util=__webpack_require__(1),Page=__webpack_require__(147),mfExtend=__webpack_require__(10),WatchstarGateway=__webpack_require__(328);function WatchstarPageList(options){this.wsGateway=new WatchstarGateway(options.api),PageList.apply(this,arguments)}mfExtend(WatchstarPageList,PageList,{postRender:function(){var $items,pages,self=this,ids=[],titles=[];return PageList.prototype.postRender.apply(this),$items=this.queryUnitializedItems(),pages=this.parsePagesFromItems($items),Object.keys(pages).forEach(function(title){var id=pages[title];id&&"0"!==id?ids.push(id):titles.push(title)}),this.getPages(ids,titles).then(function(statuses){self.renderItems($items,statuses)})},queryUnitializedItems:function(){return this.$el.find("li:not(.with-watchstar)")},getPages:function(ids,titles){return user.isAnon()?util.Deferred().resolve({}):this.wsGateway.getStatuses(ids,titles)},parsePagesFromItems:function($items){var self=this,pages={};return $items.each(function(_,item){var $item=self.$el.find(item);pages[$item.attr("title")]=$item.data("id")}),pages},renderItems:function($items,statuses){var self=this;user.isAnon()||$items.each(function(_,item){var $item=self.$el.find(item),page=new Page({sections:[],title:$item.attr("title"),id:$item.data("id")}),el=self.parseHTML("<div>").appendTo($item),watched=statuses[page.getTitle()];self._appendWatchstar(el,page,watched),$item.addClass("with-watchstar")})},_appendWatchstar:function(el,page,watched){var watchstar=new Watchstar({api:this.options.api,funnel:this.options.funnel,isAnon:user.isAnon(),isWatched:watched,page:page,el:el});return util.repeatEvent(watchstar,this,"watch"),util.repeatEvent(watchstar,this,"unwatch"),watchstar}}),module.exports=WatchstarPageList},function(module,exports,__webpack_require__){var View=__webpack_require__(6),WatchstarGateway=__webpack_require__(328),icons=__webpack_require__(32),util=__webpack_require__(1),mfExtend=__webpack_require__(10),toast=__webpack_require__(110),CtaDrawer=__webpack_require__(210);function Watchstar(options){View.call(this,util.extend(!0,{className:icons.watchIcon().getClassName(),events:{click:"onStatusToggle"}},options))}mfExtend(Watchstar,View,{defaults:{page:void 0,funnel:"unknown"},ctaDrawerOptions:{content:mw.msg("mobile-frontend-watchlist-cta"),queryParams:{warning:"mobile-frontend-watchlist-purpose",campaign:"mobile_watchPageActionCta",returntoquery:"article_action=watch"},signupQueryParams:{warning:"mobile-frontend-watchlist-signup-action"}},initialize:function(options){var _super=View.prototype.initialize;this._watched=options.isWatched,this.gateway=new WatchstarGateway(options.api),_super.call(this,options)},preRender:function(){this.options.tooltip=this._watched?mw.msg("unwatchthispage"):mw.msg("watchthispage")},postRender:function(){var unwatchedClass=icons.watchIcon().getGlyphClassName(),watchedClass=icons.watchedIcon().getGlyphClassName()+" watched";this.$el.text(this.options.tooltip),!mw.user.isAnon()&&this._watched?this.$el.addClass(watchedClass).removeClass(unwatchedClass):this.$el.addClass(unwatchedClass).removeClass(watchedClass),this.$el.removeClass("hidden")},onStatusToggleAnon:function(){this.drawer||(this.drawer=new CtaDrawer(this.ctaDrawerOptions)),this.drawer.show()},onStatusToggleUser:function(){function stopInterval(){clearInterval(checker)}var checker,self=this,gateway=this.gateway,page=this.options.page,postWatched=!this._watched;checker=setInterval(function(){toast.show(mw.msg("mobile-frontend-watchlist-please-wait"))},1e3),gateway.postStatusesByTitle([page.getTitle()],postWatched).then(function(){stopInterval(),self._watched=postWatched,postWatched?(self.render(),self.emit("watch"),toast.show(mw.msg("mobile-frontend-watchlist-add",page.title))):(self.emit("unwatch"),self.render(),toast.show(mw.msg("mobile-frontend-watchlist-removed",page.title)))},function(){stopInterval(),toast.show(mw.msg("mobile-frontend-watchlist-error"),{type:"error"})})},onStatusToggle:function(ev){ev.preventDefault(),mw.user.isAnon()?this.onStatusToggleAnon.apply(this,arguments):this.onStatusToggleUser.apply(this,arguments)}}),module.exports=Watchstar},function(module,exports,__webpack_require__){var content=__webpack_require__(752);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/* GOAL: Upstream all these variables to core */\n/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * System font stack for sans-serif fonts\n *\n * `-apple-system` ('San Francisco') – Support: Safari 9+ macOS and iOS, Firefox macOS\n * `BlinkMacSystemFont` ('San Francisco') – Chrome 48+ macOS and iOS\n * `Segoe UI` – Windows Vista & newer\n * `Roboto` – Android 4.0\n * `Lato` – Wikimedia Design choice, OFL licensed\n * `Helvetica, Arial, sans-serif` – (Generic) Web fallback\n * Note that CSS Fonts Module Level 4's `system-ui` value has resulted in unresolved\n * side-effects in certain OS/language combinations and is therefore not included as of now.\n */\n.overlay.search-overlay {\n  background: #fff;\n}\n.overlay.search-overlay a.mw-ui-icon {\n  display: inline-block;\n}\n.overlay.search-overlay .spinner-container {\n  background-color: #fff;\n  bottom: 0;\n  display: none;\n  left: 0;\n  opacity: 0.7;\n  right: 0;\n  z-index: 2;\n}\n.overlay.search-overlay .spinner-container .spinner {\n  display: block;\n  left: 50%;\n  margin-left: -1.75em;\n  position: absolute;\n  top: 10%;\n}\n.overlay.search-overlay .search-box {\n  display: block;\n}\n.overlay.search-overlay .results,\n.overlay.search-overlay .search-feedback {\n  background-color: #fff;\n}\n.overlay.search-overlay .overlay-header {\n  background-color: transparent;\n}\n.overlay.search-overlay .header-cancel {\n  display: none;\n}\n.overlay.search-overlay .header-action {\n  width: auto;\n}\n.overlay.search-overlay .header-action button:before {\n  top: auto;\n}\n.overlay.search-overlay .overlay-title {\n  position: relative;\n  padding-left: 15px;\n}\n.overlay.search-overlay .header input {\n  padding-right: 3em;\n}\n.overlay.search-overlay .header input::-ms-clear {\n  display: none;\n}\n.overlay.search-overlay .overlay-content {\n  position: relative;\n  height: 100%;\n  width: 100%;\n}\n.overlay.search-overlay .search-content {\n  border-bottom: 1px solid #c8ccd1;\n  cursor: pointer;\n}\n.overlay.search-overlay .search-content .caption {\n  padding: 1em 0;\n}\n.overlay.search-overlay .search-content.overlay-header {\n  padding: 0;\n}\n.overlay.search-overlay .results {\n  box-shadow: 0 3px 3px 0 rgba(117, 117, 117, 0.3);\n}\n.overlay.search-overlay .results li:last-child {\n  border-bottom: 0;\n}\n.overlay.search-overlay .results h2 {\n  font: inherit;\n}\n.overlay.search-overlay li.page-summary {\n  display: table;\n  height: 70px;\n  width: 100%;\n}\n.overlay.search-overlay li.page-summary .title {\n  display: table-cell;\n  vertical-align: middle;\n}\n.overlay.search-overlay li.page-summary h3 {\n  margin: 0;\n  font-weight: normal;\n}\n.overlay.search-overlay li.page-summary h3 strong {\n  text-decoration: none;\n}\n.overlay.search-overlay li.page-summary .wikidata-description {\n  font-size: 0.8em;\n  margin-top: 0.5em;\n}\n.overlay.search-overlay .search-feedback {\n  box-shadow: 0 3px 3px 0 rgba(117, 117, 117, 0.3);\n  border-top: 1px solid #c8ccd1;\n  font-size: 0.8em;\n  padding: 0.5em 1em;\n}\n.overlay.search-overlay.no-results .search-feedback {\n  border-top: 0;\n}\n@-webkit-keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-webkit-keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n@keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n.animations .overlay.search-overlay.visible {\n  -webkit-animation: fadeIn 0.5s;\n  -moz-animation: fadeIn 0.5s;\n  animation: fadeIn 0.5s;\n}\n.animations .overlay.search-overlay.overlay-ios {\n  -webkit-animation: none;\n  -moz-animation: none;\n  animation: none;\n}\n",""])},function(module,exports,__webpack_require__){var content=__webpack_require__(754);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(5)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * System font stack for sans-serif fonts\n *\n * `-apple-system` ('San Francisco') – Support: Safari 9+ macOS and iOS, Firefox macOS\n * `BlinkMacSystemFont` ('San Francisco') – Chrome 48+ macOS and iOS\n * `Segoe UI` – Windows Vista & newer\n * `Roboto` – Android 4.0\n * `Lato` – Wikimedia Design choice, OFL licensed\n * `Helvetica, Arial, sans-serif` – (Generic) Web fallback\n * Note that CSS Fonts Module Level 4's `system-ui` value has resulted in unresolved\n * side-effects in certain OS/language combinations and is therefore not included as of now.\n */\n/*\n* FIXME: Use these variables directly from mediawiki-ui-base when available.\n*/\n/**\n * System font stack for monospace fonts, see T221043.\n *\n * `Menlo` – macOS 10.6+\n * `Consolas` – Windows Vista & newer\n * `Liberation Mono` – Fedora, Ubuntu, … OFL licensed\n * `Courier New` – (Generic) web font fallback\n */\n.overlay.search-overlay .spinner-container {\n  top: 3.375em;\n}\n.overlay.search-overlay .clear {\n  position: absolute;\n  top: 0.9em;\n  right: 0;\n}\n@media all and (min-width: 720px) {\n  .overlay.search-overlay .search-box {\n    display: table-cell;\n  }\n  .overlay.search-overlay .spinner-container,\n  .overlay.search-overlay .search-content,\n  .overlay.search-overlay .results {\n    width: 23.4375em;\n    margin-left: 13.5625em;\n  }\n  .overlay.search-overlay .overlay-title {\n    width: 23.4375em;\n    padding-left: 13.5625em;\n  }\n  .overlay.search-overlay .spinner-container {\n    left: auto;\n    right: auto;\n  }\n  .overlay.search-overlay ul {\n    width: auto;\n  }\n}\n@media all and (min-width: 1000px) {\n  .overlay.search-overlay .overlay-content {\n    max-width: 995.3px;\n  }\n}\n",""])},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(40);var _storybook_html__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_src_mobile_talk_overlays_AddTopicForm__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(216),_src_mobile_talk_overlays_AddTopicForm__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_src_mobile_talk_overlays_AddTopicForm__WEBPACK_IMPORTED_MODULE_2__);__webpack_require__(148),__webpack_require__(86);Object(_storybook_html__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("talk").add("AddTopicForm",function(){var d=document.createElement("div"),e=document.createElement("p");return d.appendChild(new _src_mobile_talk_overlays_AddTopicForm__WEBPACK_IMPORTED_MODULE_2___default.a({onTextInput:function(subject,body){e.textContent="This demonstrates the onTextInput handler. The text inputted was [".concat(subject,"] ").concat(body)},disabled:!1,subject:"Default",body:"",licenseMsg:"The <strong>mobile</strong> license"}).$el[0]),d.appendChild(e),d})},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(4)(!1)).push([module.i,"/* GOAL: Upstream all these variables to core */\n/**\n * Minimum available screen width at which a device can be considered a mobile device\n * Many older feature phones have screens smaller than this value.\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a tablet\n * The number is currently based on the device width of a Samsung Galaxy S5 mini and is low\n * enough to cover iPad (768px). Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * Minimum available screen width at which a device can be considered a desktop\n * Number is prone to change with new information.\n * @since 1.31\n */\n/**\n * System font stack for sans-serif fonts\n *\n * `-apple-system` ('San Francisco') – Support: Safari 9+ macOS and iOS, Firefox macOS\n * `BlinkMacSystemFont` ('San Francisco') – Chrome 48+ macOS and iOS\n * `Segoe UI` – Windows Vista & newer\n * `Roboto` – Android 4.0\n * `Lato` – Wikimedia Design choice, OFL licensed\n * `Helvetica, Arial, sans-serif` – (Generic) Web fallback\n * Note that CSS Fonts Module Level 4's `system-ui` value has resulted in unresolved\n * side-effects in certain OS/language combinations and is therefore not included as of now.\n */\n.talk-overlay .error {\n  border: 1px solid #d33;\n}\n.talk-overlay .comment {\n  margin: 40px 0 10px 0;\n}\n.talk-overlay .comment .wikitext-editor {\n  margin-top: 1em;\n  border: 1px solid #c8ccd1;\n}\n.talk-overlay .comment button.mw-ui-block {\n  max-width: 10em;\n}\n.talk-overlay .overlay-content {\n  padding-bottom: 3.5em;\n}\n.talk-overlay a {\n  cursor: pointer;\n}\n@media all and (min-width: 720px) {\n  .content.talk-section {\n    margin: 0 auto 0 0;\n  }\n}\n",""])},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(7),__webpack_require__(34);var _storybook_html__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_src_mobile_talk_overlays_TalkSectionAddOverlay__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(345),_src_mobile_talk_overlays_TalkSectionAddOverlay__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_src_mobile_talk_overlays_TalkSectionAddOverlay__WEBPACK_IMPORTED_MODULE_3__);__webpack_require__(148);Object(_storybook_html__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("talk").add("TalkSectionAddOverlay",function(){var overlay=new _src_mobile_talk_overlays_TalkSectionAddOverlay__WEBPACK_IMPORTED_MODULE_3___default.a({api:{get:function(){return Promise.resolve({error:"todo"})}},title:"Talk page",currentPageTitle:"Talk:Talk page",licenseMsg:"this is the license",onSaveComplete:function(){alert("save complete!")},eventBus:{}});return overlay.show(),overlay.$el[0]})},function(module,exports,__webpack_require__){var AddTopicForm=__webpack_require__(216),autosign=__webpack_require__(329);module.exports=function makeAddTopicForm(_ref){var licenseMsg=_ref.licenseMsg,onTextInput=_ref.onTextInput,subject=_ref.subject,body=_ref.body,disabled=_ref.disabled;return new AddTopicForm({licenseMsg:licenseMsg,disabled:disabled,subject:subject,body:body,onTextInput:onTextInput?function(subject,body){body&&(body=autosign(body)),onTextInput.call(this,subject,body)}:void 0})}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(7),__webpack_require__(34);var _storybook_html__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_src_mobile_talk_overlays_TalkSectionOverlay__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(346),_src_mobile_talk_overlays_TalkSectionOverlay__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_src_mobile_talk_overlays_TalkSectionOverlay__WEBPACK_IMPORTED_MODULE_3__),_data__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__(148),__webpack_require__(61));Object(_storybook_html__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("talk").add("TalkSectionOverlay",function(){var overlay=new _src_mobile_talk_overlays_TalkSectionOverlay__WEBPACK_IMPORTED_MODULE_3___default.a({title:"Talk page",currentPageTitle:"Talk:Talk page",licenseMsg:"this is the license",id:_data__WEBPACK_IMPORTED_MODULE_5__.b.id,api:{get:function(){return alert("This should be an onSaveComplete callback but it is not."),Promise.resolve({})},postWithToken:function(){return alert("This should be an onReply callback but it is not."),Promise.resolve({})}},section:_data__WEBPACK_IMPORTED_MODULE_5__.b,eventBus:{}});return overlay.show(),overlay.$el[0]})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(7),__webpack_require__(34);var _storybook_html__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_src_mobile_startup_talk_overlay__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(347),_src_mobile_startup_talk_overlay__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_src_mobile_startup_talk_overlay__WEBPACK_IMPORTED_MODULE_3__),_src_mobile_talk_overlays_talkBoard__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(112),_src_mobile_talk_overlays_talkBoard__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_src_mobile_talk_overlays_talkBoard__WEBPACK_IMPORTED_MODULE_4__),_src_mobile_startup_moduleLoaderSingleton__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(39),_src_mobile_startup_moduleLoaderSingleton__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_src_mobile_startup_moduleLoaderSingleton__WEBPACK_IMPORTED_MODULE_5__),_data__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(61);_src_mobile_startup_moduleLoaderSingleton__WEBPACK_IMPORTED_MODULE_5___default.a.define("mobile.talk.overlays/talkBoard",_src_mobile_talk_overlays_talkBoard__WEBPACK_IMPORTED_MODULE_4___default.a),Object(_storybook_html__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("talk").add("overlay",function(){var talkOverlay=_src_mobile_startup_talk_overlay__WEBPACK_IMPORTED_MODULE_3___default()("test",{getSections:function(){return Promise.resolve([_data__WEBPACK_IMPORTED_MODULE_6__.b,_data__WEBPACK_IMPORTED_MODULE_6__.a])}});return talkOverlay.show(),talkOverlay.$el[0]})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_src_mobile_talk_overlays_talkBoard__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(112),_src_mobile_talk_overlays_talkBoard__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_src_mobile_talk_overlays_talkBoard__WEBPACK_IMPORTED_MODULE_2__),_src_mobile_startup_Section__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(62),_src_mobile_startup_Section__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_src_mobile_startup_Section__WEBPACK_IMPORTED_MODULE_3__),_data__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__(148),__webpack_require__(206),__webpack_require__(145),__webpack_require__(61));Object(_storybook_html__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("talk").add("talkBoard (empty)",function(){return Object(_utils__WEBPACK_IMPORTED_MODULE_1__.a)(_src_mobile_talk_overlays_talkBoard__WEBPACK_IMPORTED_MODULE_2___default()([]))}).add("talkBoard (items)",function(){return Object(_utils__WEBPACK_IMPORTED_MODULE_1__.a)(_src_mobile_talk_overlays_talkBoard__WEBPACK_IMPORTED_MODULE_2___default()([new _src_mobile_startup_Section__WEBPACK_IMPORTED_MODULE_3___default.a(_data__WEBPACK_IMPORTED_MODULE_7__.b),new _src_mobile_startup_Section__WEBPACK_IMPORTED_MODULE_3___default.a(_data__WEBPACK_IMPORTED_MODULE_7__.a)]))})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(7),__webpack_require__(34);var client=__webpack_require__(0),SourceEditorOverlay=(__webpack_require__(146),__webpack_require__(713),__webpack_require__(156)),SourceEditorOverlay_default=__webpack_require__.n(SourceEditorOverlay),VisualEditorOverlay=__webpack_require__(151),VisualEditorOverlay_default=__webpack_require__.n(VisualEditorOverlay),AbuseFilterOverlay=__webpack_require__(213),AbuseFilterOverlay_default=__webpack_require__.n(AbuseFilterOverlay),util=(__webpack_require__(321),__webpack_require__(86),__webpack_require__(317),__webpack_require__(1)),util_default=__webpack_require__.n(util),previewResponse={parse:{text:{"*":"<p>The preview of your edit goes here <strong>Banana</strong></p>"}}},revisionResponse={query:{pages:[{revisions:[{content:"{{about|bananas generally|the genus to which banana plants belong|Musa (genus)|starchier bananas used in cooking|Cooking banana|other uses|Banana (disambiguation)}}",timestamp:"2019-08-21T22:14:18Z"}]}]}},blockResponse={query:{pages:[{actions:{edit:[{data:{blockinfo:{blockid:1,partial:!0,blockedby:"Jon",reason:"Constant vandalism",duration:"10 days",expiry:"Sept 1st"}},code:"blocked"}]},revisions:[{content:"{{about|bananas generally|the genus to which banana plants belong|Musa (genus)|starchier bananas used in cooking|Cooking banana|other uses|Banana (disambiguation)}}",timestamp:"2019-08-21T22:14:18Z"}]}]}},saveSuccessResponse={edit:{result:"Success"}},fakeApi={postWithToken:function(){return util_default.a.Deferred().resolve(saveSuccessResponse)},post:function(){return util_default.a.Deferred().resolve(previewResponse)},get:function(){return Promise.resolve(revisionResponse)}},blockedApi={get:function(){return Promise.resolve(blockResponse)}};window.ve={init:{mw:{targetFactory:{create:function(){return{load:function(){return Promise.resolve({})},once:function(){}}}}}}},Object(client.storiesOf)("editor").add("AbuseFilterOverlay",function(){var overlay=new AbuseFilterOverlay_default.a({message:'There is a problem. <strong>Oh no!</strong> Any <A href="/wiki/Banana">links</a> will open in new tabs.'});return overlay.show(),overlay.$el[0]}).add("VisualEditorOverlay",function(){var overlay=new VisualEditorOverlay_default.a({title:"Banana",visualEditorConfig:{},editorOptions:{}});return overlay.show(),overlay.$el[0]}).add("VisualEditorOverlay (with anon warning)",function(){var overlay=new VisualEditorOverlay_default.a({isAnon:!0,visualEditorConfig:{},editorOptions:{title:"Banana",mode:"visual",dataPromise:Promise.resolve({})}});return overlay.show(),overlay.$el[0]}).add("SourceEditorOverlay (with anon warning)",function(){var overlay=new SourceEditorOverlay_default.a({title:"Banana",isAnon:!0,api:fakeApi,editorOptions:{},visualEditorConfig:{}});return overlay.show(),overlay.$el[0]}).add("SourceEditorOverlay (blocked user)",function(){var overlay=new SourceEditorOverlay_default.a({title:"Banana",api:blockedApi,editorOptions:{},visualEditorConfig:{}});return overlay.show(),overlay.$el[0]}).add("SourceEditorOverlay",function(){var overlay=new SourceEditorOverlay_default.a({title:"Banana",api:fakeApi,editorOptions:{},visualEditorConfig:{}});return overlay.show(),overlay.$el[0]})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(7),__webpack_require__(34);var client=__webpack_require__(0),CategoryAddOverlay=(__webpack_require__(146),__webpack_require__(700),__webpack_require__(337)),CategoryAddOverlay_default=__webpack_require__.n(CategoryAddOverlay),CategoryTabs=__webpack_require__(212),CategoryTabs_default=__webpack_require__.n(CategoryTabs),categoryOverlay=__webpack_require__(338),categoryOverlay_default=__webpack_require__.n(categoryOverlay),categoriesResponse=(__webpack_require__(708),{query:{pages:[{pageid:38940,ns:0,title:"Banana",categories:[{ns:14,title:"Category:All articles containing potentially dated statements",hidden:!0},{ns:14,title:"Category:Articles containing Spanish-language text",hidden:!0},{ns:14,title:"Category:Articles containing potentially dated statements from January 2013",hidden:!0},{ns:14,title:"Category:Articles with 'species' microformats",hidden:!0},{ns:14,title:"Category:Articles with short description",hidden:!0},{ns:14,title:"Category:Bananas",hidden:!1},{ns:14,title:"Category:CS1 German-language sources (de)",hidden:!0},{ns:14,title:"Category:Fiber plants",hidden:!1},{ns:14,title:"Category:Interlanguage link template link number",hidden:!0},{ns:14,title:"Category:Staple foods",hidden:!1},{ns:14,title:"Category:Taxobox articles possibly missing a taxonbar",hidden:!0},{ns:14,title:"Category:Tropical agriculture",hidden:!1},{ns:14,title:"Category:Tropical fruit",hidden:!1},{ns:14,title:"Category:Use mdy dates from August 2018",hidden:!0},{ns:14,title:"Category:Webarchive template wayback links",hidden:!0},{ns:14,title:"Category:Wikipedia articles with GND identifiers",hidden:!0},{ns:14,title:"Category:Wikipedia articles with NDL identifiers",hidden:!0},{ns:14,title:"Category:Wikipedia indefinitely move-protected pages",hidden:!0},{ns:14,title:"Category:Wikipedia indefinitely semi-protected pages",hidden:!0}]}]}});Object(client.storiesOf)("categories").add("CategoryTabs",function(){return new CategoryTabs_default.a({title:"Foo",eventBus:{on:function(){},off:function(){}},subheading:"Look at these categories",api:{get:function(){return Promise.resolve(categoriesResponse)}}}).$el[0]}).add("categoryOverlay",function(){var o=categoryOverlay_default()({title:"Foo",eventBus:{on:function(){},off:function(){}},api:{get:function(){return Promise.resolve(categoriesResponse)}}});return o.show(),o.$el[0]}).add("CategoryAddOverlay",function(){var o=new CategoryAddOverlay_default.a({title:"Foo",eventBus:{on:function(){},off:function(){}},api:{get:function(){return Promise.resolve(categoriesResponse)}}});return o.show(),o.$el[0]})}],[[348,1,2]]]);
//# sourceMappingURL=main.ec007fdb04bb484d2999.bundle.js.map